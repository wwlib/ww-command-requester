{"version":3,"sources":["../../node_modules/browser-pack/_prelude.js","../command-protocol/lib/command-protocol.js","src/CommandRequester.ts","src/UUID.ts","src/connection/ConnectionManager.ts","src/events/Event.ts","src/requests/RequestAPI.ts","src/requests/index.ts","src/requests/v1/Session.ts","src/requests/v1/assets/Assets.ts","src/requests/v1/assets/requesters/Assets.ts","src/requests/v1/config/Config.ts","src/requests/v1/config/requesters/Config.ts","src/requests/v1/display/Display.ts","src/requests/v1/display/requesters/Display.ts","src/requests/v1/display/requesters/Gesture.ts","src/requests/v1/expression/Expression.ts","src/requests/v1/expression/requesters/Attention.ts","src/requests/v1/expression/requesters/Look.ts","src/requests/v1/expression/requesters/Say.ts","src/requests/v1/index.ts","src/requests/v1/listen/Listen.ts","src/requests/v1/listen/requesters/HotWord.ts","src/requests/v1/listen/requesters/Listen.ts","src/requests/v1/media/Media.ts","src/requests/v1/media/requesters/Photo.ts","src/requests/v1/media/requesters/Video.ts","src/requests/v1/perception/Perception.ts","src/requests/v1/perception/requesters/FaceTrack.ts","src/requests/v1/perception/requesters/HeadTouch.ts","src/requests/v1/perception/requesters/Motion.ts","src/requests/v2/Display.ts","src/requests/v2/Listen.ts","src/requests/v2/Play.ts","src/requests/v2/SLIM.ts","src/requests/v2/emotion/ImpactEmotion.ts","src/requests/v2/emotion/index.ts","src/requests/v2/index.ts","src/requests/v2/perception/SetPresentPerson.ts","src/requests/v2/perception/index.ts","src/requests/v2/structural/Parallel.ts","src/requests/v2/structural/Sequence.ts","src/requests/v2/structural/index.ts","src/tokens/RequestToken.ts","src/utils/ExternalPromise.ts","src/index.ts"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9OA,sEAA+D;AAG/D,yCAAgC;AAChC,IAAO,OAAO,GAAG,aAAE,CAAC,OAAO,CAAC,OAAO,CAAC;AACpC,IAAO,UAAU,GAAG,aAAE,CAAC,UAAU,CAAC,UAAU,CAAC;AAC7C,IAAO,OAAO,GAAG,aAAE,CAAC,OAAO,CAAC,OAAO,CAAC;AACpC,IAAO,MAAM,GAAG,aAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACjC,IAAO,KAAK,GAAG,aAAE,CAAC,KAAK,CAAC,KAAK,CAAC;AAC9B,IAAO,UAAU,GAAG,aAAE,CAAC,UAAU,CAAC,UAAU,CAAC;AAC7C,IAAO,MAAM,GAAG,aAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACjC,IAAO,MAAM,GAAG,aAAE,CAAC,MAAM,CAAC,MAAM,CAAC;AACjC,6DAAkD;AAClD,0CAAqC;AACrC,iCAA6C;AAC7C,qEAAiE;AAajE;IAgCI;QACI,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;QAC1B,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,gBAAgB,GAAG,IAAI,GAAG,EAAE,CAAC;QAClC,IAAI,CAAC,UAAU,GAAG,IAAI,2BAAiB,EAAE,CAAC;QAC1C,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtD,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,IAAI,EAAE,EAAE;YACrC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,IAAI,EAAC,IAAI,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAC,CAAC,CAAC;QAClE,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,CAAC;QAC/B,IAAI,CAAC,KAAK,GAAG,IAAI,KAAK,CAAC,IAAI,CAAC,CAAC;QAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,CAAC;QACvC,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,IAAI,CAAC,CAAC;QACjC,IAAI,CAAC,YAAY,GAAG,IAAI,aAAK,CAAC,cAAc,CAAC,CAAC;IAClD,CAAC;IASM,OAAO,CAAC,SAAgB,EAAE,OAAa;QAE1C,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,OAAO,CAAC,GAAG,CAAC,4BAA4B,CAAC,CAAC;QAC1C,MAAM,CAAE,IAAI,CAAC,UAAgC,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC;aACxE,IAAI,CAAC,GAAG,EAAE;YACP,OAAO,CAAC,GAAG,CAAC,6CAA6C,CAAC,CAAC;YAE3D,MAAM,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;YACnC,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,MAAM,EAAE,EAAE;gBAClC,OAAO,CAAC,GAAG,CAAC,8CAA8C,EAAE,MAAM,CAAC,CAAC;gBAEpE,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC;gBAChD,IAAI,CAAC,SAAS,GAAG,MAAM,CAAC,YAAY,CAAC,SAAS,CAAC;YACnD,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAQM,UAAU;QACb,IAAI,CAAC,UAAU,CAAC,KAAK,EAAE,CAAC;IAC5B,CAAC;IAYO,qBAAqB;QACzB,MAAM,CAAC,4BAAqB,EAAE,CAAC;IACnC,CAAC;IAKM,WAAW,CAAC,OAA2B;QAE1C,MAAM,SAAS,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAC/C,MAAM,MAAM,GAAyB;YACjC,aAAa,EAAE,SAAS;YACxB,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,OAAO,EAAE,IAAI,CAAC,YAAY;YAC1B,WAAW,EAAE,IAAI;YACjB,KAAK,EAAE,IAAI,CAAC,KAAK;SACpB,CAAC;QAEF,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,EAAE;YACnC,YAAY,EAAC,MAAM;YACnB,OAAO,EAAE,OAAc;SAC1B,CAAC,CAAC;QAEH,MAAM,CAAC,SAAS,CAAC;IACrB,CAAC;IAKM,SAAS,CAAC,KAAuB;QAEpC,KAAK,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;QAEnD,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,CAAC;QACtD,CAAC;IACL,CAAC;IAEO,SAAS,CAAC,IAAkB;QAChC,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;QAC3B,IAAI,EAAE,GAAU,IAAI,CAAC;QACrB,IAAI,GAAG,GAA2B,IAAI,CAAC;QACvC,IAAI,KAAK,GAAwB,IAAI,CAAC;QACtC,EAAE,CAAC,CAAC,6BAAU,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACzC,EAAE,GAAG,QAAQ,CAAC,cAAc,CAAC,aAAa,CAAC;YAC3C,GAAG,GAAG,QAAQ,CAAC;QACnB,CAAC;QAAC,IAAI,CAAC,EAAE,CAAA,CAAC,6BAAU,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YACrC,EAAE,GAAG,QAAQ,CAAC,WAAW,CAAC,aAAa,CAAC;YACxC,KAAK,GAAG,QAAQ,CAAC;QACrB,CAAC;QAAC,IAAI,CAAC,CAAC;YAEJ,MAAM,CAAC;QACX,CAAC;QAED,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;YAChC,MAAM,KAAK,GAAG,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;YAC5C,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;gBACN,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACzB,CAAC;YAAC,IAAI,CAAC,CAAC;gBACJ,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,CAAC;YAC7B,CAAC;YACD,EAAE,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC;gBACnB,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YACrC,CAAC;QACL,CAAC;IACL,CAAC;CACJ;AApKD,4CAoKC;AAGD,WAAiB,gBAAgB;IAqC7B,IAAiB,MAAM,CAEtB;IAFD,WAAiB,MAAM;QACL,cAAO,GAAG,kBAAQ,CAAC;IACrC,CAAC,EAFgB,MAAM,GAAN,uBAAM,KAAN,uBAAM,QAEtB;IAED,IAAiB,KAAK,CAuCrB;IAvCD,WAAiB,KAAK;QAQlB,IAAY,MAGX;QAHD,WAAY,MAAM;YACd,uBAAa,CAAA;YACb,yBAAe,CAAA;QACnB,CAAC,EAHW,MAAM,GAAN,YAAM,KAAN,YAAM,QAGjB;QAUD,IAAY,gBAKX;QALD,WAAY,gBAAgB;YACxB,oCAAgB,CAAA;YAChB,kCAAc,CAAA;YACd,kCAAc,CAAA;YACd,sCAAkB,CAAA;QACtB,CAAC,EALW,gBAAgB,GAAhB,sBAAgB,KAAhB,sBAAgB,QAK3B;QAQD,IAAY,SAIX;QAJD,WAAY,SAAS;YACjB,8BAAiB,CAAA;YAEjB,4BAAe,CAAA;QACnB,CAAC,EAJW,SAAS,GAAT,eAAS,KAAT,eAAS,QAIpB;IACL,CAAC,EAvCgB,KAAK,GAAL,sBAAK,KAAL,sBAAK,QAuCrB;IAcD,IAAiB,UAAU,CAsG1B;IAtGD,WAAiB,UAAU;QA2FvB,IAAY,aAUX;QAVD,WAAY,aAAa;YACrB,4BAAW,CAAA;YACX,8BAAa,CAAA;YACb,wCAAuB,CAAA;YACvB,oCAAmB,CAAA;YACnB,sCAAqB,CAAA;YACrB,oCAAmB,CAAA;YACnB,4CAA2B,CAAA;YAC3B,8BAAa,CAAA;YACb,oCAAmB,CAAA;QACvB,CAAC,EAVW,aAAa,GAAb,wBAAa,KAAb,wBAAa,QAUxB;IACL,CAAC,EAtGgB,UAAU,GAAV,2BAAU,KAAV,2BAAU,QAsG1B;IAED,IAAiB,OAAO,CAsEvB;IAtED,WAAiB,OAAO;QAkDpB,IAAY,iBAMX;QAND,WAAY,iBAAiB;YACzB,gCAAW,CAAA;YACX,wCAAmB,CAAA;YACnB,4CAAuB,CAAA;YACvB,4CAAuB,CAAA;YACvB,8CAAyB,CAAA;QAC7B,CAAC,EANW,iBAAiB,GAAjB,yBAAiB,KAAjB,yBAAiB,QAM5B;IAcL,CAAC,EAtEgB,OAAO,GAAP,wBAAO,KAAP,wBAAO,QAsEvB;AACL,CAAC,EA7QgB,gBAAgB,GAAhB,wBAAgB,KAAhB,wBAAgB,QA6QhC;;;;;AC/cD;IACI,EAAE,CAAA,CAAC,OAAO,OAAO,KAAK,QAAQ,CAAC,CAAC,CAAC;QAC7B,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,CAAC,CAAC;QACjC,MAAM,UAAU,GAAG,IAAI,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;QAC3C,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACrE,CAAC;IACD,MAAM,CAAC,IAAI,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;AACzC,CAAC;AAPD,sDAOC;;;;;ACRD,2CAAsC;AAGtC,MAAM,IAAI,GAAG,IAAI,CAAC;AAClB,MAAM,IAAI,GAAG,OAAO,OAAO,KAAK,QAAQ,CAAC;AAgBzC;IAOI;QACI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACjD,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QAEvC,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;QAC3B,IAAI,CAAC,SAAS,GAAG,IAAI,aAAK,CAAC,WAAW,CAAC,CAAC;QACxC,IAAI,CAAC,YAAY,GAAG,IAAI,aAAK,CAAC,cAAc,CAAC,CAAC;QAC9C,IAAI,CAAC,OAAO,GAAG,IAAI,aAAK,CAAC,kBAAkB,CAAC,CAAC;IACjD,CAAC;IAEM,OAAO,CAAC,SAAgB,EAAE,OAAW;QACxC,EAAE,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAC9B,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,EAAC,KAAK,EAAC,SAAS,EAAC,CAAC,CAAC;QAC9C,CAAC;QAED,MAAM,CAAC,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACnC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;YAC3B,IAAI,CAAC,cAAc,iBAAE,QAAQ,EAAE,SAAS,IAAK,OAAO,GAAG,CAAC,GAAG,EAAE,EAAE;gBAC3D,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;gBAC5B,MAAM,CAAC,GAAG,CAAC,CAAC;YAChB,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;IACP,CAAC;IAEM,KAAK;QACR,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC;YACtC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;QACzC,CAAC;QACD,IAAI,CAAC,gBAAgB,GAAG,EAAE,CAAC;IAC/B,CAAC;IAEM,WAAW,CAAC,IAAY;QAC3B,MAAM,CAAC,IAAI,IAAI,IAAI,CAAC,gBAAgB,CAAC;IACzC,CAAC;IAEM,MAAM,CAAC,IAAY,EAAE,OAAwB;QAChD,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAA,CAAC;YACzB,MAAM,CAAC;QACX,CAAC;QAGD,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACN,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAmB,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;QACjF,CAAC;QAAC,IAAI,CAAC,CAAC;YACH,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAe,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC;QAC7E,CAAC;IACL,CAAC;IAWO,cAAc,CAAC,QAA2B,EAAE,OAAkB;QAClE,MAAM,EAAC,QAAQ,EAAC,GAAG,QAAQ,CAAC;QAC5B,MAAM,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,IAAI,CAAC;QACnC,MAAM,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;QAC9C,MAAM,gBAAgB,GAAW,GAAG,QAAQ,MAAM,QAAQ,IAAI,IAAI,EAAE,CAAC;QACrE,MAAM,OAAO,GAAG,QAAQ,CAAC,IAAI;YACzB,CAAC,CAAC;gBACE,GAAG,EAAE,QAAQ,CAAC,GAAG;gBACjB,IAAI,EAAE,QAAQ,CAAC,IAAI;gBACnB,kBAAkB,EAAE,KAAK;aAC5B;YACD,CAAC,CAAC,EAAE,CAAC;QACT,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAClC,IAAI,CAAC;gBACD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC,KAAK,EAAE,CAAC;YAC5C,CAAC;YAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAEb,CAAC;YACD,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;QAC3C,CAAC;QACD,IAAI,CAAC;YACD,IAAI,SAAoC,CAAC;YACzC,EAAE,CAAA,CAAC,IAAI,CAAC,CAAC,CAAC;gBACN,MAAM,SAAS,GAAyB,OAAO,CAAC,IAAI,CAAC,CAAC;gBACtD,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,IAAI,SAAS,CAAC,gBAAgB,EAAE,OAAO,CAAC,CAAC;YAC3F,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,SAAS,GAAG,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,IAAI,SAAS,CAAC,gBAAgB,CAAC,CAAC;YAClF,CAAC;YACD,MAAM,aAAa,GAAG,CAAC,CAAC,EAAM,EAAE;gBAC5B,EAAE,CAAC,CAAC,OAAO,CAAC,CAAA,CAAC;oBACT,OAAO,CAAC,CAAC,CAAC,CAAC;gBACf,CAAC;gBACD,SAAS,CAAC,OAAO,GAAG,GAAG,EAAE,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;gBACtC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,EAAE,oBAAoB,CAAC,CAAC;gBAChD,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;oBACN,SAA2B,CAAC,mBAAmB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;gBAC7E,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACH,SAAuB,CAAC,mBAAmB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;gBACzE,CAAC;YACL,CAAC,CAAC;YACF,MAAM,OAAO,GAAG,CAAC,CAAC,EAAE,EAAE,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;YAChE,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;gBACN,SAA2B,CAAC,gBAAgB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;gBACrE,SAA2B,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAG,EAAE;oBACvD,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,SAA0B,CAAC,CAAC;gBAC5D,CAAC,CAAC,CAAC;gBACF,SAA2B,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YACpE,CAAC;YAAC,IAAI,CAAC,CAAC;gBACH,SAAuB,CAAC,gBAAgB,CAAC,OAAO,EAAE,aAAa,CAAC,CAAC;gBACjE,SAAuB,CAAC,gBAAgB,CAAC,MAAM,EAAE,GAAG,EAAE;oBACnD,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,SAAsB,CAAC,CAAC;gBACxD,CAAC,CAAC,CAAC;gBACF,SAAuB,CAAC,gBAAgB,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;YAChE,CAAC;QACL,CAAC;QAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACX,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,IAAI,CAAC;QAC3C,CAAC;IACL,CAAC;IAEO,YAAY,CAAC,QAAe,EAAE,EAA2B;QAE7D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,KAAK,EAAE,QAAQ,EAAE,CAAC,CAAC;QACzC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,CAAC,GAAG,EAAE,CAAC;QACrC,MAAM,QAAQ,GAAG,CAAC,OAAO,EAAE,EAAE;YAEzB,EAAE,CAAC,CAAE,OAAe,CAAC,IAAI,CAAC,CAAC,CAAC;gBAAC,OAAO,GAAI,OAAe,CAAC,IAAI,CAAC;YAAC,CAAC;YAG/D,IAAI,GAAG,GAAQ,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;YAC9C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,EAAC,KAAK,EAAC,QAAQ,EAAE,IAAI,EAAE,GAAG,EAAC,CAAC,CAAC;QACnD,CAAC,CAAC;QACF,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;YACN,EAAoB,CAAC,gBAAgB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;QAChE,CAAC;QAAC,IAAI,CAAC,CAAC;YACH,EAAgB,CAAC,gBAAgB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;QAC5D,CAAC;IACL,CAAC;IAEO,OAAO,CAAC,KAAa,EAAE,IAAW,EAAE,MAAa;QACrD,EAAE,CAAC,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YAC/B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAC,KAAK,EAAE,IAAI,EAAE,MAAM,EAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,KAAK,EAAE,CAAC;YACrC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;QACxC,CAAC;IACL,CAAC;CACJ;AAtJD,oCAsJC;;;;;ACtKD,IAAY,WAIX;AAJD,WAAY,WAAW;IACrB,4CAA6B,CAAA;IAC7B,8CAA+B,CAAA;IAC/B,4CAA6B,CAAA;AAC/B,CAAC,EAJW,WAAW,GAAX,mBAAW,KAAX,mBAAW,QAItB;AAGD;IAiBE,YAAmB,IAAY;QAAZ,SAAI,GAAJ,IAAI,CAAQ;QAfvB,gBAAW,GAAG,IAAI,GAAG,EAAgC,CAAC;QACtD,YAAO,GAAoB,EAAE,CAAC;QAC9B,kBAAa,GAAG,EAAE,CAAC;QAOnB,iBAAY,GAAe,WAAW,CAAC,YAAY,CAAC;IAQ5D,CAAC;IAKD,SAAS;QACP,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;IAC9B,CAAC;IAQD,eAAe,CAAC,CAAS;QACvB,IAAI,CAAC,aAAa,GAAG,CAAC,CAAC;QACvB,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAMD,eAAe;QACb,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC;IAC5B,CAAC;IAMD,IAAI,CAAC,OAAsB;QACzB,IAAI,cAAc,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACnD,EAAE,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC;YACpB,cAAc,GAAG,CAAC,IAAI,EAAE,EAAE;gBACxB,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBACjC,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC;gBACpC,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,CAAC;YACF,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;QAChD,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;IACjC,CAAC;IAMD,EAAE,CAAC,OAAsB;QACvB,EAAE,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC;YAC9C,OAAO,CAAC,IAAI,CAAC,UAAU,IAAI,CAAC,IAAI,oBAAoB,IAAI,CAAC,aAAa,YAAY,EAAE,IAAI,KAAK,EAAE,CAAC,KAAK,CAAC,CAAC;QACzG,CAAC;QACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAC3B,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAMD,kBAAkB;QAChB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IAClD,CAAC;IAMD,mBAAmB;QAEjB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5B,CAAC;IAOD,WAAW,CAAC,OAAsB;QAChC,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC;IAC1B,CAAC;IAOD,cAAc,CAAC,OAAsB;QAEnC,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QAC1C,OAAO,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC;YACpB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;YAC9B,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC/C,CAAC;QAGD,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QAClD,EAAE,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;YAChB,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;YAC9C,OAAO,KAAK,KAAK,CAAC,CAAC,EAAE,CAAC;gBACpB,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;gBAC9B,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;YACnD,CAAC;YACD,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACnC,CAAC;QAED,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAOD,GAAG,CAAC,OAAsB;QACxB,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACtC,CAAC;IAMD,kBAAkB;QAChB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;QACzB,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAOD,IAAI,CAAC,IAAW;QAEd,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,KAAK,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC;YAKnD,IAAI,IAAI,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;YAE5B,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAG,CAAC;gBACtC,IAAI,OAAO,GAAQ,IAAI,CAAC,CAAC,CAAQ,CAAC;gBAClC,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC;QACH,CAAC;QAED,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,KAAK,WAAW,CAAC,YAAY,CAAC,CAAC,CAAC;YACxD,IAAI,OAAO,GAAQ,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;YACzD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC;YACD,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC;QACnB,CAAC;QAED,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,YAAY,KAAK,WAAW,CAAC,aAAa,CAAC,CAAC,CAAC;YACzD,IAAI,OAAO,GAAQ,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;YACnC,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;gBACZ,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC;YACD,MAAM,CAAC,CAAC,CAAC,OAAO,CAAC;QACnB,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC;IACjC,CAAC;IAOM,OAAO,CAAC,IAAgB;QAC7B,EAAE,CAAA,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACtB,MAAM,IAAI,KAAK,CAAC,mFAAmF,CAAC,CAAC;QACvG,CAAC;QACD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;IAC3B,CAAC;IAOM,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;QAC3B,MAAM,CAAC,IAAI,OAAO,CAAE,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;YACtC,IAAI,aAAkB,CAAC;YAEvB,MAAM,YAAY,GAAG,IAAI,CAAC,EAAE;gBAC1B,EAAE,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC;oBAClB,YAAY,CAAC,aAAa,CAAC,CAAC;gBAC9B,CAAC;gBACD,OAAO,CAAC,IAAI,CAAC,CAAC;YAChB,CAAC,CAAC;YAGF,EAAE,CAAC,CAAC,SAAS,GAAG,CAAC,CAAC,CAAC,CAAC;gBAClB,aAAa,GAAG,UAAU,CAAC,GAAG,EAAE;oBAC9B,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,CAAC;oBAClC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACpB,CAAC,EAAE,SAAS,CAAC,CAAC;YAChB,CAAC;YAED,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;QAC1B,CAAC,CAAC,CAAC;IACL,CAAC;IAMD,aAAa;QACX,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;IAC7B,CAAC;CACF;AA3OD,sBA2OC;;;;;ACnPD;IAGI,YAAY,KAAsB;QAC9B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IAIM,SAAS,CAAC,KAAQ;QACrB,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;CACJ;AAZD,6BAYC;;;;;ACfD,2BAA2B;AAIvB,gBAAE;AAHN,2BAA2B;AAIvB,gBAAE;;;;;ACLN,4DAAqD;AAErD,8CAAuC;AACvC,6DAAkE;AASlE,kBAA0B,SAAQ,sBAA6D;IAG3F,YAAY,KAAsB,EAAE,QAAgC;QAChE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;QACD,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,KAAK,+BAAY,CAAC,EAAE,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,QAAmC,CAAC,CAAC;YAChE,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;IAE7C,CAAC;CACJ;AA9BD,oCA8BC;AAMD,aAAqB,SAAQ,oBAAgD;IAQzE,MAAM,CAAC,gBAAgB;QACnB,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,YAAY;SAClC,CAAC;IACN,CAAC;IAOM,KAAK;QACR,MAAM,QAAQ,GAAG,OAAO,CAAC,gBAAgB,EAAE,CAAC;QAC5C,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC9C,CAAC;IAUM,aAAa,CAAC,QAAgC,EAAE,OAAO,GAAC,KAAK;QAChE,MAAM,KAAK,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACrD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AA/CD,0BA+CC;;;;;AC9FD,gDAI6B;AAM7B;IAII,YAAY,SAA0B;QAClC,IAAI,CAAC,eAAe,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC,CAAC;IAC1D,CAAC;IASM,IAAI,CAAC,GAAW,EAAE,IAAY;QACjC,MAAM,QAAQ,GAAG,eAAe,CAAC,oBAAoB,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;QACjE,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAoB,CAAC;IACjF,CAAC;IAQM,MAAM,CAAC,IAAY;QACtB,MAAM,QAAQ,GAAG,eAAe,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;QAC9D,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAqB,CAAC;IAClF,CAAC;CACJ;AA9BD,wBA8BC;;;;;ACzCD,kEAA2D;AAE3D,oDAA6C;AAC7C,6DAAyF;AAOzF,qBAA6B,SAAQ,sBAAgE;IAGjG,YAAY,KAAsB,EAAE,QAAmC;QACnE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;QAChC,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACpB,KAAK,mCAAgB,CAAC,UAAU;gBAC5B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAChC,KAAK,CAAC;YACV,KAAK,mCAAgB,CAAC,WAAW;gBAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBAC/B,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AApCD,0CAoCC;AAOD,sBAA8B,SAAQ,sBAAkE;IAGpG,YAAY,KAAsB,EAAE,QAAoC;QACpE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;QAChC,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACpB,KAAK,oCAAiB,CAAC,eAAe;gBAClC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAChC,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,iBAAiB;gBACpC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;gBAC/B,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AApCD,4CAoCC;AAOD,YAAoB,SAAQ,oBAAsG;IAU9H,MAAM,CAAC,oBAAoB,CAAC,GAAW,EAAE,IAAY;QACjD,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,UAAU;YAC7B,GAAG,EAAE,GAAG;YACR,IAAI,EAAE,IAAI;SACb,CAAC;IACN,CAAC;IASD,MAAM,CAAC,sBAAsB,CAAC,IAAY;QACtC,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,WAAW;YAC9B,IAAI,EAAE,IAAI;SACb,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAAgE,EAAE,OAAO,GAAC,KAAK;QAChG,IAAI,KAAyC,CAAC;QAC9C,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,KAAK,+BAAY,CAAC,UAAU,CAAC,CAAC,CAAC;YAC5C,KAAK,GAAG,IAAI,eAAe,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACtD,CAAC;QAAC,IAAI,CAAC,EAAE,CAAC,CAAC,QAAQ,CAAC,IAAI,KAAK,+BAAY,CAAC,WAAW,CAAC,CAAC,CAAC;YACpD,KAAK,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvD,CAAC;QACD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AA5DD,wBA4DC;;;;;AC3JD,gDAI6B;AAM7B;IAII,YAAY,SAA0B;QAClC,IAAI,CAAC,eAAe,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC,CAAC;IAC1D,CAAC;IAOM,GAAG;QACN,MAAM,QAAQ,GAAG,eAAe,CAAC,gBAAgB,EAA8B,CAAC;QAChF,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAmB,CAAC;IAChF,CAAC;IAQM,GAAG,CAAC,OAAiD;QACxD,MAAM,QAAQ,GAAG,eAAe,CAAC,gBAAgB,CAAC;YAC9C,KAAK,EAAE,OAAO,CAAC,KAAK;SACvB,CAA6B,CAAC;QAC/B,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAmB,CAAC;IAChF,CAAC;CACJ;AA9BD,wBA8BC;;;;;ACzCD,kEAA2D;AAE3D,oDAA6C;AAC7C,6DAAqF;AAOrF,oBAA4B,SAAQ,sBAAsC;IAGtE,YAAY,KAAsB,EAAE,QAAkC;QAClE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAC5B,KAAK,oCAAiB,CAAC,IAAI;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;gBACzB,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,KAAK;gBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACvC,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AAnCD,wCAmCC;AAOD,oBAA4B,SAAQ,sBAA2D;IAG3F,YAAY,KAAsB,EAAE,QAAkC;QAClE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,IAAI,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;QAC9B,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACpB,KAAK,+BAAY,CAAC,QAAQ;gBACtB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAChC,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AAhCD,wCAgCC;AAOD,YAAoB,SAAQ,oBAAgG;IAQxH,MAAM,CAAC,gBAAgB,CAAC,OAAkC;QACtD,EAAE,CAAA,CAAC,OAAO,CAAC,CAAC,CAAC;YACT,MAAM,CAAC;gBACH,IAAI,EAAE,+BAAY,CAAC,SAAS;gBAC5B,OAAO,EAAE,OAAO;aACnB,CAAC;QACN,CAAC;QACD,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,SAAS;SAC/B,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAA6D,EAAE,OAAO,GAAC,KAAK;QAC7F,IAAI,KAAsC,CAAC;QAC3C,EAAE,CAAA,CAAC,QAAQ,CAAC,IAAI,KAAK,+BAAY,CAAC,SAAS,CAAC,CAAC,CAAC;YAC1C,KAAK,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACrD,CAAC;QAAC,IAAI,CAAC,EAAE,CAAA,CAAC,QAAQ,CAAC,IAAI,KAAK,+BAAY,CAAC,SAAS,CAAC,CAAC,CAAC;YACjD,KAAK,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACrD,CAAC;QAED,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IASM,SAAS,CAAC,KAAsC;QACnD,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;CACJ;AApDD,wBAoDC;;;;;AC/ID,gEAA2D;AAC3D,6DAAuD;AACvD,kDAA+E;AAC/E,kDAAiE;AAMjE;IAUI,YAAY,SAA0B;QAClC,IAAI,CAAC,cAAc,GAAG,IAAI,iBAAgB,CAAC,SAAS,CAAC,CAAC;QACtD,IAAI,CAAC,SAAS,GAAG,IAAI,aAAa,CAAC,SAAS,CAAC,CAAC;IAClD,CAAC;IAOM,OAAO,CAAC,IAAY;QACvB,MAAM,CAAC;YACH,IAAI,EAAE,kCAAe,CAAC,GAAG;YACzB,IAAI,EAAE,IAAI;SACM,CAAC;IACzB,CAAC;IAQM,SAAS,CAAC,IAAY,EAAE,IAAwC;QACnE,MAAM,CAAC;YACH,IAAI,EAAE,kCAAe,CAAC,KAAK;YAC3B,IAAI,EAAE,IAAI;YACV,KAAK,EAAE,IAAI;SACO,CAAC;IAC3B,CAAC;IAQM,QAAQ,CAAC,IAAY,EAAE,IAAY;QACtC,MAAM,CAAC;YACH,IAAI,EAAE,kCAAe,CAAC,IAAI;YAC1B,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;SACO,CAAC;IAC1B,CAAC;IAOM,SAAS,CAAC,IAAW;QACxB,MAAM,CAAC;YACH,IAAI,EAAE,kCAAe,CAAC,KAAK;YAC3B,IAAI,EAAE,IAAI;SACQ,CAAC;IAC3B,CAAC;IASM,IAAI,CACP,IAA4D,EAC5D,cAAiE,EACjE,eAAkE;QAElE,MAAM,QAAQ,GAAG,iBAAgB,CAAC,gBAAgB,CAAC,IAAI,EAAE,cAAc,EAAE,eAAe,CAAC,CAAC;QAC1F,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC7D,CAAC;CACJ;AAlFD,0BAkFC;AAED;IAII,YAAY,SAA2B;QACnC,IAAI,CAAC,cAAc,GAAG,IAAI,iBAAO,CAAC,SAAS,CAAC,CAAC;IACjD,CAAC;IAQD,OAAO,CAAC,SAAuD,EAAE;QAC7D,MAAM,UAAU,GAAG,MAAM;YACrB,CAAC,CAAC,mCAAgB,CAAC,OAAO,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,CAAC;YACzD,CAAC,CAAC,SAAS,CAAC;QAChB,MAAM,QAAQ,GAAG,iBAAO,CAAC,gBAAgB,CAAC;YACtC,IAAI,EAAE,MAAM,CAAC,IAAI;YACjB,IAAI,EAAE,UAAU;SACnB,CAAC,CAAC;QACH,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC7D,CAAC;CACJ;AAxBD,sCAwBC;;;;;ACrHD,kEAA2D;AAE3D,oDAA6C;AAC7C,oDAA+C;AAC/C,6DAAkG;AAQlG,kBAA0B,SAAQ,sBAAoC;IAUlE,YAAY,KAAuB,EAAE,QAAgC;QACjE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,aAAK,CAAC,QAAQ,CAAC,CAAC;IACtC,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;QAClC,MAAM,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACtB,KAAK,oCAAiB,CAAC,IAAI;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;gBACzB,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,KAAK;gBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACjC,KAAK,CAAC;YACV,KAAK,gCAAa,CAAC,eAAe;gBAC9B,MAAM,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;oBACtB,KAAK,6BAAU,CAAC,MAAM;wBAClB,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;wBACnB,KAAK,CAAC;gBACd,CAAC;QACT,CAAC;IACL,CAAC;CACJ;AAlDD,oCAkDC;AAOD,aAAqB,SAAQ,oBAAgD;IAWzE,MAAM,CAAC,gBAAgB,CACrB,IAA4D,EAC5D,cAAgE,EAChE,eAAiE;QAE/D,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,OAAO;YAC1B,IAAI,EAAE,IAAI;YACV,cAAc,EAAE,cAAc;YAC9B,eAAe,EAAE,eAAe;SACnC,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAAgC,EAAE,OAAO,GAAC,KAAK;QAChE,MAAM,KAAK,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACrD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AA/CD,0BA+CC;;;;;ACpHD,kEAA2D;AAE3D,oDAA6C;AAC7C,oDAA+C;AAC/C,6DAAyG;AAQzG,wBAAgC,SAAQ,sBAA0C;IAiB9E,YAAY,KAAuB,EAAE,QAAsC;QACvE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvB,IAAI,CAAC,GAAG,GAAG,IAAI,aAAK,CAAC,sCAAmB,CAAC,GAAG,CAAC,CAAC;QAC9C,IAAI,CAAC,KAAK,GAAG,IAAI,aAAK,CAAC,sCAAmB,CAAC,KAAK,CAAC,CAAC;IACtD,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;QAClC,MAAM,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACtB,KAAK,oCAAiB,CAAC,IAAI;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;gBACzB,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,KAAK;gBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACjC,KAAK,CAAC;YACV,KAAK,sCAAmB,CAAC,GAAG;gBACvB,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;gBACpC,KAAK,CAAC;YACX,KAAK,sCAAmB,CAAC,KAAK;gBACzB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC;gBACrC,KAAK,CAAC;QAEf,CAAC;IACL,CAAC;CACJ;AA3DD,gDA2DC;AAOD,aAAqB,SAAQ,oBAA4D;IAGrF,YAAY,SAA0B;QAClC,KAAK,CAAC,SAAS,CAAC,CAAC;IACrB,CAAC;IASD,MAAM,CAAC,gBAAgB,CAAC,SAAsC,EAAE;QAC5D,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,SAAS;YAC5B,UAAU,EAAE,8BAAW,CAAC,aAAa;YACrC,YAAY,EAAE,MAAM;SACvB,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAAsC,EAAE,OAAO,GAAC,KAAK;QACtE,MAAM,KAAK,GAAG,IAAI,kBAAkB,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QAC3D,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CAGJ;AAvCD,0BAuCC;;;;;ACrHD,4CAA8D;AAC9D,0CAA+C;AAC/C,sDAAiE;AAOjE;IAMI,YAAY,SAA0B;QAClC,IAAI,CAAC,gBAAgB,GAAG,IAAI,qBAAS,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,WAAW,GAAG,IAAI,WAAI,CAAC,SAAS,CAAC,CAAC;QACvC,IAAI,CAAC,UAAU,GAAG,IAAI,SAAG,CAAC,SAAS,CAAC,CAAC;IACzC,CAAC;IAUD,IAAI,CACA,YAAsD,EACtD,WAAqB,EACrB,YAAqB,IAAI;QAEzB,IAAI,QAAQ,CAAC;QAEb,MAAM,CAAA,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;YACvB,KAAK,OAAO;gBACR,MAAM,KAAK,GAAqB,CAAC,YAAY,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBACnF,QAAQ,GAAG,WAAI,CAAC,gBAAgB,CAAC,iBAAU,CAAC,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC5E,KAAK,CAAC;YACV,KAAK,UAAU;gBACX,MAAM,QAAQ,GAA6B,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC,EAAE,YAAY,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACvH,QAAQ,GAAG,WAAI,CAAC,gBAAgB,CAAC,iBAAU,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;gBAClF,KAAK,CAAC;YACV,KAAK,QAAQ;gBACT,MAAM,MAAM,GAAW,YAAY,CAAC,MAAM,CAAC;gBAC3C,QAAQ,GAAG,WAAI,CAAC,gBAAgB,CAAC,iBAAU,CAAC,MAAM,EAAE,MAAM,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;gBAC9E,KAAK,CAAC;YACV,KAAK,QAAQ;gBACT,MAAM,MAAM,GAAqB,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,EAAE,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;gBAChF,QAAQ,GAAG,WAAI,CAAC,gBAAgB,CAAC,iBAAU,CAAC,YAAY,EAAE,MAAM,EAAE,SAAS,EAAE,WAAW,CAAC,CAAC;gBAC1F,KAAK,CAAC;QACd,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAc,CAAC;IACvE,CAAC;IAQM,GAAG,CACN,IAAY,EACZ,YAAmC,EACnC,cAAuC;QAEvC,MAAM,QAAQ,GAAG,SAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;QAC1E,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACzD,CAAC;IAQM,YAAY,CACf,IAA+C;QAE/C,MAAM,QAAQ,GAAG,qBAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;QAClD,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC/D,CAAC;CACJ;AA5ED,gCA4EC;;;;;ACrFD,kEAA2D;AAE3D,oDAA6C;AAC7C,6DAAuE;AAOvE,oBAA4B,SAAQ,sBAAsC;IAGtE,YAAY,KAAsB,EAAE,QAAkC;QAClE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAC5B,KAAK,oCAAiB,CAAC,IAAI;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;gBACzB,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,KAAK;gBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACvC,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AAnCD,wCAmCC;AAOD,eAAuB,SAAQ,oBAAoD;IAS/E,MAAM,CAAC,gBAAgB,CAAC,IAA+C;QACnE,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,YAAY;YAC/B,IAAI,EAAE,IAAI;SACe,CAAC;IAClC,CAAC;IAUM,aAAa,CAAC,QAAkC,EAAE,OAAO,GAAC,KAAK;QAClE,MAAM,KAAK,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AAvCD,8BAuCC;;;;;AC3FD,kEAA2D;AAE3D,oDAA6C;AAC7C,6DAAqF;AAYrF,IAAY,UAKX;AALD,WAAY,UAAU;IAClB,mDAAQ,CAAA;IACR,6CAAK,CAAA;IACL,+CAAM,CAAA;IACN,2DAAY,CAAA;AAChB,CAAC,EALW,UAAU,GAAV,kBAAU,KAAV,kBAAU,QAKrB;AAoBD,eAAuB,SAAQ,sBAA+E;IAG1G,YAAY,KAAuB,EAAE,QAA+B;QAChE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;QAClC,MAAM,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACtB,KAAK,oCAAiB,CAAC,IAAI;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;gBACzB,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,KAAK;gBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACjC,KAAK,CAAC;YACV,KAAK,+BAAY,CAAC,cAAc;gBAC5B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAClC,KAAK,CAAC;YACV,KAAK,+BAAY,CAAC,eAAe;gBAC7B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;gBAClC,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AA5CD,8BA4CC;AAOD,UAAkB,SAAQ,oBAA4C;IAYlE,MAAM,CAAC,gBAAgB,CACnB,UAAsB,EACtB,MAAsF,EACtF,SAAkB,EAClB,WAAW,GAAG,KAAK;QACnB,IAAI,YAAiC,CAAC;QACtC,MAAM,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC;YACjB,KAAK,UAAU,CAAC,QAAQ;gBACpB,YAAY,GAAG,EAAE,QAAQ,EAAE,MAAyB,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC;gBACzE,KAAK,CAAC;YACV,KAAK,UAAU,CAAC,KAAK;gBACjB,YAAY,GAAG,EAAE,KAAK,EAAE,MAA6B,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;gBACvE,KAAK,CAAC;YACV,KAAK,UAAU,CAAC,MAAM;gBAClB,YAAY,GAAG,EAAE,MAAM,EAAE,MAA8B,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;gBAC1E,KAAK,CAAC;YACV,KAAK,UAAU,CAAC,YAAY;gBACxB,YAAY,GAAG,EAAE,YAAY,EAAE,MAAyB,EAAE,IAAI,EAAE,QAAQ,EAAE,CAAC;gBAC3E,KAAK,CAAC;QACd,CAAC;QACD,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,MAAM;YACzB,YAAY,EAAE,YAAY;YAC1B,SAAS,EAAE,WAAW;YACtB,aAAa,EAAE,SAAS;SAC3B,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAA+B,EAAE,OAAO,GAAC,KAAK;QAC/D,MAAM,KAAK,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QAElD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AAhED,oBAgEC;;;;;AC3JD,kEAA2D;AAE3D,oDAA6C;AAC7C,6DAAuE;AAOvE,cAAsB,SAAQ,sBAAgC;IAG1D,YAAY,KAAsB,EAAE,QAA4B;QAC5D,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,CAAC,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YAC5B,KAAK,oCAAiB,CAAC,IAAI;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;gBACzB,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,KAAK;gBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;gBACvC,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AAnCD,4BAmCC;AAOD,SAAiB,SAAQ,oBAAwC;IAW7D,MAAM,CAAC,gBAAgB,CAAC,OAAe,EAAE,YAAkC,EAAE,cAAsC;QAC/G,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,GAAG;YACtB,IAAI,EAAE,OAAO;YACb,YAAY,EAAE,YAAY;YAC1B,cAAc,EAAE,cAAc;SACjC,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAA4B,EAAE,OAAO,GAAC,KAAK;QAC5D,MAAM,KAAK,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACjD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AA3CD,kBA2CC;;;;;AC/FD,0CAA0C;AAUtC,wBAAM;AATV,0CAA0C;AAUtC,wBAAM;AATV,6CAA6C;AAUzC,0BAAO;AATX,sDAAsD;AAUlD,gCAAU;AATd,0CAA0C;AAUtC,wBAAM;AATV,uCAAuC;AAUnC,sBAAK;AATT,qCAAqC;AAWjC,0BAAO;AAVX,sDAAsD;AASlD,gCAAU;;;;;ACfd,gDAA2E;AAC3E,kDAAqE;AAMrE;IAUI,YAAY,SAA0B;QAClC,IAAI,CAAC,aAAa,GAAG,IAAI,eAAe,CAAC,SAAS,CAAC,CAAC;QACpD,IAAI,CAAC,SAAS,GAAG,IAAI,aAAa,CAAC,SAAS,CAAC,CAAC;IAClD,CAAC;IAWM,KAAK,CACR,mBAA2B,EAAE,EAC7B,qBAA6B,EAAE,EAC/B,eAAuB,OAAO;QAE9B,MAAM,QAAQ,GAAG,eAAe,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,kBAAkB,EAAE,YAAY,CAAC,CAAC;QACtG,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAgB,CAAC;IAC3E,CAAC;CACJ;AAhCD,wBAgCC;AAED;IAII,YAAY,SAA2B;QACnC,IAAI,CAAC,cAAc,GAAG,IAAI,iBAAO,CAAC,SAAS,CAAC,CAAC;IACjD,CAAC;IAUM,OAAO,CAAC,MAAM,GAAG,KAAK,EAAE,OAAO,GAAG,kBAAQ,CAAC,QAAQ;QACtD,MAAM,QAAQ,GAAG,iBAAO,CAAC,gBAAgB,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;QAC3D,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC7D,CAAC;CACJ;AApBD,sCAoBC;;;;;AC9DD,kEAA2D;AAE3D,oDAA+C;AAC/C,oDAA6C;AAC7C,6DAAgF;AAEhF,IAAY,QAEX;AAFD,WAAY,QAAQ;IAChB,iCAAuB,CAAA;AAC3B,CAAC,EAFW,QAAQ,GAAR,gBAAQ,KAAR,gBAAQ,QAEnB;AAOD,kBAA0B,SAAQ,sBAAoC;IAiBlE,YAAY,KAAsB,EAAE,QAAgC;QAChE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvB,IAAI,CAAC,YAAY,GAAG,IAAI,aAAK,CAAC,gBAAgB,CAAC,CAAC;QAChD,IAAI,CAAC,YAAY,GAAG,IAAI,aAAK,CAAC,iBAAiB,CAAC,CAAC;IACrD,CAAC;IAKD,SAAS,CAAC,GAA2B;QAEjC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKD,WAAW,CAAC,KAA0B;QAElC,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;QAChC,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACpB,KAAK,gCAAa,CAAC,YAAY;gBAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAChC,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AA/CD,oCA+CC;AAOD,aAAqB,SAAQ,oBAAgD;IAEzE,YAAY,SAA0B;QAClC,KAAK,CAAC,SAAS,CAAC,CAAC;IACrB,CAAC;IASD,MAAM,CAAC,gBAAgB,CAAC,MAAM,GAAG,KAAK,EAAE,OAAO,GAAG,QAAQ,CAAC,QAAQ;QAC/D,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,SAAS;YAC5B,UAAU,EAAE,8BAAW,CAAC,OAAO;YAC/B,YAAY,EAAE,EAAE;YAChB,MAAM,EAAE,MAAM;SACjB,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAAgC,EAAE,OAAO,GAAC,KAAK;QAChE,MAAM,KAAK,GAAG,IAAI,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACrD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;IASM,SAAS,CAAC,KAAmB;QAChC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IAChC,CAAC;CACJ;AAhDD,0BAgDC;;;;;ACrHD,kEAA2D;AAE3D,oDAA+C;AAC/C,oDAA6C;AAC7C,6DAAqF;AAOrF,iBAAyB,SAAQ,sBAAwF;IASrH,YAAY,KAAsB,EAAE,QAA+B;QAC/D,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,aAAK,CAAC,yBAAyB,CAAC,CAAC;IACvD,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKO,WAAW,CAAC,KAA0B;QAEzC,MAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;QAClC,MAAM,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC,CAAC;YACtB,KAAK,oCAAiB,CAAC,IAAI;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAA0B,SAAS,CAAC,CAAC;gBAC1D,KAAK,CAAC;YACV,KAAK,+BAAY,CAAC,YAAY;gBAC1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAA4B,SAAS,CAAC,CAAC;gBAC7D,IAAI,CAAC,MAAM,CAAC,IAAI,CAA6B,SAAS,CAAC,CAAC;gBACxD,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,KAAK;gBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;gBACjC,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CAEL;AAjDD,kCAiDC;AAOD,YAAoB,SAAQ,oBAA8C;IAWtE,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,GAAG,EAAE,EAAE,kBAAkB,GAAG,EAAE,EAAE,YAAY,GAAG,OAAO;QAC1F,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,MAAM;YACzB,gBAAgB,EAAE,gBAAgB;YAClC,kBAAkB,EAAE,kBAAkB;YACtC,YAAY,EAAE,YAAY;SAC7B,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAA+B,EAAE,OAAO,GAAC,KAAK;QAC/D,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACpD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AA3CD,wBA2CC;;;;;AC9GD,8CAAqD;AACrD,8CAAqD;AACrD,gEAA2D;AAM3D;IAQI,YAAY,SAAS;QACjB,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAC,SAAS,CAAC,CAAC;IAC1C,CAAC;CACJ;AAXD,sBAWC;AAED;IAKI,YAAY,SAA2B;QACnC,IAAI,CAAC,YAAY,GAAG,IAAI,aAAK,CAAC,SAAS,CAAC,CAAC;QACzC,IAAI,CAAC,YAAY,GAAG,IAAI,aAAK,CAAC,SAAS,CAAC,CAAC;IAC7C,CAAC;IAUM,KAAK,CACR,SAAwC,mCAAgB,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,EAC1E,aAAsD,mCAAgB,CAAC,KAAK,CAAC,gBAAgB,CAAC,GAAG,EACjG,aAAsB,IAAI;QAE1B,MAAM,UAAU,GAAG,mCAAgB,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QACzD,MAAM,QAAQ,GAAG,aAAK,CAAC,gBAAgB,CAAC,UAAU,EAAE,UAAU,EAAE,UAAU,CAAC,CAAC;QAC5E,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAe,CAAC;IACzE,CAAC;IASM,KAAK,CACR,YAA8C,mCAAgB,CAAC,KAAK,CAAC,SAAS,CAAC,MAAM,EACrF,WAAmB,CAAC;QAEpB,MAAM,QAAQ,GAAG,aAAK,CAAC,gBAAgB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;QAC7D,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC3D,CAAC;CACJ;AA1CD,0BA0CC;;;;;AC/DD,kEAA2D;AAE3D,oDAA6C;AAC7C,6DAA+E;AAQ/E,gBAAwB,SAAQ,sBAA8D;IAG1F,YAAY,KAAsB,EAAE,QAAkC;QAClE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;IAC3B,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,+BAAY,CAAC,UAAU,CAAC,CAAC,CAAC;YACvD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;QAChC,EAAE,CAAC,CAAC,OAAO,CAAC,KAAK,KAAK,8BAAW,CAAC,SAAS,CAAC,CAAC,CAAC;YAC1C,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;QACpC,CAAC;IACL,CAAC;CACJ;AA9BD,gCA8BC;AAOD,WAAmB,SAAQ,oBAAgD;IAWvE,MAAM,CAAC,gBAAgB,CACnB,SAAoC,MAAM,EAC1C,aAA4D,QAAQ,EACpE,gBAAgB,GAAG,IAAI;QACvB,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,SAAS;YAC5B,UAAU,EAAE,UAAU;YACtB,MAAM,EAAE,MAAM;YACd,UAAU,EAAE,gBAAgB;SAC/B,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAAkC,EAAE,OAAO,GAAC,KAAK;QAClE,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACnD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CACJ;AAtCD,sBAsCC;;;;;ACtFD,kEAA2D;AAE3D,oDAA6C;AAC7C,oDAA+C;AAC/C,6DAA+E;AAO/E,gBAAwB,SAAQ,sBAAyC;IAUrE,YAAY,KAAsB,EAAE,QAA8B;QAC9D,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,IAAI,aAAK,CAAC,2BAA2B,CAAC,CAAC;IAC9D,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,+BAAY,CAAC,UAAU,CAAC,CAAC,CAAC;YACvD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,SAAS,GAAG,KAAK,CAAC,SAAS,CAAC;QAClC,EAAE,CAAC,CAAC,SAAS,CAAC,KAAK,KAAK,8BAAW,CAAC,UAAU,CAAC,CAAC,CAAC;YAC7C,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;QACzC,CAAC;IACL,CAAC;CACJ;AArCD,gCAqCC;AAOD,WAAmB,SAAQ,oBAA4C;IAUnE,MAAM,CAAC,gBAAgB,CACnB,OAAgC,QAAQ,EAAE,QAAQ,GAAG,CAAC;QACtD,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,KAAK;YACxB,QAAQ,EAAE,QAAQ;YAClB,SAAS,EAAE,IAAI;SAClB,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAA8B,EAAE,OAAO,GAAC,KAAK;QAC9D,MAAM,KAAK,GAAG,IAAI,UAAU,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACnD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AA1CD,sBA0CC;;;;;AChGD,gDAAwD;AACxD,sDAAiE;AACjE,sDAAiE;AAMjE;IAQI,YAAY,SAA0B;QAClC,IAAI,CAAC,SAAS,GAAG,IAAI,aAAa,CAAC,SAAS,CAAC,CAAC;IAClD,CAAC;CACJ;AAXD,gCAWC;AAED;IAMI,YAAY,SAA2B;QACnC,IAAI,CAAC,aAAa,GAAG,IAAI,eAAM,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAI,CAAC,gBAAgB,GAAG,IAAI,qBAAS,CAAC,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,gBAAgB,GAAG,IAAI,qBAAS,CAAC,SAAS,CAAC,CAAC;IACrD,CAAC;IAOM,SAAS;QACZ,MAAM,QAAQ,GAAG,qBAAS,CAAC,gBAAgB,EAAE,CAAC;QAC9C,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC/D,CAAC;IAOM,MAAM;QACT,MAAM,QAAQ,GAAG,eAAM,CAAC,gBAAgB,EAAE,CAAC;QAC3C,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC5D,CAAC;IAOM,IAAI;QACP,MAAM,QAAQ,GAAG,qBAAS,CAAC,gBAAgB,EAAE,CAAC;QAC9C,MAAM,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAC/D,CAAC;CACJ;AAzCD,sCAyCC;;;;;AC/DD,kEAA2D;AAE3D,oDAA6C;AAC7C,oDAA+C;AAC/C,6DAAoF;AAOpF,oBAA4B,SAAQ,sBAA0C;IAoB1E,YAAY,KAAsB,EAAE,QAA+B;QAC/D,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,aAAK,CAAC,4BAA4B,CAAC,CAAC;QACtD,IAAI,CAAC,MAAM,GAAG,IAAI,aAAK,CAAC,cAAc,CAAC,CAAC;QACxC,IAAI,CAAC,IAAI,GAAG,IAAI,aAAK,CAAC,aAAa,CAAC,CAAC;IACzC,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;QAChC,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACpB,KAAK,oCAAiB,CAAC,WAAW;gBAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACjC,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,WAAW;gBAC9B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBACjC,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,SAAS;gBAC5B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;gBAC/B,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AAzDD,wCAyDC;AAOD,eAAuB,SAAQ,oBAAiD;IAQ5E,MAAM,CAAC,gBAAgB;QACnB,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,SAAS;YAC5B,UAAU,EAAE,8BAAW,CAAC,MAAM;YAC9B,YAAY,EAAE,EAAE;SACnB,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAA+B,EAAE,OAAO,GAAC,KAAK;QAC/D,MAAM,KAAK,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AAvCD,8BAuCC;;;;;AClHD,kEAA2D;AAC3D,oDAA6C;AAE7C,oDAA+C;AAC/C,6DAAqG;AAOrG,oBAA4B,SAAQ,sBAAsC;IAYtE,YAAY,KAAsB,EAAE,QAAkC;QAClE,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,aAAK,CAAC,6BAA6B,CAAC,CAAC;IAC3D,CAAC;IAKM,SAAS,CAAC,GAA2B;QAExC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QAEzC,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;QAChC,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACpB,KAAK,oCAAiB,CAAC,IAAI;gBACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;gBACzB,KAAK,CAAC;YACV,KAAK,oCAAiB,CAAC,KAAK;gBACxB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;gBACvB,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;gBACxB,KAAK,CAAC;YACV,KAAK,kCAAe,CAAC,WAAW;gBAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;gBAC/B,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AAjDD,wCAiDC;AAOD,eAAuB,SAAQ,oBAAoD;IAQ/E,MAAM,CAAC,gBAAgB;QACnB,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,SAAS;YAC5B,UAAU,EAAE,8BAAW,CAAC,SAAS;YACjC,YAAY,EAAE,EAAE;SACnB,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAAkC,EAAE,OAAO,GAAC,KAAK;QAClE,MAAM,KAAK,GAAG,IAAI,cAAc,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AAvCD,8BAuCC;;;;;ACzGD,oDAA6C;AAC7C,kEAA2D;AAC3D,oDAA+C;AAC/C,6DAA+E;AAO/E,iBAAyB,SAAQ,sBAA0C;IAOvE,YAAY,KAAsB,EAAE,QAA+B;QAC/D,KAAK,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,IAAI,aAAK,CAAC,2BAA2B,CAAC,CAAC;IACzD,CAAC;IAKM,SAAS,CAAC,GAA2B;QACxC,EAAE,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,YAAY,IAAI,GAAG,CAAC,CAAC,CAAC;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;YACpC,MAAM,CAAC;QACX,CAAC;IACL,CAAC;IAKM,WAAW,CAAC,KAA0B;QACzC,MAAM,OAAO,GAAG,KAAK,CAAC,SAAS,CAAC;QAChC,MAAM,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC;YACpB,KAAK,+BAAY,CAAC,cAAc;gBAC5B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;gBAClC,KAAK,CAAC;QACd,CAAC;IACL,CAAC;CACJ;AAlCD,kCAkCC;AAOD,YAAoB,SAAQ,oBAA8C;IAQtE,MAAM,CAAC,gBAAgB;QACnB,MAAM,CAAC;YACH,IAAI,EAAE,+BAAY,CAAC,SAAS;YAC5B,UAAU,EAAE,8BAAW,CAAC,MAAM;YAC9B,YAAY,EAAE,EAAE;SACnB,CAAC;IACN,CAAC;IAUM,aAAa,CAAC,QAA+B,EAAE,OAAO,GAAC,KAAK;QAC/D,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,CAAC,CAAC;QACpD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;YACV,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAC3B,CAAC;QACD,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;CASJ;AAvCD,wBAuCC;;;;;AC3FD,qCAAiD;AAOjD;IAcI,MAAM,CAAC,gBAAgB,CACnB,IAAY,EACZ,IAAkQ,EAClQ,KAAwB,EACxB,OAAgB,EAChB,WAAoB,EACpB,QAAoC,EACpC,OAAyB;QAEzB,MAAM,CAAC;YACH,EAAE,EAAE,4BAAqB,EAAE;YAC3B,IAAI,EAAE,SAAS;YACf,IAAI;YACJ,IAAI;YACJ,KAAK;YACL,OAAO;YACP,OAAO;YACP,WAAW;YACX,QAAQ;SACX,CAAC;IACN,CAAC;CACJ;AAnCD,0BAmCC;;;;;AC1CD,qCAAiD;AAQjD;IASI,MAAM,CAAC,gBAAgB,CAAC,KAAwB,EAAE,OAAoC;QAClF,MAAM,QAAQ,GAAG,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QACxD,MAAM,CAAC;YACH,EAAE,EAAE,4BAAqB,EAAE;YAC3B,IAAI,EAAE,QAAQ;YACd,QAAQ;YACR,OAAO;SACV,CAAC;IACN,CAAC;CACJ;AAlBD,wBAkBC;;;;;AC1BD,qCAAiD;AAQjD;IAUI,MAAM,CAAC,gBAAgB,CAAC,IAAY,EAAE,MAAwB,EAAE,OAAgB;QAC5E,MAAM,CAAC;YACH,EAAE,EAAE,4BAAqB,EAAE;YAC3B,IAAI,EAAE,MAAM;YACZ,cAAc,EAAE,MAAM;YACtB,YAAY,EAAE,OAAO;YACrB,IAAI;SACP,CAAC;IACN,CAAC;CACJ;AAnBD,oBAmBC;;;;;AC3BD,qCAAiD;AAOjD;IASI,MAAM,CAAC,gBAAgB,CAAC,MAAoC,EAAE,OAAuC;QACjG,MAAM,CAAC;YACH,EAAE,EAAE,4BAAqB,EAAE;YAC3B,IAAI,EAAE,MAAM;YACZ,MAAM;YACN,OAAO;SACV,CAAC;IACN,CAAC;CACJ;AAjBD,oBAiBC;;;;;ACxBD,wCAAsD;AAOtD;IASI,MAAM,CAAC,gBAAgB,CACnB,OAAgG,EAChG,UAAmG;QAEnG,MAAM,CAAC;YACH,EAAE,EAAE,4BAAqB,EAAE;YAC3B,IAAI,EAAE,gBAAgB;YACtB,OAAO;YACP,UAAU;SACb,CAAC;IACN,CAAC;CACJ;AApBD,sCAoBC;;;;;;;;ACtBD,qCAAgC;;;;;ACLhC,2CAA2C;AAsBvC,gCAAU;AArBd,qCAAqC;AAoBjC,0BAAO;AAnBX,2CAA2C;AAkBvC,gCAAU;AAjBd,+BAA+B;AAa3B,oBAAI;AAZR,mCAAmC;AAa/B,wBAAM;AAZV,qCAAqC;AAajC,0BAAO;AAZX,+BAA+B;AAa3B,oBAAI;;;;;ACnBR,wCAAsD;AAOtD;IAUI,MAAM,CAAC,gBAAgB,CACnB,QAAgB,EAChB,MAA0C,EAC1C,UAAkB;QAElB,MAAM,CAAC;YACH,EAAE,EAAE,4BAAqB,EAAE;YAC3B,IAAI,EAAE,oBAAoB;YAC1B,QAAQ;YACR,MAAM;YACN,UAAU;SACb,CAAC;IACN,CAAC;CACJ;AAvBD,4CAuBC;;;;;;;;ACzBD,wCAAmC;;;;;ACLnC,wCAAsD;AAOtD;IASI,MAAM,CAAC,gBAAgB,CAAC,SAAuC,EAAE,cAAc,GAAC,KAAK;QACjF,MAAM,CAAC;YACH,EAAE,EAAE,4BAAqB,EAAE;YAC3B,IAAI,EAAE,UAAU;YAChB,QAAQ,EAAE,SAAS;YACnB,cAAc;SACjB,CAAC;IACN,CAAC;CACJ;AAjBD,4BAiBC;;;;;ACxBD,wCAAoD;AAOpD;IAQI,MAAM,CAAC,gBAAgB,CAAC,SAAuC;QAC3D,MAAM,CAAC;YACH,EAAE,EAAE,4BAAqB,EAAE;YAC3B,IAAI,EAAE,UAAU;YAChB,QAAQ,EAAE,SAAS;SACtB,CAAC;IACN,CAAC;CACJ;AAfD,4BAeC;;;;;;;;ACjBD,gCAA2B;AAC3B,gCAA2B;;;;;ACL3B,8DAAuD;AAOvD;IAsCI,YAAY,KAAsB,EAAE,QAAW;QAC3C,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,IAAI,yBAAe,EAAE,CAAC;IAC3C,CAAC;IAVD,IAAW,QAAQ;QACf,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC;IAClC,CAAC;IAcM,MAAM;QACT,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YAClB,MAAM,CAAC;QACX,CAAC;QACD,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;QACvB,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE,CAAC;QAGxB,MAAM,MAAM,GAAyB;YACjC,IAAI,EAAE,QAAQ;YACd,EAAE,EAAE,IAAI,CAAC,SAAS;SACrB,CAAC;QAEF,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;IACnC,CAAC;CAaJ;AA5ED,+BA4EC;;;;;ACpFD;IAKI;QACI,IAAI,CAAC,OAAO,GAAG,IAAI,OAAO,CAAI,CAAC,GAAG,EAAE,GAAG,EAAE,EAAE;YACvC,IAAI,CAAC,OAAO,GAAG,GAAG,CAAC;YACnB,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QACtB,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AAXD,kCAWC;;;;;;;;ACXD,uDAAoD;AAA5C,8CAAA,gBAAgB,CAAA;AACxB,gCAA2B;AAC3B,gDAAgD;AACxC,sBAAK;AACb,wCAAqC;AAA7B,wBAAA,KAAK,CAAA","file":"command-requester.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.commandProtocol = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PhotoEvents = {\n    TakePhoto: 'onTakePhoto'\n};\nexports.VideoEvents = {\n    VideoReady: 'onVideoReady'\n};\nexports.DisconnectReason = {\n    4000: 'Skill closed by user',\n    4001: 'Skill closed due to robot error',\n    4002: 'Incoming connection is replacing previous connection',\n    4003: 'Connection closed due to inactivity',\n    4004: 'Session closed due to reconnection time out',\n    4005: 'Session closed due to failed reconnection'\n};\nexports.DisconnectCode = {\n    HeadTouchExit: 4000,\n    RobotError: 4001,\n    NewConnection: 4002,\n    InactivityTimeout: 4003,\n    ReconnectTimeout: 4004,\n    ReconnectError: 4005,\n};\nexports.ResponseStrings = {\n    200: 'OK',\n    201: 'Created',\n    202: 'Accepted',\n    400: 'Bad Request',\n    403: 'Forbidden',\n    404: 'Not Found',\n    406: 'Not Acceptable',\n    407: 'Request Timeout',\n    409: 'Conflict',\n    412: 'Precondition Failed',\n    500: 'Internal Error',\n    503: 'Service Unavailable',\n    505: 'Version Not Supported',\n    506: 'Version Conflict'\n};\nexports.AttentionMode = {\n    Off: 'OFF',\n    Idle: 'IDLE',\n    Disengage: 'DISENGAGE',\n    Engaged: 'ENGAGED',\n    Speaking: 'SPEAKING',\n    Fixated: 'FIXATED',\n    Attractable: 'ATTRACTABLE',\n    Menu: 'MENU',\n    Command: 'COMMAND'\n};\nexports.CommandTypes = {\n    StartSession: 'StartSession',\n    GetConfig: 'GetConfig',\n    SetConfig: 'SetConfig',\n    Cancel: 'Cancel',\n    Display: 'Display',\n    SetAttention: 'SetAttention',\n    Say: 'Say',\n    Listen: 'Listen',\n    LookAt: 'LookAt',\n    TakePhoto: 'TakePhoto',\n    Video: 'Video',\n    Subscribe: 'Subscribe',\n    FetchAsset: 'FetchAsset',\n    UnloadAsset: 'UnloadAsset'\n};\nexports.AsyncCommandEvent = {\n    Start: \"onStart\",\n    Stop: \"onStop\",\n    Error: \"onError\",\n};\nexports.DisplayEvents = {\n    ViewStateChange: 'onViewStateChange'\n};\nexports.ViewStates = {\n    Opened: 'Opened',\n    Closed: 'Closed'\n};\nexports.DisplayViewType = {\n    Eye: 'Eye',\n    Text: 'Text',\n    Image: 'Image',\n    Empty: 'Empty',\n};\nexports.LookAtEvents = {\n    LookAtAchieved: 'onLookAtAchieved',\n    TrackEntityLost: 'onTrackEntityLost'\n};\nexports.HotWordEvents = {\n    HotWordHeard: 'onHotWordHeard',\n    ListenResult: 'onListenResult'\n};\nexports.StreamTypes = {\n    Entity: 'Entity',\n    HotWord: 'HotWord',\n    HeadTouch: 'HeadTouch',\n    Motion: 'Motion',\n    ScreenGesture: 'ScreenGesture'\n};\nexports.ListenEvents = {\n    ListenResult: 'onListenResult'\n};\nexports.ListenStopReasons = {\n    NoInput: 'NoInput',\n    NoMatch: 'NoMatch',\n    Interrupted: 'Interrupted'\n};\nexports.EntityTrackEvents = {\n    TrackUpdate: 'onEntityUpdate',\n    TrackLost: 'onEntityLost',\n    TrackGained: 'onEntityGained',\n};\nexports.MotionEvents = {\n    MotionDetected: 'onMotionDetected'\n};\nexports.HeadTouchEvents = {\n    HeadTouched: 'onHeadTouch'\n};\nexports.ScreenGestureEvents = {\n    Tap: 'onTap',\n    Swipe: 'onSwipe'\n};\nexports.ConfigEvents = {\n    onConfig: 'onConfig'\n};\nexports.FetchAssetEvents = {\n    AssetReady: 'onAssetReady',\n    AssetFailed: 'onAssetFailed'\n};\nexports.UnloadAssetEvents = {\n    UnloadAssetDone: 'onUnloadAssetDone',\n    UnloadAssetFailed: 'onUnloadAssetFailed'\n};\nexports.CameraResolution = {\n    HighRes: 'highRes',\n    MedRes: 'medRes',\n    LowRes: 'lowRes',\n    MicroRes: 'microRes'\n};\nexports.SwipeDirection = {\n    Up: 'Up',\n    Down: 'Down',\n    Right: 'Right',\n    Left: 'Left'\n};\nexports.Camera = {\n    Left: 'left',\n    Right: 'right'\n};\nexports.EntityType = {\n    Person: 'person',\n    Unknown: 'unknown'\n};\nexports.DisplayErrorDetails = {\n    IdNotUnique: 'View id is not unique',\n    MissingValues: 'View was not given required values',\n    InvalidViewType: 'View type is not valid',\n    AssetError: 'Unable to access assets for display',\n};\nexports.DisplayChangeType = {\n    Swap: 'Swap',\n};\nexports.FetchAssetErrorDetails = {\n    OutOfMemory: 'Out of memory',\n    InvalidURI: 'Invalid or Inaccessible URI'\n};\nexports.UnloadAssetErrorDetails = {\n    InvalidName: 'Invalid or Inaccessible Name'\n};\nexports.ResponseCode = {\n    OK: 200,\n    Created: 201,\n    Accepted: 202,\n    BadRequest: 400,\n    Forbidden: 403,\n    NotFound: 404,\n    NotAcceptable: 406,\n    RequestTimeout: 407,\n    Conflict: 409,\n    PreconditionFailed: 412,\n    InternalError: 500,\n    ServiceUnavailable: 503,\n    VersionNotSupported: 505,\n    VersionConflict: 506\n};\nexports.VideoType = {\n    Normal: 'NORMAL',\n    Debug: 'DEBUG'\n};\nexports.ProtocolVersions = {\n    v1: '1.0',\n    v2: '2.0'\n};\n\n},{}],2:[function(require,module,exports){\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction isEvent(message) {\n    return message.hasOwnProperty('EventBody');\n}\nexports.isEvent = isEvent;\nfunction isAcknowledgement(message) {\n    return message.hasOwnProperty('Response');\n}\nexports.isAcknowledgement = isAcknowledgement;\nfunction isAngleTarget(target) {\n    return target.hasOwnProperty('Angle');\n}\nexports.isAngleTarget = isAngleTarget;\nfunction isEntityTarget(target) {\n    return target.hasOwnProperty('Entity');\n}\nexports.isEntityTarget = isEntityTarget;\nfunction isPositionTarget(target) {\n    return target.hasOwnProperty('Position');\n}\nexports.isPositionTarget = isPositionTarget;\nfunction isCameraTarget(target) {\n    return target.hasOwnProperty('ScreenCoords');\n}\nexports.isCameraTarget = isCameraTarget;\n\n},{}],3:[function(require,module,exports){\n\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Enums\"));\nconst typeguards = require(\"./TypeGuards\");\nexports.typeguards = typeguards;\n\n},{\"./Enums\":1,\"./TypeGuards\":2}]},{},[3])(3)\n});\n\n//# sourceMappingURL=command-protocol.js.map\n","import ConnectionManager from './connection/ConnectionManager';\nimport IConnection, {MessageEvent} from './connection/IConnection';\nimport RequestToken from './tokens/RequestToken';\nimport { v1 } from './requests';\nimport Session = v1.session.Session;\nimport Expression = v1.expression.Expression;\nimport Display = v1.display.Display;\nimport Listen = v1.listen.Listen;\nimport Media = v1.media.Media;\nimport Perception = v1.perception.Perception;\nimport Assets = v1.assets.Assets;\nimport Config = v1.config.Config;\nimport {typeguards} from '@jibo/command-protocol';\nimport {Event} from './events/Event';\nimport {generateTransactionID} from './UUID';\nimport {HotWords} from './requests/v1/listen/requesters/HotWord';\n\n\n/**\n * Entry point for the Remote Client Protocol\n * @class CommandRequester\n * @example\n * const commandRequester = new CommandRequester();\n * commandRequester.disconnected.on((data) => {\n *     console.log('Connection closed because', data);\n * });\n * await commandRequester.connect(robotName);\n */\nexport class CommandRequester {\n    public assets:Assets;\n    public config:Config;\n    public display:Display;\n    public expression:Expression;\n    public listen: Listen;\n    public media:Media;\n    public perception:Perception;\n\n    /**\n     * ID for the app\n     * @name CommandRequester#AppID\n     * @type string\n     * @intdocs\n     */\n    public AppID:string;\n\n    /**\n     * Event emitted when the connection is closed by the robot or a connection issue as\n     * <br /> ```Event<{code:number, reason:string}>``` \n     * @name CommandRequester#disconnected\n     * @type Event<number, string>\n     */\n    public disconnected: Event<{code:number, reason:string}>;\n\n    private session:Session;\n    private sessionId:string;\n    private robotVersion:string;\n    private connection:IConnection;\n    private robotName:string;\n    private inProgressTokens:Map<string, RequestToken<any, any>>;\n\n    constructor() {\n        this.robotVersion = '1.0';\n        this.AppID = '';\n        this.sessionId = null;\n        this.inProgressTokens = new Map();\n        this.connection = new ConnectionManager();\n        this.connection.message.on(this.onMessage.bind(this));\n        this.connection.disconnected.on((data) => {\n            this.disconnected.emit({code:data.code, reason: data.reason});\n        });\n        this.assets = new Assets(this);\n        this.config = new Config(this);\n        this.display = new Display(this);\n        this.expression = new Expression(this);\n        this.listen = new Listen(this);\n        this.media = new Media(this);\n        this.perception = new Perception(this);\n        this.session = new Session(this);\n        this.disconnected = new Event('Disconnected');\n    }\n\n    /**\n     * Connect to the specified robot. Overridden in the native languages\n     * @method CommandRequester#connect\n     * @param  {string}        robotName your-friendly-robot-name\n     * @return {Promise<void>}\n     * @intdocs\n     */\n    public connect(robotName:string, options?: any):Promise<void> {\n\n        this.robotName = robotName;\n        console.log('CommandRequester : connect');\n        return (this.connection as ConnectionManager).connect(robotName, options)\n        .then(() => {\n            console.log('CommandRequester : connected, start session');\n            //eat result of connect, start session with robot\n            const token = this.session.start();\n            return token.complete.then((result) => {\n                console.log('CommandRequester : session started, result: ', result);\n                //get the session data that we need, then the connection is complete and robot is ready\n                this.robotVersion = result.ResponseBody.Version;\n                this.sessionId = result.ResponseBody.SessionID;\n            });\n        });\n    }\n\n    /**\n     * Disconnect all active robot connections.\n     * Overridden in the native languages.\n     * @method CommandRequester#disconnect\n     * @intdocs\n     */\n    public disconnect():void {\n        this.connection.close();\n    }\n\n    /*\n     * Send request for the specified asset\n     * @method CommandRequester#sendAssetRequest\n     * @param {string}        uri      URI for the asset to request\n     * @param {AssetCallback} callback `http.IncomingMessage`\n     */\n    // public sendAssetRequest(uri:string, callback:AssetCallback) {\n    //     this.connection.sendAssetRequestTo(this.robotName, uri, callback);\n    // }\n\n    private generateTransactionID():string {\n        return generateTransactionID();\n    }\n\n    /**\n     * @private\n     */\n    public sendRequest(command:JIBO.v1.BaseCommand):string {\n        //TODO: Actual current IP address here\n        const requestId = this.generateTransactionID();\n        const header:JIBO.v1.RequestHeader = {\n            TransactionID: requestId,\n            SessionID: this.sessionId,\n            Version: this.robotVersion,\n            Credentials: null,\n            AppID: this.AppID\n        };\n        //Send the request!\n        this.connection.sendTo(this.robotName, {\n            ClientHeader:header,\n            Command: command as any\n        });\n        //return the id to be applied to the token\n        return requestId;\n    }\n\n    /**\n     * @private\n     */\n    public sendToken(token:RequestToken<any>):void {\n        //Send the request!\n        token.requestId = this.sendRequest(token.protocol);\n        //Retain tokens as in progress requests, and handle their responses\n        if (!token.isComplete) {\n            this.inProgressTokens.set(token.requestId, token);\n        }\n    }\n\n    private onMessage(data: MessageEvent) {\n        const response = data.data;\n        let id:string = null;\n        let ack:JIBO.v1.Acknowledgement = null;\n        let event:JIBO.v1.EventMessage = null;\n        if (typeguards.isAcknowledgement(response)) {\n            id = response.ResponseHeader.TransactionID;\n            ack = response;\n        } else if(typeguards.isEvent(response)) {\n            id = response.EventHeader.TransactionID;\n            event = response;\n        } else {\n            //Invalid?\n            return;\n        }\n        //go through active tokens to see who gets what\n        if (this.inProgressTokens.has(id)) {\n            const token = this.inProgressTokens.get(id);\n            if (ack) {\n                token.handleAck(ack);\n            } else {\n                token.handleEvent(event);\n            }\n            if (token.isComplete) {\n                this.inProgressTokens.delete(id);\n            }\n        }\n    }\n}\n\n// Merge interfaces with classes to have interfaces available as CommandRequester.namespace.interface\nexport namespace CommandRequester {\n\n    /**\n     * Definition for making Jibo twist to a certain angle\n     * @interface CommandRequester.AngleVector\n     * @prop theta {number} Twist/horizontal angle\n     * @prop psi {number} Vertical angle\n     */\n    export interface AngleVector {\n        theta: number;\n        psi: number;\n    }\n\n    /**\n     * Definition for a point on Jibo's screen\n     * @interface CommandRequester.Vector2\n     * @prop x {number} Horizontal pixels\n     * @prop y {number} Vertical pixels\n     */\n    export interface Vector2 {\n        x: number;\n        y: number;\n    }\n\n    /**\n     * Definition for a 3D point in space\n     * @interface CommandRequester.Vector3\n     * @prop x {number} Meters forward\n     * @prop y {number} Meters left\n     * @prop z {number} Meters up\n     */ \n    export interface Vector3 {\n        x: number;\n        y: number;\n        z: number;\n    }\n\n    export namespace listen {\n        export import HotWord = HotWords;\n    }\n\n    export namespace media {\n\n        /**\n         * Which camera to use\n         * @typedef CommandRequester.media.Camera\n         * @prop left {'Left'} Default; Use for photo-taking \n         * @prop right {'Right'} Unsupported\n         */\n        export enum Camera {\n            left = 'Left',\n            right = 'Right',\n        }\n\n        /**\n         * Enum of photo resolution options\n         * @typedef CommandRequester.media.CameraResolution\n         * @prop high {'highRes'} Currently unsupported\n         * @prop med {'medRes'} Higher res than default\n         * @prop low {'lowRes'} Default\n         * @prop micro {'microRes'} Lower res than default\n         */\n        export enum CameraResolution {\n            high = 'highRes',\n            med = 'medRes',\n            low = 'lowRes',\n            micro = 'microRes',\n        }\n\n        /**\n         * Enum of video type options\n         * @typedef CommandRequester.media.VideoType\n         * @prop normal {'NORMAL'} Default\n         * @prop debug {'DEBUG'} Currently unsupported\n         */\n        export enum VideoType {\n            normal = 'NORMAL',\n            /** Currently unsupported */\n            debug = 'DEBUG',\n        }\n    }\n\n    export namespace config {\n\n        /**\n         * Robot configuration options that can be set by your app\n         * @interface CommandRequester.config.SetConfigOptions\n         * @prop mixer {number} Volume between 0 (mute) and 1 (loudest)\n         */\n        export interface SetConfigOptions {\n            mixer: number;\n        }\n    }\n\n    export namespace expression {\n\n        /**\n         * What type of lookAt Jibo should perform: \n         * <br /> `\"ANGLE\" | \"ENTITY\" | \"POSITION\" | \"CAMERA\"`\n         * @typedef CommandRequester.expression.LookAtTargetType\n         */\n        export type LookAtTargetType = \"ANGLE\" | \"ENTITY\" | \"POSITION\" | \"CAMERA\";\n    \n        /**\n         * Base interface for lookAt targets\n         * @interface CommandRequester.expression.BaseLookAtTarget\n         * @prop type {CommandRequester.expression.LookAtTargetType} Type of lookAt to perform\n         * @prop levelHead {boolean} `true` to keep Jibo's head level while he moves\n         */\n        export interface BaseLookAtTarget {\n            type: LookAtTargetType;\n            levelHead: boolean;\n        }\n    \n        /**\n         * Interface for looking towards an angle.\n         * @interface CommandRequester.expression.Angle\n         * @extends CommandRequester.expression.BaseLookAtTarget\n         * @prop type=\"ANGLE\" {CommandRequester.expression.LookAtTargetType}\n         * @prop angle {CommandRequester.AngleVector} Angle to twist to look towards.\n         */        \n        export interface Angle extends BaseLookAtTarget {\n            type: \"ANGLE\";\n            angle: AngleVector;\n        }\n\n        /**\n         * Interface for looking at a face (entity)\n         * @interface CommandRequester.expression.LookAtEntity\n         * @extends CommandRequester.expression.BaseLookAtTarget\n         * @prop type=\"ENTITY\" {CommandRequester.expression.LookAtTargetType}\n         * @prop target {number} ID of the face (entity) to look toward.\n         */\n        export interface LookAtEntity extends BaseLookAtTarget {\n            type: \"ENTITY\";\n            target: number;\n        }\n    \n        /**\n         * Interface for looking towards a 3D position in space\n         * @interface CommandRequester.expression.Position\n         * @extends CommandRequester.expression.BaseLookAtTarget\n         * @prop type=\"POSITION\" {CommandRequester.expression.LookAtTargetType}\n         * @prop position {CommandRequester.Vector3} 3D point in space to look toward\n         */\n        export interface Position extends BaseLookAtTarget {\n            type: \"POSITION\";\n            position: Vector3;\n        }\n    \n        /**\n         * Interface for looking towards a 2D position relative to Jibo's screen\n         * @interface CommandRequester.expression.ScreenCoords\n         * @extends CommandRequester.expression.BaseLookAtTarget\n         * @prop type=\"CAMERA\" {CommandRequester.expression.LookAtTargetType}\n         * @prop coords {CommandRequester.Vector2} 2D pixel point on Jibo's screen to look toward\n         */\n        export interface ScreenCoords extends BaseLookAtTarget {\n            type: \"CAMERA\";\n            coords: Vector2;\n        }\n    \n        /**\n         * Type of lookAt target\n         * @typedef CommandRequester.expression.LookAtTarget\n         * @prop Angle {CommandRequester.expression.Angle} Twist/angle target\n         * @prop LookAtEntity {CommandRequester.expression.LookAtEntity} Face target\n         * @prop Position {CommandRequester.expression.Position} 3D position target\n         * @prop ScreenCoords {CommandRequester.expression.ScreenCoords} 2D pixel target\n         */\n        export type LookAtTarget = Angle | LookAtEntity | Position | ScreenCoords;\n    \n        /**\n         * Enum of Jibo's available attention modes.\n         * @typedef CommandRequester.expression.AttentionMode\n         * @prop Off\n         * @prop Idle\n         * @prop Disengage\n         * @prop Engaged\n         * @prop Speaking\n         * @prop Fixated\n         * @prop Attractable\n         * @prop Menu\n         * @prop Command\n         */\n        export enum AttentionMode {\n            Off = 'OFF',\n            Idle = 'IDLE',\n            Disengage = 'DISENGAGE',\n            Engaged = 'ENGAGED',\n            Speaking = 'SPEAKING',\n            Fixated = 'FIXATED',\n            Attractable = 'ATTRACTABLE',\n            Menu = 'MENU',\n            Command = 'COMMAND',\n        }\n    }\n\n    export namespace display {\n\n        /**\n         * Options for listening for screen gestures\n         * @interface CommandRequester.display.ScreenGestureFilter\n         * @prop [area] {CommandRequester.display.Circle | CommandRequester.display.Rectangle} Area in which to listen for a screen gesture\n         * @prop [type] {CommandRequester.display.ScreenGestureType} Type of gesture to listen for\n         */\n        export interface ScreenGestureFilter {\n            area?: Circle | Rectangle;\n            type?: ScreenGestureType;\n        }\n        \n        /**\n         * Definition for a circular area on Jibo's screen\n         * @interface CommandRequester.display.Circle\n         * @prop radius {number} Radius of the circle in pixels\n         * @prop x {number} Horizontal coordinate of the circle's center in pixels\n         * @prop y {number} Vertical coordinate of the circle's center in pixels\n         */\n        export interface Circle {\n            radius: number;\n            x: number;\n            y: number;\n        }\n\n        /**\n         * Definition for a rectangular area on Jibo's screen\n         * @interface CommandRequester.display.Rectangle\n         * @prop height {number} Height of the rectangle in pixels\n         * @prop width {number} Width of the rectangle in pixels\n         * @prop x {number} Horizontal coordinate of the top-left corner of the rectangle in pixels\n         * @prop y {number} Vertical coordinate of the top-left corner of the rectangle in pixels\n         */\n        export interface Rectangle {\n            height: number;\n            width: number;\n            x: number;\n            y: number;\n        }\n\n        /**\n         * Enum of screen gesture types\n         * @typedef CommandRequester.display.ScreenGestureType\n         * @prop Tap 'TAP' A tap on Jibo's screen\n         * @prop SwipeUp 'SWIPEUP' A swipe from bottom to top on Jibo's screen\n         * @prop SwipeDown 'SWIPEDOWN' A swipe from top to bottom on Jibo's screen\n         * @prop SwipeLeft 'SWIPELEFT' A swipe from right to left on Jibo's screen\n         * @prop SwipeRight 'SWIPERIGHT' A swipe from left to right on Jibo's screen\n         */\n        export enum ScreenGestureType {\n            Tap = 'TAP',\n            SwipeUp = 'SWIPEUP',\n            SwipeDown = 'SWIPEDOWN',\n            SwipeLeft = 'SWIPELEFT',\n            SwipeRight = 'SWIPERIGHT',\n        }\n\n        /**\n         * Data object for image info\n         * @interface CommandRequester.display.ImageData\n         * @prop name {string} Provide a unique name for the asset in the local cache\n         * @prop [set] {string} Previously defined name of set of asssets to add this asset to\n         * @prop src {string} URL to the image\n         */\n        export interface ImageData {\n            name: string;\n            set?: string;\n            src: string;\n        }\n    }\n}","declare const uuid;\nexport function generateTransactionID() {\n    if(typeof process === 'object') {\n        const crypto = require('crypto');\n        const hashSource = 'hi' + process.hrtime();\n        return crypto.createHash('md5').update(hashSource).digest('hex');\n    }\n    return uuid.v4().split('-').join('');\n}","import {Event} from '../events/Event';\nimport WebSocketType = require('ws');\nimport {ConnectionEvent, DisconnectEvent, MessageEvent} from './IConnection';\nconst PORT = 8160;\nconst NODE = typeof process === 'object';\n\nexport interface HandshakeMessage {\n    type: 'handshake';\n    status: 'OK';\n    name: string;\n}\n\nexport interface ConnectionSettings {\n    hostname: string;\n    port?: number;\n    key?: string;\n    cert?: string;\n    fingerprint?: string;\n}\n\nexport default class ConnectionManager {\n    public connected: Event<ConnectionEvent>;\n    public disconnected: Event<DisconnectEvent>;\n    public message: Event<MessageEvent>;\n\n    private namedConnections: {[key: string]: WebSocket|WebSocketType};\n\n    constructor() {\n        this.onConnection = this.onConnection.bind(this);\n        this.onClose = this.onClose.bind(this);\n\n        this.namedConnections = {};\n        this.connected = new Event('Connected');\n        this.disconnected = new Event('Disconnected');\n        this.message = new Event('Message Received');\n    }\n\n    public connect(robotName:string, options:any):Promise<ConnectionEvent> {\n        if (this.isConnected(robotName)) {\n            return Promise.resolve({robot:robotName});\n        }\n\n        return new Promise((resolve, reject) => {\n            this.connected.on(resolve);\n            this.startWebSocket({hostname: robotName, ...options}, (err) => {\n                this.connected.off(resolve);\n                reject(err);\n            });\n        });\n    }\n\n    public close():void {\n        for (let robot in this.namedConnections) {\n            this.namedConnections[robot].close();\n        }\n        this.namedConnections = {};\n    }\n\n    public isConnected(name: string):boolean {\n        return name in this.namedConnections;\n    }\n\n    public sendTo(name: string, command: JIBO.v1.Command):void {\n        if (!this.isConnected(name)){\n            return;\n        }\n\n        //don't care about knowing when the send completes\n        if (NODE) {\n            (this.namedConnections[name] as WebSocketType).send(JSON.stringify(command));\n        } else {\n            (this.namedConnections[name] as WebSocket).send(JSON.stringify(command));\n        }\n    }\n\n    // public sendAssetRequestTo(name:string, uri:string, callback:AssetCallback) {\n    //     const http = require('http');\n    //     http.request({\n    //         hostname: name,\n    //         port: PORT,\n    //         path: uri,\n    //     }, callback).end();\n    // }\n\n    private startWebSocket(settings:ConnectionSettings, onError?: Function): void {\n        const {hostname} = settings;\n        const port = settings.port || PORT;\n        const protocol = settings.cert ? 'wss' : 'ws';\n        const connectionString: string = `${protocol}://${hostname}:${port}`;\n        const options = settings.cert\n            ? {\n                key: settings.key,\n                cert: settings.cert,\n                rejectUnauthorized: false,\n            }\n            : {};\n        if (this.namedConnections[hostname]) {\n            try {\n                this.namedConnections[hostname].close();\n            } catch (e) {\n                //this error would be odd, but we'll ignore it as it would be user (dev) facing\n            }\n            this.namedConnections[hostname] = null;\n        }\n        try {\n            let websocket: WebSocket | WebSocketType;\n            if(NODE) {\n                const WebSocket: typeof WebSocketType = require('ws');\n                websocket = this.namedConnections[hostname] = new WebSocket(connectionString, options);\n            }\n            else {\n                websocket = this.namedConnections[hostname] = new WebSocket(connectionString);\n            }\n            const errorCallback = (e):any => {\n                if (onError){\n                    onError(e);\n                }\n                websocket.onerror = () => { return; };\n                this.onClose(hostname, 0, 'Error in websocket');\n                if (NODE) {\n                    (websocket as WebSocketType).removeEventListener(\"error\", errorCallback);\n                } else {\n                    (websocket as WebSocket).removeEventListener(\"error\", errorCallback);\n                }\n            };\n            const onClose = (e) => this.onClose(hostname, e.code, e.reason);\n            if (NODE) {\n                (websocket as WebSocketType).addEventListener(\"error\", errorCallback);\n                (websocket as WebSocketType).addEventListener('open', () => {\n                    this.onConnection(hostname, websocket as WebSocketType);\n                });\n                (websocket as WebSocketType).addEventListener('close', onClose);\n            } else {\n                (websocket as WebSocket).addEventListener(\"error\", errorCallback);\n                (websocket as WebSocket).addEventListener('open', () => {\n                    this.onConnection(hostname, websocket as WebSocket);\n                });\n                (websocket as WebSocket).addEventListener('close', onClose);\n            }\n        } catch (err) {\n            this.namedConnections[hostname] = null;\n        }\n    }\n\n    private onConnection(hostname:string, ws: WebSocket|WebSocketType): void {\n        // message from Jibo\n        this.connected.emit({ robot: hostname });\n        this.namedConnections[hostname] = ws;\n        const listener = (message) => {\n            //for comaptibility between broswer and node\n            if ((message as any).data) { message = (message as any).data; }\n\n            //wait for handshake received to\n            let msg: any = JSON.parse(message.toString());\n            this.message.emit({robot:hostname, data: msg});\n        };\n        if (NODE) {\n            (ws as WebSocketType).addEventListener('message', listener);\n        } else {\n            (ws as WebSocket).addEventListener('message', listener);\n        }\n    }\n\n    private onClose(robot: string, code:number, reason:string): void {\n        if (this.namedConnections[robot]) {\n            this.disconnected.emit({robot, code, reason});\n            this.namedConnections[robot].close();\n            this.namedConnections[robot] = null;\n        }\n    }\n}\n","export interface Handler <Type> {\n  (data?: Type): void;\n}\n\nexport enum EmitterMode {\n  ALL_HANDLERS = 'ALL_HANDLERS',\n  FIRST_HANDLER = 'FIRST_HANDLER',\n  LAST_HANDLER = 'LAST_HANDLER'\n}\n\n\nexport class Event <Type> {\n\n  private _onceEvents = new Map<Handler<Type>, Handler<Type>>();\n  private _events: Handler<Type>[] = [];\n  private _maxListeners = 10;\n\n  /*\n   * Mode of order to emit events.\n   * In Stack mode, only emits to last event subscribed\n   * @type {enum}\n   */\n  private _emitterMode:EmitterMode = EmitterMode.ALL_HANDLERS;\n\n  /*\n   * Creates an Event object\n   * @param {String} name Name of event\n   */\n  constructor(public name: string) {\n\n  }\n\n  /*\n   * Returns a list of currently subscribed handlers\n   */\n  listeners(): Handler<Type>[] {\n    return this._events.slice();\n  }\n\n\n  /*\n   * Sets the maximum number of listeners\n   * @param {number} n\n   * @returns {Event} this\n   */\n  setMaxListeners(n: number) {\n    this._maxListeners = n;\n    return this;\n  }\n\n  /*\n   * Gets the maximum number of listeners\n   * @returns {number}\n   */\n  getMaxListeners() {\n    return this._maxListeners;\n  }\n\n  /*\n   * Subscribes a handler function to only the next event\n   * @return {Event} this\n   */\n  once(handler: Handler<Type>) {\n    let handlerWrapper = this._onceEvents.get(handler);\n    if (!handlerWrapper) {\n      handlerWrapper = (data) => {\n        this._onceEvents.delete(handler);\n        this.removeListener(handlerWrapper);\n        handler(data);\n      };\n      this._onceEvents.set(handler, handlerWrapper);\n    }\n\n    return this.on(handlerWrapper);\n  }\n\n  /*\n   * Subscribes a handler function to this event\n   * @return {Event} this\n   */\n  on(handler: Handler<Type>) {\n    if (this._events.length >= this._maxListeners) {\n      console.warn(`Event '${this.name}': Max listeners ${this._maxListeners} reached. `, new Error().stack);\n    }\n    this._events.push(handler);\n    return this;\n  }\n\n  /*\n   * Unsubscribes most recently added subscriber\n   * @return {Event} this\n   */\n  removeLastListener() {\n    this._events.splice(this._events.length - 1, 1);\n  }\n\n  /*\n   * Unsubscribes oldest added subscriber\n   * @return {Event} this\n   */\n  removeFirstListener() {\n    // if events is empty, no error; still gives empty array.\n    this._events.splice(0, 1);\n  }\n\n\n  /*\n   * Subscribes a handler function to this event\n   * @return {Event} this\n   */\n  addListener(handler: Handler<Type>) {\n    return this.on(handler);\n  }\n\n  /*\n   * Unsubscribes a handler function from this event\n   * @param {Handler} handler\n   * @return {Event} this\n   */\n  removeListener(handler: Handler<Type>) {\n    // We remove the handler if it has been provided through `on`\n    let index = this._events.indexOf(handler);\n    while (index !== -1) {\n      this._events.splice(index, 1);\n      index = this._events.indexOf(handler, index);\n    }\n\n    // We remove the handler if it has been provided through `once`\n    const onceHandler = this._onceEvents.get(handler);\n    if (onceHandler) {\n      let index = this._events.indexOf(onceHandler);\n      while (index !== -1) {\n        this._events.splice(index, 1);\n        index = this._events.indexOf(onceHandler, index);\n      }\n      this._onceEvents.delete(handler);\n    }\n\n    return this;\n  }\n\n  /*\n   * Unsubscribes a handler function from this event (alias for removeListener)\n   * @param {Handler} handler\n   * @return {Event} this\n   */\n  off(handler: Handler<Type>) {\n    return this.removeListener(handler);\n  }\n\n  /*\n   * Unsubscribes all handler functions from this event\n   * @return {Event} this\n   */\n  removeAllListeners() {\n    this._events = [];\n    this._onceEvents.clear();\n    return this;\n  }\n\n  /*\n   * Fires off an instance of this event with optional data\n   * @param {Type} [data] The data of the event\n   * @return {boolean} true if the event has any listeners, false otherwise\n   */\n  emit(data?: Type) {\n\n    if (this._emitterMode === EmitterMode.ALL_HANDLERS) {\n      // We start by creating a copy of handlers\n      // this is required to make sure that no handler modifies the\n      // underlying collection which could result in one or more\n      // handlers not being called\n      let copy = this.listeners();\n\n      for (let i = 0; i < copy.length; i++ ) {\n        let handler: any = copy[i] as any;\n        handler(data);\n      }\n    }\n    // Last handler only\n    else if (this._emitterMode === EmitterMode.LAST_HANDLER) {\n      let handler: any = this._events[this._events.length - 1];\n      if (handler) {\n        handler(data);\n      }\n      return !!handler;\n    }\n    // First handler only, return true if\n    else if (this._emitterMode === EmitterMode.FIRST_HANDLER) {\n      let handler: any = this._events[0];\n      if (handler) {\n        handler(data);\n      }\n      return !!handler;\n    }\n\n    return this._events.length > 0;\n  }\n\n\n  /*\n   * Sets mode to stack; event only emits to last subscriber\n   * @param {enum} mode of event to set\n   */\n  public setMode(mode:EmitterMode) {\n    if(!EmitterMode[mode]) {\n      throw new Error(\"Emitter mode of typed events must be ALL_HANDLERS, FIRST_HANDLER, or LAST_HANDLER\");\n    }\n    this._emitterMode = mode;\n  }\n\n  /*\n   * Waits for event to occur.\n   * @param {number} [timeoutMs=-1] Timeout while waiting for event\n   * @return {Promise<any>} Resolved with event payload or rejected with 'TIMEOUT' if times out\n   */\n  public waitFor(timeoutMs = -1): Promise<Type> {\n    return new Promise( (resolve, reject) => {\n      let timeoutHandle: any;\n\n      const eventHandler = data => {\n        if (timeoutHandle) {\n          clearTimeout(timeoutHandle);\n        }\n        resolve(data);\n      };\n\n      // Connect timeout handler\n      if (timeoutMs > 0) {\n        timeoutHandle = setTimeout(() => {\n          this.removeListener(eventHandler);\n          reject('TIMEOUT');\n        }, timeoutMs);\n      }\n\n      this.once(eventHandler);\n    });\n  }\n\n  /*\n   * Returns the number of listeners\n   * @returns {number}\n   */\n  listenerCount() {\n    return this._events.length;\n  }\n}","import {CommandRequester} from '../CommandRequester';\nimport RequestToken from '../tokens/RequestToken';\n\nexport default abstract class RequestAPI<R extends JIBO.v1.BaseCommand, T extends RequestToken<R>> {\n    protected owner:CommandRequester;\n\n    constructor(owner:CommandRequester) {\n        this.owner = owner;\n    }\n\n    abstract generateToken(protocol: R): T;\n\n    public sendToken(token: T): void {\n        this.owner.sendToken(token);\n    }\n}","import * as v1 from './v1';\nimport * as v2 from './v2';\n\nexport {\n    v1,\n    v2\n};","import RequestToken from '../../tokens/RequestToken';\nimport {CommandRequester} from '../../CommandRequester';\nimport RequestAPI from '../RequestAPI';\nimport {CommandTypes, ResponseCode} from '@jibo/command-protocol';\n\n/**\n * @class SessionToken\n * @description Response token for the {@link Session} class.\n * @extends RequestToken\n * @hideconstructor\n * @intdocs\n */\nexport class SessionToken extends RequestToken<JIBO.v1.SessionRequest, JIBO.v1.SessionResponse> {\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.SessionRequest) {\n        super(owner, protocol);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n        if (ack.Response.ResponseCode === ResponseCode.OK) {\n            this.isComplete = true;\n            this._complete.resolve(ack.Response as JIBO.v1.SessionResponse);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n    }\n}\n\n/**\n * @namespace CommandRequester.session\n * @intdocs\n */\nexport class Session extends RequestAPI<JIBO.v1.SessionRequest, SessionToken> {\n\n    /**\n     * Generate Session Protocol\n     * @method CommandRequester.session#generateProtocol\n     * @returns {SessionRequest}\n     * @intdocs\n     */\n    static generateProtocol(): JIBO.v1.SessionRequest {\n        return {\n            Type: CommandTypes.StartSession\n        };\n    }\n\n    /**\n     * Start the session.\n     * @method CommandRequester.session#startSession\n     * @return {SessionToken}\n     */\n    public start():SessionToken {\n        const protocol = Session.generateProtocol();\n        return this.generateToken(protocol, true);\n    }\n\n    /**\n     * @method CommandRequester.session#generateToken\n     * @description Create SessionToken from SessionRequest protocol.\n     * @param {SessionRequest} protocol - SessionRequest protocol to generate a SessionToken from.\n     * @param {boolean} [andSend=false] - `True` if the generated SessionToken should also be sent as a request.\n     * @return {SessionToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.SessionRequest, andSend=false): SessionToken {\n        const token = new SessionToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send SessionToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.session#sendToken\n     * @param {SessionToken} token - SessionToken to send.\n     * @intdocs\n     */\n}","import {CommandRequester} from '../../../CommandRequester';\nimport {\n    Assets as AssetsRequester,\n    FetchAssetToken,\n    UnloadAssetToken,\n} from './requesters/Assets';\n\n/**\n * Commands for working with external assets\n * @namespace CommandRequester.assets\n */\nexport class Assets {\n\n    private assetsRequester: AssetsRequester;\n\n    constructor(requester:CommandRequester) {\n        this.assetsRequester = new AssetsRequester(requester);\n    }\n\n    /**\n     * Command to retrieve external asset and store in local cache by name.\n     * @method CommandRequester.assets#load\n     * @param  {string}   uri Uri where the asset to fetch is.\n     * @param  {string}   name Name that the asset will be call by.\n     * @returns {FetchAssetToken}\n     */\n    public load(uri: string, name: string): FetchAssetToken {\n        const protocol = AssetsRequester.generateLoadProtocol(uri, name);\n        return this.assetsRequester.generateToken(protocol, true) as FetchAssetToken;\n    }\n\n    /**\n     * Command to unload asset by name.\n     * @method CommandRequester.assets#unload\n     * @param  {string}   name Name of asset to unload.\n     * @return {UnloadAssetToken}\n     */\n    public unload(name: string): UnloadAssetToken {\n        const protocol = AssetsRequester.generateUnloadProtocol(name);\n        return this.assetsRequester.generateToken(protocol, true) as UnloadAssetToken;\n    }\n}\n","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {CommandTypes, FetchAssetEvents, UnloadAssetEvents} from '@jibo/command-protocol';\n\n/**\n * @class FetchAssetToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class FetchAssetToken extends RequestToken<JIBO.v1.FetchAssetRequest, JIBO.v1.FetchAssetEvent> {\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.FetchAssetRequest) {\n        super(owner, protocol);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        const message = event.EventBody;\n        switch (message.Event) {\n            case FetchAssetEvents.AssetReady:\n                this.isComplete = true;\n                this._complete.resolve(message);\n                break;\n            case FetchAssetEvents.AssetFailed:\n                this.isComplete = true;\n                this._complete.reject(message);\n                break;\n        }\n    }\n}\n\n/**\n * @class UnloadAssetToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class UnloadAssetToken extends RequestToken<JIBO.v1.UnloadAssetRequest, JIBO.v1.UnloadAssetEvent> {\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.UnloadAssetRequest) {\n        super(owner, protocol);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        const message = event.EventBody;\n        switch (message.Event) {\n            case UnloadAssetEvents.UnloadAssetDone:\n                this.isComplete = true;\n                this._complete.resolve(message);\n                break;\n            case UnloadAssetEvents.UnloadAssetFailed:\n                this.isComplete = true;\n                this._complete.reject(message);\n                break;\n        }\n    }\n}\n\n/**\n * Internal only class for Assets\n * @class CommandRequester.assets.Assets\n * @intdocs\n */\nexport class Assets extends RequestAPI<JIBO.v1.FetchAssetRequest | JIBO.v1.UnloadAssetRequest, FetchAssetToken | UnloadAssetToken> {\n\n    /**\n     * Generate loadAsset Protocol\n     * @method CommandRequester.assets.Assets#generateLoadProtocol\n     * @param {string} uri - URI of the asset to be fetched.\n     * @param {string} name - Name given to the asset for later reference (must be unique).\n     * @returns {FetchAssetRequest}\n     * @intdocs\n     */\n    static generateLoadProtocol(uri: string, name: string): JIBO.v1.FetchAssetRequest {\n        return {\n            Type: CommandTypes.FetchAsset,\n            URI: uri,\n            Name: name\n        };\n    }\n\n    /**\n     * Generate unloadAsset Protocol\n     * @method CommandRequester.assets.Assets#generateUnloadProtocol\n     * @param {string} name - Name given to the asset for later reference (must be unique).\n     * @returns {UnloadAssetRequest}\n     * @intdocs\n     */\n    static generateUnloadProtocol(name: string): JIBO.v1.UnloadAssetRequest {\n        return {\n            Type: CommandTypes.UnloadAsset,\n            Name: name\n        };\n    }\n\n    /**\n     * @method CommandRequester.assets.Assets#generateToken\n     * @description Create FetchAssetToken from FetchAssetRequest protocol.\n     * @param {FetchAssetRequest | UnloadAssetRequest} protocol - FetchAssetRequest protocol to generate a FetchAssetToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated FetchAssetToken should also be sent as a request.\n     * @return {FetchAssetToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.FetchAssetRequest | JIBO.v1.UnloadAssetRequest, andSend=false): FetchAssetToken | UnloadAssetToken {\n        let token: FetchAssetToken | UnloadAssetToken;\n        if (protocol.Type === CommandTypes.FetchAsset) {\n            token = new FetchAssetToken(this.owner, protocol);\n        } else if (protocol.Type === CommandTypes.UnloadAsset) {\n            token = new UnloadAssetToken(this.owner, protocol);\n        }\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send FetchAssetToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.assets.Assets#sendToken\n     * @param {FetchAssetToken} token - FetchAssetToken to send.\n     * @intdocs\n     */\n}\n","import {CommandRequester} from '../../../CommandRequester';\nimport {\n    Config as ConfigRequester,\n    GetConfigToken,\n    SetConfigToken,\n} from './requesters/Config';\n\n/**\n * Commands for working with Jibo's settings and configurations\n * @namespace CommandRequester.config\n */\nexport class Config {\n\n    private configRequester: ConfigRequester;\n\n    constructor(requester:CommandRequester) {\n        this.configRequester = new ConfigRequester(requester);\n    }\n\n    /**\n     * Get robot configuration options.\n     * @method CommandRequester.config#get\n     * @return {GetConfigToken}\n     */\n    public get(): GetConfigToken {\n        const protocol = ConfigRequester.generateProtocol() as JIBO.v1.GetConfigRequest;\n        return this.configRequester.generateToken(protocol, true) as GetConfigToken;\n    }\n\n    /**\n     * Set robot configuration options.\n     * @method CommandRequester.config#set\n     * @param  {CommandRequester.config.SetConfigOptions}  options Options for settable configurations\n     * @return {SetConfigToken}\n     */\n    public set(options: CommandRequester.config.SetConfigOptions): SetConfigToken {\n        const protocol = ConfigRequester.generateProtocol({\n            Mixer: options.mixer,\n        }) as JIBO.v1.SetConfigRequest;\n        return this.configRequester.generateToken(protocol, true) as SetConfigToken;\n    }\n}","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {CommandTypes, ConfigEvents, AsyncCommandEvent} from '@jibo/command-protocol';\n\n/**\n * @class SetConfigToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class SetConfigToken extends RequestToken<JIBO.v1.SetConfigRequest> {\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.SetConfigRequest) {\n        super(owner, protocol);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        switch (event.EventBody.Event) {\n            case AsyncCommandEvent.Stop:\n                this.isComplete = true;\n                this._complete.resolve();\n                break;\n            case AsyncCommandEvent.Error:\n                this.isComplete = true;\n                this._complete.reject(event.EventBody);\n                break;\n        }\n    }\n}\n\n/**\n * @class GetConfigToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class GetConfigToken extends RequestToken<JIBO.v1.GetConfigRequest, JIBO.v1.ConfigEvent> {\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.GetConfigRequest) {\n        super(owner, protocol);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        let message = event.EventBody;\n        switch (message.Event) {\n            case ConfigEvents.onConfig:\n                this.isComplete = true;\n                this._complete.resolve(message);\n                break;\n        }\n    }\n}\n\n/**\n * Internal only Config class\n * @class CommandRequester.config.Config\n * @intdocs\n */\nexport class Config extends RequestAPI<JIBO.v1.GetConfigRequest | JIBO.v1.SetConfigRequest, GetConfigToken | SetConfigToken> {\n\n    /**\n     * Generate Get Config Protocol\n     * @method CommandRequester.config.Config#generateProtocol\n     * @returns {SetConfigRequest | GetConfigRequest}\n     * @intdocs\n     */\n    static generateProtocol(options?: JIBO.v1.SetConfigOptions): JIBO.v1.GetConfigRequest | JIBO.v1.SetConfigRequest {\n        if(options) {\n            return {\n                Type: CommandTypes.SetConfig,\n                Options: options\n            };\n        }\n        return {\n            Type: CommandTypes.GetConfig\n        };\n    }\n\n    /**\n     * Create ConfigToken from ConfigRequest protocol.\n     * @method CommandRequester.config.Config#generateToken\n     * @param {GetConfigRequest | SetConfigRequest} protocol - ConfigRequest protocol to generate a ConfigToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated ConfigToken should also be sent as a request.\n     * @return {GetConfigToken | SetConfigRequest}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.GetConfigRequest | JIBO.v1.SetConfigRequest, andSend=false): GetConfigToken | SetConfigToken {\n        let token: GetConfigToken | SetConfigToken;\n        if(protocol.Type === CommandTypes.GetConfig) {\n            token = new GetConfigToken(this.owner, protocol);\n        } else if(protocol.Type === CommandTypes.SetConfig) {\n            token = new SetConfigToken(this.owner, protocol);\n        }\n\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send ConfigToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.config.Config#sendToken\n     * @param {GetConfigToken | SetConfigToken} token - ConfigToken to send.\n     * @intdocs\n     */\n    public sendToken(token: GetConfigToken | SetConfigToken): void {\n        this.owner.sendToken(token);\n    }\n}","import {CommandRequester} from '../../../CommandRequester';\nimport {DisplayViewType} from '@jibo/command-protocol';\nimport {Display as DisplayRequester, DisplayToken} from './requesters/Display';\nimport {Gesture, ScreenGestureToken} from './requesters/Gesture';\n\n/**\n * Commands for working with Jibo's screen\n * @namespace CommandRequester.display\n */\nexport class Display {\n    \n    private displayRequest: DisplayRequester;\n\n    /**\n     * Commands for subscribing to screen-related events\n     * @namespace CommandRequester.display.subscribe\n     */\n    public subscribe: Subscriptions;\n\n    constructor(requester:CommandRequester) {\n        this.displayRequest = new DisplayRequester(requester);\n        this.subscribe = new Subscriptions(requester);\n    }\n\n    /**\n     * Create a view that displays Jibo's eye on screen\n     * @method CommandRequester.display#EyeView\n     * @param {string} name Unique name for the EyeView\n     */\n    public EyeView(name: string):JIBO.v1.EyeView {\n        return {\n            Type: DisplayViewType.Eye,\n            Name: name\n        } as JIBO.v1.EyeView;\n    }\n\n    /**\n     * Create a view to display an image on Jibo's screen\n     * @method CommandRequester.display#ImageView\n     * @param {string} name Unique name for the ImageView\n     * @param {CommandRequester.display.ImageData} data ImageData for the image to be created in the view\n     */\n    public ImageView(name: string, data: CommandRequester.display.ImageData):JIBO.v1.ImageView {\n        return {\n            Type: DisplayViewType.Image,\n            Name: name,\n            Image: data\n        } as JIBO.v1.ImageView;\n    }\n\n    /**\n     * Create a view to display text on Jibo's screen\n     * @method CommandRequester.display#TextView\n     * @param {string} name Unique name for the TextView\n     * @param {string} text Text to be displayed\n     */\n    public TextView(name: string, text: string): JIBO.v1.TextView {\n        return {\n            Type: DisplayViewType.Text,\n            Name: name,\n            Text: text\n        } as JIBO.v1.TextView;\n    }\n\n    /**\n     * Create an empty view on Jibo's screen\n     * @method CommandRequester.display#EmptyView\n     * @param  {string} name Unique name of view.\n     */\n    public EmptyView(name:string):JIBO.v1.EmptyView {\n        return {\n            Type: DisplayViewType.Empty,\n            Name: name,\n        } as JIBO.v1.EmptyView;\n    }\n\n    /**\n     * Replace the existing view with the one given.\n     * @method CommandRequester.display#swap\n     * @param  {CommandRequester.display#EyeView | CommandRequester.display#TextView | CommandRequester.display#ImageView} view \n     * View to replace the existing one with.\n     * @return {DisplayToken}\n     */\n    public swap(\n        view: JIBO.v1.EyeView | JIBO.v1.TextView | JIBO.v1.ImageView,\n        openTransition?: JIBO.v1.DisplayTransitions.DisplayTransitionType,\n        closeTransition?: JIBO.v1.DisplayTransitions.DisplayTransitionType\n    ): DisplayToken {\n        const protocol = DisplayRequester.generateProtocol(view, openTransition, closeTransition);\n        return this.displayRequest.generateToken(protocol, true);\n    }\n}\n\nexport class Subscriptions {\n\n    private gestureRequest:Gesture;\n\n    constructor(requester: CommandRequester) {\n        this.gestureRequest = new Gesture(requester);\n    }\n    \n    /**\n     * Listen for screen touch input\n     * @method CommandRequester.display.subscribe#gesture\n     * @param  {CommandRequester.display.ScreenGestureFilter} [filter={}] Data for screen touch info\n     * @return {ScreenGestureToken}\n     */\n    gesture(filter: CommandRequester.display.ScreenGestureFilter = {}): ScreenGestureToken {\n        const filterType = filter\n            ? CommandRequester.display.ScreenGestureType[filter.type]\n            : undefined;\n        const protocol = Gesture.generateProtocol({\n            Area: filter.area,\n            Type: filterType,\n        });\n        return this.gestureRequest.generateToken(protocol, true);\n    }\n}","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {Event} from '../../../../events/Event';\nimport {AsyncCommandEvent, ViewStates, DisplayEvents, CommandTypes} from '@jibo/command-protocol';\n\n\n/**\n * @class DisplayToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class DisplayToken extends RequestToken<JIBO.v1.DisplayRequest> {\n    /**\n     * Emitted when a display view is opened.\n     * @name DisplayToken#opened\n     * @type {Event}\n     */\n    public opened:Event<void>;\n\n\n    /** @private */\n    constructor(owner: CommandRequester, protocol: JIBO.v1.DisplayRequest) {\n        super(owner, protocol);\n        this.opened = new Event('Opened');\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        const eventData = event.EventBody;\n        switch (eventData.Event) {\n            case AsyncCommandEvent.Stop:\n                this.isComplete = true;\n                this._complete.resolve();\n                break;\n            case AsyncCommandEvent.Error:\n                this.isComplete = true;\n                this._complete.reject(eventData);\n                break;\n            case DisplayEvents.ViewStateChange:\n                switch (eventData.State) {\n                    case ViewStates.Opened:\n                        this.opened.emit();\n                        break;\n                }\n        }\n    }\n}\n\n/**\n * Internal Display class\n * @class CommandRequester.display.Display\n * @intdocs\n */\nexport class Display extends RequestAPI<JIBO.v1.DisplayRequest, DisplayToken> {\n    \n    /**\n     * Generate Display Protocol\n     * @method CommandRequester.display.Display#generateProtocol\n     * @param {(CommandRequester.display#EyeView | CommandRequester.display#TextView | CommandRequester.display#ImageView)} view - View to replace the existing one with.\n     * @param  {DisplayTransitionType} [openTransition] Transition type to open.\n     * @param  {DisplayTransitionType} [closeTransition] Transition type to close.\n     * @returns {DisplayRequest}\n     * @intdocs\n     */\n    static generateProtocol(\n      view: JIBO.v1.EyeView | JIBO.v1.TextView | JIBO.v1.ImageView,\n      openTransition?:JIBO.v1.DisplayTransitions.DisplayTransitionType,\n      closeTransition?:JIBO.v1.DisplayTransitions.DisplayTransitionType\n    ): JIBO.v1.DisplayRequest {\n        return {\n            Type: CommandTypes.Display,\n            View: view,\n            OpenTransition: openTransition ,\n            CloseTransition: closeTransition\n        };\n    }\n\n    /**\n     * Create DisplayToken from DisplayRequest protocol.\n     * @method CommandRequester.display.Display#generateToken\n     * @param {DisplayRequest} protocol - DisplayRequest protocol to generate a DisplayToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated DisplayToken should also be sent as a request.\n     * @return {DisplayToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.DisplayRequest, andSend=false): DisplayToken {\n        const token = new DisplayToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send DisplayToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.display.Display#sendToken\n     * @param {DisplayToken} token - DisplayToken to send.\n     * @intdocs\n     */\n}","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {Event} from '../../../../events/Event';\nimport {AsyncCommandEvent, ScreenGestureEvents, CommandTypes, StreamTypes} from '@jibo/command-protocol';\n\n\n/**\n * @class ScreenGestureToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class ScreenGestureToken extends RequestToken<JIBO.v1.ScreenGestureRequest> {\n    /**\n     * Tap screen gesture. Event is `{x: number, y: number}` of tap location.\n     * @name ScreenGestureToken#tap\n     * @type {Event<CommandRequester.Vector2>}\n     */\n    public tap:Event<JIBO.v1.Vector2>;\n\n    /**\n     * Swipe screen gesture. Type is direction of swipe.\n     * @name ScreenGestureToken#swipe\n     * @type {Event<SwipeDirection>}\n     */\n    public swipe:Event<JIBO.v1.SwipeDirections.SwipeDirectionType>;\n\n\n    /** @private */\n    constructor(owner: CommandRequester, protocol: JIBO.v1.ScreenGestureRequest) {\n        super(owner, protocol);\n        this.tap = new Event(ScreenGestureEvents.Tap);\n        this.swipe = new Event(ScreenGestureEvents.Swipe);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        const eventData = event.EventBody;\n        switch (eventData.Event) {\n            case AsyncCommandEvent.Stop:\n                this.isComplete = true;\n                this._complete.resolve();\n                break;\n            case AsyncCommandEvent.Error:\n                this.isComplete = true;\n                this._complete.reject(eventData);\n                break;\n            case ScreenGestureEvents.Tap:\n                 this.tap.emit(eventData.Coordinate);\n                 break;\n            case ScreenGestureEvents.Swipe:\n                 this.swipe.emit(eventData.Direction);\n                 break;\n\n        }\n    }\n}\n\n/**\n * Internal Gesture class\n * @class CommandRequester.display.subscribe.Gesture\n * @intdocs\n */\nexport class Gesture extends RequestAPI<JIBO.v1.ScreenGestureRequest, ScreenGestureToken> {\n    public owner;\n\n    constructor(requester:CommandRequester) {\n        super(requester);\n    }\n\n    /**\n     * Generate Screen Gesture Protocol\n     * @method CommandRequester.display.subscribe.Gesture#generateProtocol\n     * @param {CommandRequester.display.ScreenGestureFilter} [filter={}]\n     * @returns {ScreenGestureRequest}\n     * @intdocs\n     */\n    static generateProtocol(filter: JIBO.v1.ScreenGestureFilter = {}): JIBO.v1.ScreenGestureRequest {\n        return {\n            Type: CommandTypes.Subscribe,\n            StreamType: StreamTypes.ScreenGesture,\n            StreamFilter: filter\n        };\n    }\n\n    /**\n     * Create ScreenGestureToken from ScreenGestureRequest protocol.\n     * @method CommandRequester.display.subscribe.Gesture#generateToken\n     * @param {ScreenGestureRequest} protocol - ScreenGestureRequest protocol to generate a ScreenGestureToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated ScreenGestureToken should also be sent as a request.\n     * @return {ScreenGestureToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.ScreenGestureRequest, andSend=false): ScreenGestureToken {\n        const token = new ScreenGestureToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n\n}","import {LookToken, Look, TargetMode} from './requesters/Look';\nimport {SayToken, Say} from './requesters/Say';\nimport {AttentionToken, Attention} from './requesters/Attention';\nimport {CommandRequester} from '../../../CommandRequester';\n\n/**\n * Commands for working with Jibo's verbal and physical modes of expression\n * @namespace CommandRequester.expression\n */\nexport class Expression {\n\n    attentionRequest:Attention;\n    lookRequest:Look;\n    sayRequest:Say;\n\n    constructor(requester:CommandRequester) {\n        this.attentionRequest = new Attention(requester);\n        this.lookRequest = new Look(requester);\n        this.sayRequest = new Say(requester);\n    }\n\n    /**\n     * Make Jibo turn to look at the specified target\n     * @method CommandRequester.expression#look\n     * @param  {CommandRequester.expression.LookAtTarget} target Target to look at\n     * @param  {boolean} [shouldTrack] Currently unsupported\n     * @param  {boolean} [levelHead=true] `true` to keep Jibo's head level while he moves\n     * @return {LookToken}\n     */\n    look(\n        lookAtTarget: CommandRequester.expression.LookAtTarget,\n        shouldTrack?: boolean,\n        levelHead: boolean = true,\n    ): LookToken {\n        let protocol;\n\n        switch(lookAtTarget.type) {\n            case \"ANGLE\":\n                const angle: [number, number] = [lookAtTarget.angle.theta, lookAtTarget.angle.psi];\n                protocol = Look.generateProtocol(TargetMode.Angle, angle, levelHead, false);\n                break;\n            case \"POSITION\":\n                const position: [number, number, number] = [lookAtTarget.position.x, lookAtTarget.position.y, lookAtTarget.position.z];\n                protocol = Look.generateProtocol(TargetMode.Position, position, levelHead, false);\n                break;\n            case \"ENTITY\":\n                const target: number = lookAtTarget.target;\n                protocol = Look.generateProtocol(TargetMode.Entity, target, levelHead, false);\n                break;\n            case \"CAMERA\":\n                const coords: [number, number] = [lookAtTarget.coords.x, lookAtTarget.coords.y];\n                protocol = Look.generateProtocol(TargetMode.ScreenCoords, coords, levelHead, shouldTrack);\n                break;\n        }\n\n        return this.lookRequest.generateToken(protocol, true) as LookToken;\n    }\n\n    /**\n     * Make Jibo speak.\n     * @method CommandRequester.expression#say\n     * @param {string} text Plain text or Embodied Speech Markup Language to say. See {@link https://app-toolkit.jibo.com/esml/}.\n     * @return {SayToken}\n     */\n    public say(\n        text: string,\n        speakOptions?: JIBO.v1.SpeakOptions,\n        autoRuleConfig?: JIBO.v1.AutoRuleConfig,\n    ): SayToken {\n        const protocol = Say.generateProtocol(text, speakOptions, autoRuleConfig);\n        return this.sayRequest.generateToken(protocol, true);\n    }\n\n    /**\n     * Set Jibo's attention mode.\n     * @method CommandRequester.expression#setAttention\n     * @param {CommandRequester.expression.AttentionMode} mode Attention mode to which to set the robot\n     * @return {AttentionToken}\n     */\n    public setAttention(\n        mode: CommandRequester.expression.AttentionMode,\n    ): AttentionToken {\n        const protocol = Attention.generateProtocol(mode);\n        return this.attentionRequest.generateToken(protocol, true);\n    }\n}","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {AsyncCommandEvent, CommandTypes} from '@jibo/command-protocol';\n\n/**\n * @class AttentionToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class AttentionToken extends RequestToken<JIBO.v1.AttentionRequest> {\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.AttentionRequest) {\n        super(owner, protocol);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        switch (event.EventBody.Event) {\n            case AsyncCommandEvent.Stop:\n                this.isComplete = true;\n                this._complete.resolve();\n                break;\n            case AsyncCommandEvent.Error:\n                this.isComplete = true;\n                this._complete.reject(event.EventBody);\n                break;\n        }\n    }\n}\n\n/**\n * Internal Attention class\n * @class CommandRequester.expression.Attention\n * @intdocs\n */\nexport class Attention extends RequestAPI<JIBO.v1.AttentionRequest, AttentionToken> {\n\n    /**\n     * Generate Attention Protocol\n     * @method CommandRequester.expression.Attention#generateProtocol\n     * @param {CommandRequester.expression.AttentionMode} mode - New attenion mode for the robot\n     * @returns {JIBO.v1.AttentionRequest}\n     * @intdocs\n     */\n    static generateProtocol(mode: CommandRequester.expression.AttentionMode): JIBO.v1.AttentionRequest {\n        return {\n            Type: CommandTypes.SetAttention,\n            Mode: mode,\n        } as JIBO.v1.AttentionRequest;\n    }\n\n    /**\n     * Create AttentionToken from AttentionRequest protocol.\n     * @method CommandRequester.expression.Attention#generateToken\n     * @param {AttentionRequest} protocol - AttentionRequest protocol to generate an AttentionToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated AttentionToken should also be sent as a request.\n     * @return {AttentionToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.AttentionRequest, andSend=false): AttentionToken {\n        const token = new AttentionToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send AttentionToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.expression.Attention#sendToken\n     * @param {AttentionToken} token - AttentionToken to send.\n     * @intdocs\n     */\n}\n","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {AsyncCommandEvent, CommandTypes, LookAtEvents} from '@jibo/command-protocol';\n\n\n/**\n * Target options for Look\n * @typedef CommandRequester.expression.TargetMode\n * @prop Position\n * @prop Angle\n * @prop Entity\n * @prop Scren\n * @intdocs\n */\nexport enum TargetMode {\n    Position,\n    Angle,\n    Entity,\n    ScreenCoords\n}\n\n\nexport interface LookAtAchievedResult {\n    AngleTarget: JIBO.v1.AngleVector;\n    PositionTarget: JIBO.v1.Vector3;\n}\n\nexport interface LookAtTrackLostResult {\n    EntityTarget: JIBO.v1.LookAtEntity;\n    AngleTarget: JIBO.v1.AngleVector;\n    PositionTarget: JIBO.v1.Vector3;\n}\n\n\n/**\n * @class LookToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class LookToken extends RequestToken<JIBO.v1.LookAtRequest, LookAtAchievedResult|LookAtTrackLostResult> {\n\n    /** @private */\n    constructor(owner: CommandRequester, protocol: JIBO.v1.LookAtRequest) {\n        super(owner, protocol);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        const eventData = event.EventBody;\n        switch (eventData.Event) {\n            case AsyncCommandEvent.Stop:\n                this.isComplete = true;\n                this._complete.resolve();\n                break;\n            case AsyncCommandEvent.Error:\n                this.isComplete = true;\n                this._complete.reject(eventData);\n                break;\n            case LookAtEvents.LookAtAchieved:\n                this.isComplete = true;\n                this._complete.resolve(eventData);\n                break;\n            case LookAtEvents.TrackEntityLost:\n                this.isComplete = true;\n                this._complete.resolve(eventData);\n                break;\n        }\n    }\n}\n\n/**\n * Internal Look class\n * @class CommandRequester.expression.Look\n * @intdocs\n */\nexport class Look extends RequestAPI<JIBO.v1.LookAtRequest, LookToken> {\n\n    /**\n     * Generate Look Protocol\n     * @method CommandRequester.expression.Look#generateProtocol\n     * @param {CommandRequester.expression.TargetMode} targetMode - How we are targetting our target (depends on the target type)\n     * @param {(CommandRequester.Vector2|CommandRequester.Vector3|CommandRequester.expression.LookAtEntity)} target - What we're looking at (Entity, Angle or Point in space)\n     * @param {boolean} levelHead - `true` to keep Jibo's head level while he moves.\n     * @param {boolean} [shouldTrack=false] - If we should track the target entity (Entity-Mode only)\n     * @returns {LookAtRequest}\n     * @intdocs\n     */\n    static generateProtocol(\n        targetMode: TargetMode,\n        target: JIBO.v1.Vector2 | JIBO.v1.Vector3 | JIBO.v1.LookAtEntity | JIBO.v1.AngleVector,\n        levelHead: boolean,\n        shouldTrack = false): JIBO.v1.LookAtRequest {\n        let lookAtTarget:JIBO.v1.LookAtTarget;\n        switch (targetMode) {\n            case TargetMode.Position:\n                lookAtTarget = { Position: target as JIBO.v1.Vector3, type: \"POSITION\" };\n                break;\n            case TargetMode.Angle:\n                lookAtTarget = { Angle: target as JIBO.v1.AngleVector, type: \"ANGLE\" };\n                break;\n            case TargetMode.Entity:\n                lookAtTarget = { Entity: target as JIBO.v1.LookAtEntity, type: \"ENTITY\" };\n                break;\n            case TargetMode.ScreenCoords:\n                lookAtTarget = { ScreenCoords: target as JIBO.v1.Vector2, type: \"CAMERA\" };\n                break;\n        }\n        return {\n            Type: CommandTypes.LookAt,\n            LookAtTarget: lookAtTarget,\n            TrackFlag: shouldTrack,\n            LevelHeadFlag: levelHead\n        };\n    }\n\n    /**\n     * Create LookToken from LookAtRequest protocol.\n     * @method CommandRequester.expression.Look#generateToken\n     * @param {LookAtRequest} protocol - LookAtRequest protocol to generate a LookToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated LookToken should also be sent as a request.\n     * @return {LookToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.LookAtRequest, andSend=false): LookToken {\n        const token = new LookToken(this.owner, protocol);\n\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send LookToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.expression.Look#sendToken\n     * @param {LookToken} token - LookToken to send.\n     * @intdocs\n     */\n}","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {AsyncCommandEvent, CommandTypes} from '@jibo/command-protocol';\n\n/**\n * @class SayToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class SayToken extends RequestToken<JIBO.v1.SayRequest> {\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.SayRequest) {\n        super(owner, protocol);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        switch (event.EventBody.Event) {\n            case AsyncCommandEvent.Stop:\n                this.isComplete = true;\n                this._complete.resolve();\n                break;\n            case AsyncCommandEvent.Error:\n                this.isComplete = true;\n                this._complete.reject(event.EventBody);\n                break;\n        }\n    }\n}\n\n/**\n * Internal Say class\n * @class CommandRequester.expression.Say\n * @intdocs\n */\nexport class Say extends RequestAPI<JIBO.v1.SayRequest, SayToken> {\n\n    /**\n     * Generate Say Protocol\n     * @method CommandRequester.expression.Say#generateProtocol\n     * @param {string} esml_uri - ESML to speak or URI of sound to say\n     * @param {JIBO.v1.SpeakOptions} [speakOptions] Options to configure , can be used in conjunction with ESML strings.\n     * @param {JIBO.v1.AutoRuleConfig} [autoRuleConfig] Configuration for AutoRules , can be used in conjunction with ESML strings.\n     * @returns {SayRequest}\n     * @intdocs\n     */\n    static generateProtocol(esmlUri: string, speakOptions?:JIBO.v1.SpeakOptions, autoRuleConfig?:JIBO.v1.AutoRuleConfig ): JIBO.v1.SayRequest {\n        return {\n            Type: CommandTypes.Say,\n            ESML: esmlUri,\n            SpeakOptions: speakOptions,\n            AutoRuleConfig: autoRuleConfig\n        };\n    }\n\n    /**\n     * Create SayToken from SayRequest protocol.\n     * @method CommandRequester.expression.Say#generateToken\n     * @param {SayRequest} protocol - SayRequest protocol to generate a SayToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated SayToken should also be sent as a request.\n     * @return {SayToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.SayRequest, andSend=false): SayToken {\n        const token = new SayToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send SayToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.expression.Say#sendToken\n     * @param {SayToken} token - SayToken to send.\n     * @intdocs\n     */\n}\n","import * as assets from './assets/Assets';\nimport * as config from './config/Config';\nimport * as display from './display/Display';\nimport * as expression from './expression/Expression';\nimport * as listen from './listen/Listen';\nimport * as media from './media/Media';\nimport * as session from './Session';\nimport * as perception from './perception/Perception';\n\nexport {\n    assets,\n    config,\n    display,\n    expression,\n    listen,\n    media,\n    perception,\n    session,\n};\n","import {CommandRequester} from '../../../CommandRequester';\nimport {Listen as ListenRequester, ListenToken} from './requesters/Listen';\nimport {HotWord, HotWords, HotWordToken} from './requesters/HotWord';\n\n/**\n * Commands for working with Jibo's listening capabilities\n * @namespace CommandRequester.listen\n */\nexport class Listen {\n\n    listenRequest: ListenRequester;\n\n    /**\n     * Commands for subscribing to listen events\n     * @namespace CommandRequester.listen.subscribe\n     */\n    subscribe: Subscriptions;\n\n    constructor(requester:CommandRequester) {\n        this.listenRequest = new ListenRequester(requester);\n        this.subscribe = new Subscriptions(requester);\n    }\n\n    /**\n     * Request for the robot to listen.\n     * @method CommandRequester.listen#start\n     * @param  {number}   [maxSpeechTimeout = 15] Max seconds to listen for speech. If speech exceeds this limit, it will be ignored \n     * (to prevent accidental listens, ie television in the background)\n     * @param  {number}   [maxNoSpeechTimeout = 15] Max seconds to wait for speech to start\n     * @param  {number}   [languageCode = en_US] Language to listen for. Only US English is currently supported.\n     * @return {ListenToken}\n     */\n    public start(\n        maxSpeechTimeout: number = 15,\n        maxNoSpeechTimeout: number = 15,\n        languageCode: string = 'en-US',\n    ): ListenToken {\n        const protocol = ListenRequester.generateProtocol(maxSpeechTimeout, maxNoSpeechTimeout, languageCode);\n        return this.listenRequest.generateToken(protocol, true) as ListenToken;\n    }\n}\n\nexport class Subscriptions {\n\n    private hotWordRequest:HotWord;\n\n    constructor(requester: CommandRequester) {\n        this.hotWordRequest = new HotWord(requester);\n    }\n    \n    /**\n     * Listen for \"Hey Jibo\" only\n     * @method CommandRequester.listen.subscribe#hotWord\n     * @param [listen=false] {boolean} Currently only `false` is supported. \n     * Coming soon: `true` to automatically start a listen after hearing \"Hey Jibo.\"\n     * @param [hotword=HEY_JIBO] Currently only \"Hey Jibo\" is supported\n     * @return {HotWordToken}\n     */\n    public hotword(listen = false, hotword = HotWords.HEY_JIBO): HotWordToken {\n        const protocol = HotWord.generateProtocol(listen, hotword);\n        return this.hotWordRequest.generateToken(protocol, true);\n    }\n}","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport {Event} from '../../../../events/Event';\nimport RequestAPI from '../../../RequestAPI';\nimport {HotWordEvents, StreamTypes, CommandTypes} from '@jibo/command-protocol';\n\nexport enum HotWords {\n    \"HEY_JIBO\" = 'hey jibo',\n}\n\n/**\n * @class HotWordToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class HotWordToken extends RequestToken<JIBO.v1.HotWordRequest> {\n\n    /**\n     * Heard \"Hey Jibo\"\n     * @name HotWordToken#hotWordHeard\n     * @type {Event}\n     */\n    hotWordHeard:Event<JIBO.v1.HotWordHeardEvent>;\n\n    /**\n     * Result of what Jibo head is available.\n     * @name HotWordToken#listenResult\n     * @type {Event<string>}\n     */\n    listenResult:Event<string>;\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.HotWordRequest) {\n        super(owner, protocol);\n        this.hotWordHeard = new Event('Heard hot word');\n        this.listenResult = new Event('Listen complete');\n    }\n\n    /**\n     * @private\n     */\n    handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    handleEvent(event:JIBO.v1.EventMessage) {\n        //handle response\n        const message = event.EventBody;\n        switch (message.Event) {\n            case HotWordEvents.HotWordHeard:\n                this.hotWordHeard.emit(message);\n                break;\n        }\n    }\n}\n\n/**\n * Internal HotWord class\n * @class CommandRequester.listen.subscribe.HotWord\n * @intdocs\n */\nexport class HotWord extends RequestAPI<JIBO.v1.HotWordRequest, HotWordToken>{\n\n    constructor(requester:CommandRequester) {\n        super(requester);\n    }\n\n    /**\n     * Generate HotWord Protocol\n     * @method CommandRequester.listen.subscribe.HotWord#generateProtocol\n     * @param {boolean} [listen=false] - Whether to listen for additional speech input after \"Hey Jibo\" is heard.\n     * @returns {HotWordRequest}\n     * @intdocs\n     */\n    static generateProtocol(listen = false, hotWord = HotWords.HEY_JIBO): JIBO.v1.HotWordRequest {\n        return {\n            Type: CommandTypes.Subscribe,\n            StreamType: StreamTypes.HotWord,\n            StreamFilter: {},\n            Listen: listen\n        };\n    }\n\n    /**\n     * Create HotWordToken from HotWordRequest protocol.\n     * @method CommandRequester.listen.subscribe.HotWord#generateToken\n     * @param {HotWordRequest} protocol - HotWordRequest protocol to generate a HotWordToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated HotWordToken should also be sent as a request.\n     * @return {HotWordToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.HotWordRequest, andSend=false): HotWordToken {\n        const token = new HotWordToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send HotWordToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.listen.subscribe.HotWord#sendToken\n     * @param {HotWordToken} token - HotWordToken to send.\n     * @intdocs\n     */\n    public sendToken(token: HotWordToken): void {\n        this.owner.sendToken(token);\n    }\n}\n","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport {Event} from '../../../../events/Event';\nimport RequestAPI from '../../../RequestAPI';\nimport {CommandTypes, ListenEvents, AsyncCommandEvent} from '@jibo/command-protocol';\n\n/**\n * @class ListenToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class ListenToken extends RequestToken<JIBO.v1.ListenRequest, JIBO.v1.ListenResultEvent | JIBO.v1.ListenStopEvent> {\n    /**\n     * Listen token was updated\n     * @name ListenToken#update\n     * @type {Event}\n     */\n    public update:Event<JIBO.v1.ListenResultEvent>;\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.ListenRequest) {\n        super(owner, protocol);\n        this.update = new Event('Update of listen status');\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n     public handleEvent(event:JIBO.v1.EventMessage) {\n         //handle event\n         const eventData = event.EventBody;\n         switch (eventData.Event) {\n             case AsyncCommandEvent.Stop:\n                 this.isComplete = true;\n                 this._complete.reject(<JIBO.v1.ListenStopEvent>eventData);\n                 break;\n             case ListenEvents.ListenResult:\n                 this.isComplete = true;\n                 this._complete.resolve(<JIBO.v1.ListenResultEvent>eventData);\n                 this.update.emit(<JIBO.v1.ListenResultEvent> eventData);\n                 break;\n             case AsyncCommandEvent.Error:\n                 this.isComplete = true;\n                 this._complete.reject(eventData);\n                 break;\n         }\n     }\n\n}\n\n/**\n * Internal Listen class\n * @class CommandRequester.listen.Listen\n * @intdocs\n */\nexport class Listen extends RequestAPI<JIBO.v1.ListenRequest, ListenToken> {\n\n    /**\n     * Generate Listen Protocol\n     * @method CommandRequester.listen.Listen#generateProtocol\n     * @param {number} [maxSpeechTimeout=15] - Max speech timeout (in seconds)\n     * @param {number} [maxNoSpeechTimeout=15] - Max no speech timeout (in seconds)\n     * @param {string} [languageCode='en-US'] - Language code\n     * @returns {ListenRequest}\n     * @intdocs\n     */\n    static generateProtocol(maxSpeechTimeout = 15, maxNoSpeechTimeout = 15, languageCode = 'en-US'): JIBO.v1.ListenRequest {\n        return {\n            Type: CommandTypes.Listen,\n            MaxSpeechTimeout: maxSpeechTimeout,\n            MaxNoSpeechTimeout: maxNoSpeechTimeout,\n            LanguageCode: languageCode\n        };\n    }\n\n    /**\n     * Create ListenToken from ListenRequest protocol.\n     * @method CommandRequester.listen.Listen#generateToken\n     * @param {ListenRequest} protocol - ListenRequest protocol to generate a ListenToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated ListenToken should also be sent as a request.\n     * @return {ListenToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.ListenRequest, andSend=false): ListenToken {\n        const token = new ListenToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send ListenToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.listen.Listen#sendToken\n     * @param {ListenToken} token - ListenToken to send.\n     * @intdocs\n     */\n}","import {Photo, PhotoToken} from './requesters/Photo';\nimport {Video, VideoToken} from './requesters/Video';\nimport {CommandRequester} from '../../../CommandRequester';\n\n/**\n * Commands for working with Jibo's media\n * @namespace CommandRequester.media\n */\nexport class Media {\n\n    /**\n     * Commands for capturing media from Jibo's cameras\n     * @namespace CommandRequester.media.capture\n     */\n    capture: Capture;\n\n    constructor(requester) {\n        this.capture = new Capture(requester);\n    }\n}\n\nexport class Capture {\n\n    photoRequest: Photo;\n    videoRequest: Video;\n\n    constructor(requester: CommandRequester) {\n        this.photoRequest = new Photo(requester);\n        this.videoRequest = new Video(requester);\n    }\n\n    /**\n     * Take a photo\n     * @method CommandRequester.media.capture#photo\n     * @param  {CommandRequester.media.Camera} [camera=left] Which camera to use\n     * @param  {CommandRequester.media.CameraResolution} [resolution=low] Choose a resolution.\n     * @param  {boolean} [distortion=true] `false` for fisheye lense.\n     * @return {PhotoToken}\n     */\n    public photo(\n        camera: CommandRequester.media.Camera = CommandRequester.media.Camera.left,\n        resolution: CommandRequester.media.CameraResolution = CommandRequester.media.CameraResolution.low,\n        distortion: boolean = true,\n    ): PhotoToken {\n        const cameraType = CommandRequester.media.Camera[camera];\n        const protocol = Photo.generateProtocol(cameraType, resolution, distortion);\n        return this.photoRequest.generateToken(protocol, true) as PhotoToken;\n    }\n\n    /**\n     * Stream what Jibo currently sees\n     * @method CommandRequester.media.capture#video\n     * @param  {CommandRequester.media.VideoType} [videoType=normal] Choose a video type\n     * @param  {number} [duration=0] How long to stream for. Currently unsupported. Call `cancel()` to stop streaming\n     * @return {VideoToken}\n     */\n    public video(\n        videoType: CommandRequester.media.VideoType = CommandRequester.media.VideoType.normal,\n        duration: number = 0,\n    ): VideoToken {\n        const protocol = Video.generateProtocol(videoType, duration);\n        return this.videoRequest.generateToken(protocol, true);\n    }\n}","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {CommandTypes, PhotoEvents, ResponseCode} from '@jibo/command-protocol';\n\n\n/**\n * @class PhotoToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class PhotoToken extends RequestToken<JIBO.v1.TakePhotoRequest, JIBO.v1.TakePhotoEvent> {\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.TakePhotoRequest) {\n        super(owner, protocol);\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= ResponseCode.BadRequest) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle response\n        const message = event.EventBody;\n        if (message.Event === PhotoEvents.TakePhoto) {\n            this.isComplete = true;\n            this._complete.resolve(message);\n        }\n    }\n}\n\n/**\n * Internal Photo class\n * @class CommandRequester.media.capture.Photo\n * @intdocs\n */\nexport class Photo extends RequestAPI<JIBO.v1.TakePhotoRequest, PhotoToken> {\n\n    /**\n     * Generate Photo Protocol\n     * @method CommandRequester.media.capture.Photo#generateProtocol\n     * @param {Camera} [camera=left] - Which camera to use -- left or right.\n     * @param {CameraResolution} [resolution=LowRes] - Choose a resolution.\n     * @param {boolean} [removeDistortion=true] - Use `false` for fisheye lense.\n     * @returns {TakePhotoRequest}\n     * @intdocs\n     */\n    static generateProtocol(\n        camera:JIBO.v1.Cameras.CameraType = 'left',\n        resolution:JIBO.v1.CameraResolutions.CameraResolutionType = 'lowRes',\n        removeDistortion = true): JIBO.v1.TakePhotoRequest {\n        return {\n            Type: CommandTypes.TakePhoto,\n            Resolution: resolution,\n            Camera: camera,\n            Distortion: removeDistortion\n        };\n    }\n\n    /**\n     * Create PhotoToken from TakePhotoRequest protocol.\n     * @method CommandRequester.media.capture.Photo#generateToken\n     * @param {TakePhotoRequest} protocol - TakePhotoRequest protocol to generate a PhotoToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated PhotoToken should also be sent as a request.\n     * @return {PhotoToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.TakePhotoRequest, andSend=false): PhotoToken {\n        const token = new PhotoToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n}\n","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {Event} from '../../../../events/Event';\nimport {CommandTypes, VideoEvents, ResponseCode} from '@jibo/command-protocol';\n\n/**\n * @class VideoToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class VideoToken extends RequestToken<JIBO.v1.VideoRequest, never> {\n\n    /**\n     * URL for video stream is ready.\n     * @name VideoToken#streamReady\n     * @type {Event<string>}\n     */\n    public streamReady:Event<string>;\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.VideoRequest) {\n        super(owner, protocol);\n        this.streamReady = new Event('Video ready for streaming');\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= ResponseCode.BadRequest) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle response\n        const eventData = event.EventBody;\n        if (eventData.Event === VideoEvents.VideoReady) {\n            this.streamReady.emit(eventData.URI);\n        }\n    }\n}\n\n/**\n * Internal Video class\n * @class CommandRequester.media.capture.Video\n * @intdocs\n */\nexport class Video extends RequestAPI<JIBO.v1.VideoRequest, VideoToken> {\n\n    /**\n     * Generate Video Protocol\n     * @method CommandRequester.media.capture.Video#generateProtocol\n     * @param {VideoType} [type=VideoType.Normal] - Choose a video type from the enum.\n     * @param {number} [duration=0] - How long to record for (in ms).\n     * @returns {VideoRequest}\n     * @intdocs\n     */\n    static generateProtocol(\n        type:JIBO.v1.Videos.VideoType = 'NORMAL', duration = 0): JIBO.v1.VideoRequest {\n        return {\n            Type: CommandTypes.Video,\n            Duration: duration,\n            VideoType: type\n        };\n    }\n\n    /**\n     * Create VideoToken from VideoRequest protocol.\n     * @method CommandRequester.media.capture.Video#generateToken\n     * @param {VideoRequest} protocol - VideoRequest protocol to generate a VideoToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated VideoToken should also be sent as a request.\n     * @return {VideoToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.VideoRequest, andSend=false): VideoToken {\n        const token = new VideoToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send VideoToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.media.capture.Video#sendToken\n     * @param {VideoToken} token - VideoToken to send.\n     * @intdocs\n     */\n}","import {CommandRequester} from '../../../CommandRequester';\nimport {MotionToken, Motion} from './requesters/Motion';\nimport {HeadTouchToken, HeadTouch} from './requesters/HeadTouch';\nimport {FaceTrackToken, FaceTrack} from './requesters/FaceTrack';\n\n/**\n * Commands for working with Jibo's sensory input\n * @namespace CommandRequester.perception\n */\nexport class Perception{\n\n    /**\n     * Commands for subcribing to perception events\n     * @namespace CommandRequester.perception.subscribe\n     */\n    public subscribe;\n\n    constructor(requester:CommandRequester) {\n        this.subscribe = new Subscriptions(requester);\n    }\n}\n\nexport class Subscriptions {\n\n    private motionRequest:Motion;\n    private headTouchRequest:HeadTouch;\n    private faceTrackRequest:FaceTrack;\n\n    constructor(requester: CommandRequester) {\n        this.motionRequest = new Motion(requester);\n        this.headTouchRequest = new HeadTouch(requester);\n        this.faceTrackRequest = new FaceTrack(requester);\n    }\n    \n    /**\n     * @method CommandRequester.perception.subscribe#headTouch\n     * @description Listen for head touch.\n     * @return {HeadTouchToken}\n     */\n    public headTouch(): HeadTouchToken {\n        const protocol = HeadTouch.generateProtocol();\n        return this.headTouchRequest.generateToken(protocol, true);\n    }\n\n    /**\n     * Subcribe to motion events in Jibo's field of vision\n     * @method CommandRequester.perception.subscribe#motion\n     * @return {MotionToken}\n     */\n    public motion(): MotionToken {\n        const protocol = Motion.generateProtocol();\n        return this.motionRequest.generateToken(protocol, true);\n    }\n\n    /**\n     * Subscribe to face-finding events in Jibo's field of vision\n     * @method CommandRequester.perception.subscribe#face\n     * @return {FaceTrackToken}\n     */\n    public face(): FaceTrackToken {\n        const protocol = FaceTrack.generateProtocol();\n        return this.faceTrackRequest.generateToken(protocol, true);\n    }\n}","import RequestToken from '../../../../tokens/RequestToken';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport {Event} from '../../../../events/Event';\nimport {CommandTypes, EntityTrackEvents, StreamTypes} from '@jibo/command-protocol';\n\n/**\n * @class FaceTrackToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class FaceTrackToken extends RequestToken<JIBO.v1.EntityRequest, never> {\n    /**\n     * Update on location of face being tracked.\n     * @name FaceTrackToken#update\n     * @type {Event}\n     */\n    public update:Event<JIBO.v1.TrackedEntity[]>;\n    /**\n     * New face being tracked.\n     * @name FaceTrackToken#gained\n     * @type {Event}\n     */\n    public gained:Event<JIBO.v1.TrackedEntity[]>;\n    /**\n     * Currently tracked face was lost.\n     * @name FaceTrackToken#lost\n     * @type {Event}\n     */\n    public lost:Event<JIBO.v1.TrackedEntity[]>;\n\n    constructor(owner:CommandRequester, protocol: JIBO.v1.EntityRequest) {\n        super(owner, protocol);\n        this.update = new Event('Update of tracked entities');\n        this.gained = new Event('Entity found');\n        this.lost = new Event('Entity lost');\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle response\n        const message = event.EventBody;\n        switch (message.Event) {\n            case EntityTrackEvents.TrackGained:\n                this.gained.emit(message.Tracks);\n                break;\n            case EntityTrackEvents.TrackUpdate:\n                this.update.emit(message.Tracks);\n                break;\n            case EntityTrackEvents.TrackLost:\n                this.lost.emit(message.Tracks);\n                break;\n        }\n    }\n}\n\n/**\n * Internal FaceTrack class\n * @class CommandRequester.perception.subscribe.FaceTrack\n * @intdocs\n */\nexport class FaceTrack extends RequestAPI<JIBO.v1.EntityRequest, FaceTrackToken> {\n\n    /**\n     * Generate Face Track Protocol\n     * @method CommandRequester.perception.subscribe.FaceTrack#generateProtocol\n     * @returns {EntityRequest}\n     * @intdocs\n     */\n    static generateProtocol(): JIBO.v1.EntityRequest {\n        return {\n            Type: CommandTypes.Subscribe,\n            StreamType: StreamTypes.Entity,\n            StreamFilter: {}\n        };\n    }\n\n    /**\n     * Create FaceTrackToken from EntityRequest protocol.\n     * @method CommandRequester.perception.subscribe.FaceTrack#generateToken\n     * @param {EntityRequest} protocol - EntityRequest protocol to generate a FaceTrackToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated FaceTrackToken should also be sent as a request.\n     * @return {FaceTrackToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.EntityRequest, andSend=false): FaceTrackToken {\n        const token = new FaceTrackToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send FaceTrackToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.perception.subscribe.FaceTrack#sendToken\n     * @param {FaceTrackToken} token - FaceTrackToken to send.\n     * @intdocs\n     */\n}","import RequestToken from '../../../../tokens/RequestToken';\nimport RequestAPI from '../../../RequestAPI';\nimport {CommandRequester} from '../../../../CommandRequester';\nimport {Event} from '../../../../events/Event';\nimport {CommandTypes, StreamTypes, HeadTouchEvents, AsyncCommandEvent} from '@jibo/command-protocol';\n\n/**\n * @class HeadTouchToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class HeadTouchToken extends RequestToken<JIBO.v1.HeadTouchRequest> {\n\n    /**\n     * One or more of Jibo's touchpad sensors was touched. \n     * See {@link https://app-toolkit.jibo.com/images/JiboHeadSensors.png} for a diagram of the location of\n     * the six sensors\n     * @name HeadTouchToken#HeadTouchEvent\n     * @type {Event}\n     */\n    public update:Event<boolean[]>;\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: JIBO.v1.HeadTouchRequest) {\n        super(owner, protocol);\n        this.update = new Event('Update of head touch status');\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        //handle ack\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        //handle event\n        const message = event.EventBody;\n        switch (message.Event) {\n            case AsyncCommandEvent.Stop:\n                this.isComplete = true;\n                this._complete.resolve();\n                break;\n            case AsyncCommandEvent.Error:\n                this.isComplete = true;\n                this._complete.reject();\n                break;\n            case HeadTouchEvents.HeadTouched:\n                this.update.emit(message.Pads);\n                break;\n        }\n    }\n}\n\n/**\n * Internal HeadTouch class\n * @class CommandRequester.perception.subscribe.HeadTouch\n * @intdocs\n */\nexport class HeadTouch extends RequestAPI<JIBO.v1.HeadTouchRequest, HeadTouchToken> {\n\n    /**\n     * Generate Head Touch Protocol\n     * @method CommandRequester.perception.subscribe.HeadTouch#generateProtocol\n     * @returns {HeadTouchRequest}\n     * @intdocs\n     */\n    static generateProtocol(): JIBO.v1.HeadTouchRequest {\n        return {\n            Type: CommandTypes.Subscribe,\n            StreamType: StreamTypes.HeadTouch,\n            StreamFilter: {},\n        };\n    }\n\n    /**\n     * Create HeadTouchToken from HeadTouchRequest protocol.\n     * @method CommandRequester.perception.subscribe.HeadTouch#generateToken\n     * @param {HeadTouchRequest} protocol - HeadTouchRequest protocol to generate a HeadTouchToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated HeadTouchToken should also be sent as a request.\n     * @return {HeadTouchToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.HeadTouchRequest, andSend=false): HeadTouchToken {\n        const token = new HeadTouchToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send HeadTouchToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.perception.subscribe.HeadTouch#sendToken\n     * @param {HeadTouchToken} token - HeadTouchToken to send.\n     * @intdocs\n     */\n}\n","import {CommandRequester} from '../../../../CommandRequester';\nimport RequestAPI from '../../../RequestAPI';\nimport RequestToken from '../../../../tokens/RequestToken';\nimport {Event} from '../../../../events/Event';\nimport {MotionEvents, CommandTypes, StreamTypes} from '@jibo/command-protocol';\n\n/**\n * @class MotionToken\n * @extends RequestToken\n * @hideconstructor\n */\nexport class MotionToken extends RequestToken<JIBO.v1.MotionRequest, never> {\n    /**\n     * @name MotionToken#update\n     * @type {Event}\n     */\n    public update:Event<JIBO.v1.MotionEntity[]>;\n\n    constructor(owner:CommandRequester, protocol: JIBO.v1.MotionRequest) {\n        super(owner, protocol);\n        this.update = new Event('Update of motion entities');\n    }\n\n    /**\n     * @private\n     */\n    public handleAck(ack:JIBO.v1.Acknowledgement) {\n        if (ack.Response.ResponseCode >= 400) {\n            this.isComplete = true;\n            this._complete.reject(ack.Response);\n            return;\n        }\n    }\n\n    /**\n     * @private\n     */\n    public handleEvent(event:JIBO.v1.EventMessage) {\n        const message = event.EventBody;\n        switch (message.Event) {\n            case MotionEvents.MotionDetected:\n                this.update.emit(message.Motions);\n                break;\n        }\n    }\n}\n\n/**\n * Internal Motion class\n * @class CommandRequester.perception.subscribe.Motion\n * @intdocs\n */\nexport class Motion extends RequestAPI<JIBO.v1.MotionRequest, MotionToken> {\n\n    /**\n     * Generate Motion Track Protocol\n     * @method CommandRequester.perception.subscribe.Motion#generateProtocol\n     * @returns {MotionRequest}\n     * @intdocs\n     */\n    static generateProtocol(): JIBO.v1.MotionRequest {\n        return {\n            Type: CommandTypes.Subscribe,\n            StreamType: StreamTypes.Motion,\n            StreamFilter: {}\n        };\n    }\n\n    /**\n     * Create MotionToken from MotionRequest protocol.\n     * @method CommandRequester.perception.subscribe.Motion#generateToken\n     * @param {MotionRequest} protocol - MotionRequest protocol to generate a MotionToken from.\n     * @param {boolean} [andSend=false] - `true` if the generated MotionToken should also be sent as a request.\n     * @return {MotionToken}\n     * @intdocs\n     */\n    public generateToken(protocol: JIBO.v1.MotionRequest, andSend=false): MotionToken {\n        const token = new MotionToken(this.owner, protocol);\n        if (andSend) {\n            super.sendToken(token);\n        }\n        return token;\n    }\n\n    /**\n     * Send MotionToken request.\n     * <p>NOTE: Implementation in base class {@link RequestAPI}</p>\n     * @method CommandRequester.perception.subscribe.Motion#sendToken\n     * @param {MotionToken} token - MotionToken to send.\n     * @intdocs\n     */\n}","import {generateTransactionID} from '../../UUID';\n\n\n/**\n * @namespace Requester.v2.display\n * @intdocs\n */\nexport class Display {\n\n    /**\n     * Generates Display Protocol. See [Phoenix RCP](https://github.jibo.com/phoenix/jibo-command-protocol) for `JIBO` docs.\n     * @method Requester.v2.display#generateProtocol\n     * @param {string} name - Unique name of the Display.\n     * @param {(JIBO.v2.behaviors.EyeDisplay | JIBO.v2.behaviors.NoneDisplay | JIBO.v2.behaviors.MenuDisplay | JIBO.v2.behaviors.Image | JIBO.v2.behaviors.PhotoGallery | JIBO.v2.behaviors.LoopMembersMenu | JIBO.v2.behaviors.SkillDisplay | JIBO.v2.behaviors.TextDisplay)} view - The view to be displayed.\n     * @param {(0 | 1 | 2 | 3 | 4)} layer - Which layer the Display will be active on.\n     * @param {boolean} visible - If `visible` is `false`, the display will not show until a ShowDisplayAction is called on it.\n     * @param {boolean} keepDisplay - If `keepDisplay` is `true`, the display will stay upon completion until removed (?)\n     * @param {JIBO.v2.behaviors.Action[]} onCancel - Action handlers for when the Display is cancelled.\n     * @param {(\"dim\" | \"clear\")} [overlay] - Overlay options for the Display.\n     * @returns {JIBO.v2.behaviors.Display}\n     */\n    static generateProtocol(\n        name: string,\n        view: JIBO.v2.behaviors.EyeDisplay | JIBO.v2.behaviors.NoneDisplay | JIBO.v2.behaviors.MenuDisplay | JIBO.v2.behaviors.Image | JIBO.v2.behaviors.PhotoGallery | JIBO.v2.behaviors.LoopMembersMenu | JIBO.v2.behaviors.SkillDisplay | JIBO.v2.behaviors.TextDisplay,\n        layer: 0 | 1 | 2 | 3 | 4,\n        visible: boolean,\n        keepDisplay: boolean,\n        onCancel: JIBO.v2.behaviors.Action[],\n        overlay?: \"dim\" | \"clear\"\n    ): JIBO.v2.behaviors.Display {\n        return {\n            id: generateTransactionID(),\n            type: \"DISPLAY\",\n            name,\n            view,\n            layer,\n            overlay,\n            visible,\n            keepDisplay,\n            onCancel\n        };\n    }\n}\n\n","import {generateTransactionID} from '../../UUID';\n\n\n\n/**\n * @namespace Requester.v2.listen\n * @intdocs\n */\nexport class Listen {\n\n    /**\n     * Generates Listen Protocol. See [Phoenix RCP](https://github.jibo.com/phoenix/jibo-command-protocol) for `JIBO` docs.\n     * @method Requester.v2.listen#generateProtocol\n     * @param {(string|string[])} ruleContext - Robust Parser Rules / Dialog Flow Agents we're listening for.\n     * @param {JIBO.v2.behaviors.Intent[]} intents - Dialog Flow intents\n     * @returns {JIBO.v2.behaviors.Listen}\n     */\n    static generateProtocol(rules: string | string[], intents?: JIBO.v2.behaviors.Intent[]): JIBO.v2.behaviors.Listen {\n        const contexts = Array.isArray(rules) ? rules : [rules];\n        return {\n            id: generateTransactionID(),\n            type: \"LISTEN\",\n            contexts,\n            intents\n        };\n    }\n}","import {generateTransactionID} from '../../UUID';\n\n\n\n/**\n * @namespace Requester.v2.play\n * @intdocs\n */\nexport class Play {\n\n    /**\n     * Generates Play Protocol. See [Phoenix RCP](https://github.jibo.com/phoenix/jibo-command-protocol) for `JIBO` docs.\n     * @method Requester.v2.play#generateProtocol\n     * @param {string} esml - ESML string to be spoken.\n     * @param {(string|Object)} [config] - AutoRule configuration options for the Play request.\n     * @param {Object} [options] - Speak options for the Play request.\n     * @returns {JIBO.v2.behaviors.Play}\n     */\n    static generateProtocol(esml: string, config?: string | Object, options?: Object): JIBO.v2.behaviors.Play {\n        return {\n            id: generateTransactionID(),\n            type: \"PLAY\",\n            autoRuleConfig: config,\n            speakOptions: options,\n            esml\n        };\n    }\n}","import {generateTransactionID} from '../../UUID';\n\n\n/**\n * @namespace Requester.v2.slim\n * @intdocs\n */\nexport class SLIM {\n\n    /**\n     * Generates SLIM Protocol. See [Phoenix RCP](https://github.jibo.com/phoenix/jibo-command-protocol) for `JIBO` docs.\n     * @method Requester.v2.slim#generateProtocol\n     * @param {JIBO.v2.behaviors.SLIMConfig} config - What components will comprise the SLIM.\n     * @param {JIBO.v2.behaviors.SLIMOptions} [options] - Configuration options for the SLIM.\n     * @returns {JIBO.v2.behaviors.SLIM}\n     */\n    static generateProtocol(config: JIBO.v2.behaviors.SLIMConfig, options?: JIBO.v2.behaviors.SLIMOptions): JIBO.v2.behaviors.SLIM {\n        return {\n            id: generateTransactionID(),\n            type: \"SLIM\",\n            config,\n            options\n        };\n    }\n}","import { generateTransactionID } from '../../../UUID';\n\n\n/**\n * @class Requester.v2.emotion.ImpactEmotion\n * @intdocs\n */\nexport class ImpactEmotion {\n\n    /**\n     * Generates ImpactEmotion Protocol. See [Phoenix RCP](https://github.jibo.com/phoenix/jibo-command-protocol) for `JIBO` docs.\n     * @method Requester.v2.emotion.ImpactEmotion#generateProtocol\n     * @param {(\"NONE\" | \"LOW_POS\" | \"MEDIUM_POS\" | \"HIGH_POS\" | \"LOW_NEG\" | \"MEDIUM_NEG\" | \"HIGH_NEG\")} [valence] - Impact the valence axis\n     * @param {(\"NONE\" | \"LOW_POS\" | \"MEDIUM_POS\" | \"HIGH_POS\" | \"LOW_NEG\" | \"MEDIUM_NEG\" | \"HIGH_NEG\")} [confidence] - Impact the confidence axis\n     * @returns {JIBO.v2.behaviors.ImpactEmotion}\n     */\n    static generateProtocol(\n        valence?: \"NONE\" | \"LOW_POS\" | \"MEDIUM_POS\" | \"HIGH_POS\" | \"LOW_NEG\" | \"MEDIUM_NEG\" | \"HIGH_NEG\",\n        confidence?: \"NONE\" | \"LOW_POS\" | \"MEDIUM_POS\" | \"HIGH_POS\" | \"LOW_NEG\" | \"MEDIUM_NEG\" | \"HIGH_NEG\"\n    ): JIBO.v2.behaviors.ImpactEmotion {\n        return {\n            id: generateTransactionID(),\n            type: \"IMPACT_EMOTION\",\n            valence,\n            confidence\n        };\n    }\n}","/**\n * @namespace Requester.v2.emotion\n * @intdocs\n */\n\nexport * from './ImpactEmotion';","import * as structural from './structural';\nimport * as emotion from './emotion';\nimport * as perception from './perception';\nimport * as play from './Play';\nimport * as listen from './Listen';\nimport * as display from './Display';\nimport * as slim from './SLIM';\n\n/**\n * @description Namespace for the v2 RCP protocol.\n * </br> See [Phoenix RCP](https://github.jibo.com/phoenix/jibo-command-protocol) for all `JIBO` docs.\n * @namespace Requester.v2\n * @intdocs\n */\n\nexport {\n    play,\n    listen,\n    display,\n    slim,\n    perception,\n    emotion,\n    structural\n};\n","import { generateTransactionID } from '../../../UUID';\n\n\n/**\n * @class Requester.v2.perception.SetPresentPerson\n * @intdocs\n */\nexport class SetPresentPerson {\n\n    /**\n     * Generates SetPresentPerson Protocol. See [Phoenix RCP](https://github.jibo.com/phoenix/jibo-command-protocol) for `JIBO` docs.\n     * @method Requester.v2.perception.SetPresentPerson#generateProtocol\n     * @param {string} looperId - Loop member's ID\n     * @param {(\"VOICE\" | \"FACE\" | \"USER_OVERRIDE\")} source - Source of the ID\n     * @param {number} confidence - Confidence level in this claim of presence\n     * @returns {JIBO.v2.behaviors.SetPresentPerson}\n     */\n    static generateProtocol(\n        looperId: string,\n        source: \"VOICE\" | \"FACE\" | \"USER_OVERRIDE\",\n        confidence: number\n    ): JIBO.v2.behaviors.SetPresentPerson {\n        return {\n            id: generateTransactionID(),\n            type: \"SET_PRESENT_PERSON\",\n            looperId,\n            source,\n            confidence\n        };\n    }\n}","/**\n * @namespace Requester.v2.perception\n * @intdocs\n */\n\nexport * from './SetPresentPerson';","import { generateTransactionID } from '../../../UUID';\n\n\n/**\n * @class Requester.v2.structural.Parallel\n * @intdocs\n */\nexport class Parallel {\n\n    /**\n     * Generates Parallel Protocol. See [Phoenix RCP](https://github.jibo.com/phoenix/jibo-command-protocol) for `JIBO` docs.\n     * @method Requester.v2.structural.Parallel#generateProtocol\n     * @param {JIBO.v2.behaviors.Behavior[]} behaviors - Behaviors to execute in parallel\n     * @param {JIBO.v2.behaviors.Behavior[]} [succeedOnFirst=false] - `true` if the entire behavior should succeed when the child who suceeds first does.\n     * @returns {JIBO.v2.behaviors.Parallel}\n     */\n    static generateProtocol(behaviors: JIBO.v2.behaviors.Behavior[], succeedOnFirst=false): JIBO.v2.behaviors.Parallel {\n        return {\n            id: generateTransactionID(),\n            type: \"PARALLEL\",\n            children: behaviors,\n            succeedOnFirst\n        };\n    }\n}","import {generateTransactionID} from '../../../UUID';\n\n\n/**\n * @class Requester.v2.structural.Sequence\n * @intdocs\n */\nexport class Sequence {\n\n    /**\n     * Generates Sequence Protocol. See [Phoenix RCP](https://github.jibo.com/phoenix/jibo-command-protocol) for `JIBO` docs.\n     * @method Requester.v2.structural.Sequence#generateProtocol\n     * @param {JIBO.v2.behaviors.Behavior[]} behaviors - Behaviors to execute in sequence\n     * @returns {JIBO.v2.behaviors.Sequence}\n     */\n    static generateProtocol(behaviors: JIBO.v2.behaviors.Behavior[]): JIBO.v2.behaviors.Sequence {\n        return {\n            id: generateTransactionID(),\n            type: \"SEQUENCE\",\n            children: behaviors\n        };\n    }\n}","/**\n * @namespace Requester.v2.structural\n * @intdocs\n */\n\nexport * from './Parallel';\nexport * from './Sequence';","import {CommandRequester} from '../CommandRequester';\nimport ExternalPromise from '../utils/ExternalPromise';\n\n//as TypedEvents from jibo-typed-events\n/**\n * Every request has a token with a completion promise and any events relative to that command.\n * @class RequestToken\n */\nexport default abstract class RequestToken<C extends JIBO.v1.BaseCommand, Result = any> {\n    /**\n     * Protocol data to be sent along the websocket.\n     * @private\n     */\n    public protocol:C;\n    /**\n     * Unique id for this request, and any responses to it.\n     * @private\n     */\n    public requestId:string;\n    /**\n     * Internal flag for the CommandRequester to know that it no longer needs to track the token. Must\n     * be updated by subclasses when `complete` resolves.\n     * @private\n     */\n    public isComplete:boolean;\n\n    /**\n     * For subclasses to know where to send cancel requests\n     * @private\n     */\n    public owner:CommandRequester;\n\n    //probably everyone needs to implement this a little different - resolves when command completes\n    //rejects if command is rejected/interrupted\n    protected _complete:ExternalPromise<Result>;\n\n    //subclasses should override this to provide a typed promise\n    /**\n     * Request completion promise.\n     * @method RequestToken#complete\n     */\n    public get complete() {\n        return this._complete.promise;\n    }\n\n    /** @private */\n    constructor(owner:CommandRequester, protocol: C) {\n        this.owner = owner;\n        this.protocol = protocol;\n        this.isComplete = false;\n        this._complete = new ExternalPromise();\n    }\n\n    /**\n     * Cancel the request.\n     * @method RequestToken#cancel\n     */\n    public cancel():void {\n        if (this.isComplete) {\n            return;\n        }\n        this.isComplete = true;\n        this._complete.reject();\n\n        //overwrite the protocol for this token, then send the request\n        const cancel:JIBO.v1.CancelRequest = {\n            Type: \"Cancel\",\n            ID: this.requestId\n        };\n        // Need a unique requestId for the cancel command\n        this.owner.sendRequest(cancel);\n    }\n\n    /**\n     * Internal listener method for handling responses\n     * @private\n     */\n    public abstract handleAck(data:JIBO.v1.Acknowledgement):void;\n\n    /**\n     * Internal listener method for handling responses\n     * @private\n     */\n    public abstract handleEvent(data:JIBO.v1.EventMessage):void;\n}\n","export default class ExternalPromise<T> {\n    public resolve: (d?: T) => any;\n    public reject: (err?: any) => any;\n    public promise: Promise<T>;\n\n    constructor() {\n        this.promise = new Promise<T>((res, rej) => {\n            this.resolve = res;\n            this.reject = rej;\n        });\n    }\n}","export {CommandRequester} from './CommandRequester';\nexport * from './requests';\nimport * as enums from '@jibo/command-protocol';\nexport {enums};\nexport {Event} from './events/Event';\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIuLi9jb21tYW5kLXByb3RvY29sL2xpYi9jb21tYW5kLXByb3RvY29sLmpzIiwic3JjL0NvbW1hbmRSZXF1ZXN0ZXIudHMiLCJzcmMvVVVJRC50cyIsInNyYy9jb25uZWN0aW9uL0Nvbm5lY3Rpb25NYW5hZ2VyLnRzIiwic3JjL2V2ZW50cy9FdmVudC50cyIsInNyYy9yZXF1ZXN0cy9SZXF1ZXN0QVBJLnRzIiwic3JjL3JlcXVlc3RzL2luZGV4LnRzIiwic3JjL3JlcXVlc3RzL3YxL1Nlc3Npb24udHMiLCJzcmMvcmVxdWVzdHMvdjEvYXNzZXRzL0Fzc2V0cy50cyIsInNyYy9yZXF1ZXN0cy92MS9hc3NldHMvcmVxdWVzdGVycy9Bc3NldHMudHMiLCJzcmMvcmVxdWVzdHMvdjEvY29uZmlnL0NvbmZpZy50cyIsInNyYy9yZXF1ZXN0cy92MS9jb25maWcvcmVxdWVzdGVycy9Db25maWcudHMiLCJzcmMvcmVxdWVzdHMvdjEvZGlzcGxheS9EaXNwbGF5LnRzIiwic3JjL3JlcXVlc3RzL3YxL2Rpc3BsYXkvcmVxdWVzdGVycy9EaXNwbGF5LnRzIiwic3JjL3JlcXVlc3RzL3YxL2Rpc3BsYXkvcmVxdWVzdGVycy9HZXN0dXJlLnRzIiwic3JjL3JlcXVlc3RzL3YxL2V4cHJlc3Npb24vRXhwcmVzc2lvbi50cyIsInNyYy9yZXF1ZXN0cy92MS9leHByZXNzaW9uL3JlcXVlc3RlcnMvQXR0ZW50aW9uLnRzIiwic3JjL3JlcXVlc3RzL3YxL2V4cHJlc3Npb24vcmVxdWVzdGVycy9Mb29rLnRzIiwic3JjL3JlcXVlc3RzL3YxL2V4cHJlc3Npb24vcmVxdWVzdGVycy9TYXkudHMiLCJzcmMvcmVxdWVzdHMvdjEvaW5kZXgudHMiLCJzcmMvcmVxdWVzdHMvdjEvbGlzdGVuL0xpc3Rlbi50cyIsInNyYy9yZXF1ZXN0cy92MS9saXN0ZW4vcmVxdWVzdGVycy9Ib3RXb3JkLnRzIiwic3JjL3JlcXVlc3RzL3YxL2xpc3Rlbi9yZXF1ZXN0ZXJzL0xpc3Rlbi50cyIsInNyYy9yZXF1ZXN0cy92MS9tZWRpYS9NZWRpYS50cyIsInNyYy9yZXF1ZXN0cy92MS9tZWRpYS9yZXF1ZXN0ZXJzL1Bob3RvLnRzIiwic3JjL3JlcXVlc3RzL3YxL21lZGlhL3JlcXVlc3RlcnMvVmlkZW8udHMiLCJzcmMvcmVxdWVzdHMvdjEvcGVyY2VwdGlvbi9QZXJjZXB0aW9uLnRzIiwic3JjL3JlcXVlc3RzL3YxL3BlcmNlcHRpb24vcmVxdWVzdGVycy9GYWNlVHJhY2sudHMiLCJzcmMvcmVxdWVzdHMvdjEvcGVyY2VwdGlvbi9yZXF1ZXN0ZXJzL0hlYWRUb3VjaC50cyIsInNyYy9yZXF1ZXN0cy92MS9wZXJjZXB0aW9uL3JlcXVlc3RlcnMvTW90aW9uLnRzIiwic3JjL3JlcXVlc3RzL3YyL0Rpc3BsYXkudHMiLCJzcmMvcmVxdWVzdHMvdjIvTGlzdGVuLnRzIiwic3JjL3JlcXVlc3RzL3YyL1BsYXkudHMiLCJzcmMvcmVxdWVzdHMvdjIvU0xJTS50cyIsInNyYy9yZXF1ZXN0cy92Mi9lbW90aW9uL0ltcGFjdEVtb3Rpb24udHMiLCJzcmMvcmVxdWVzdHMvdjIvZW1vdGlvbi9pbmRleC50cyIsInNyYy9yZXF1ZXN0cy92Mi9pbmRleC50cyIsInNyYy9yZXF1ZXN0cy92Mi9wZXJjZXB0aW9uL1NldFByZXNlbnRQZXJzb24udHMiLCJzcmMvcmVxdWVzdHMvdjIvcGVyY2VwdGlvbi9pbmRleC50cyIsInNyYy9yZXF1ZXN0cy92Mi9zdHJ1Y3R1cmFsL1BhcmFsbGVsLnRzIiwic3JjL3JlcXVlc3RzL3YyL3N0cnVjdHVyYWwvU2VxdWVuY2UudHMiLCJzcmMvcmVxdWVzdHMvdjIvc3RydWN0dXJhbC9pbmRleC50cyIsInNyYy90b2tlbnMvUmVxdWVzdFRva2VuLnRzIiwic3JjL3V0aWxzL0V4dGVybmFsUHJvbWlzZS50cyIsInNyYy9pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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QUFFLENBQUM7SUFDM0MsQ0FBQztJQVZELElBQVcsUUFBUTtRQUNmLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztJQUNsQyxDQUFDO0lBY00sTUFBTTtRQUNULEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1lBQ2xCLE1BQU0sQ0FBQztRQUNYLENBQUM7UUFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUN2QixJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDO1FBR3hCLE1BQU0sTUFBTSxHQUF5QjtZQUNqQyxJQUFJLEVBQUUsUUFBUTtZQUNkLEVBQUUsRUFBRSxJQUFJLENBQUMsU0FBUztTQUNyQixDQUFDO1FBRUYsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDbkMsQ0FBQztDQWFKO0FBNUVELCtCQTRFQzs7Ozs7QUNwRkQ7SUFLSTtRQUNJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxPQUFPLENBQUksQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUU7WUFDdkMsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7WUFDbkIsSUFBSSxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDdEIsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0NBQ0o7QUFYRCxrQ0FXQzs7Ozs7Ozs7QUNYRCx1REFBb0Q7QUFBNUMsOENBQUEsZ0JBQWdCLENBQUE7QUFDeEIsZ0NBQTJCO0FBQzNCLGdEQUFnRDtBQUN4QyxzQkFBSztBQUNiLHdDQUFxQztBQUE3Qix3QkFBQSxLQUFLLENBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuY29tbWFuZFByb3RvY29sID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkoezE6W2Z1bmN0aW9uKHJlcXVpcmUsbW9kdWxlLGV4cG9ydHMpe1xuXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlBob3RvRXZlbnRzID0ge1xuICAgIFRha2VQaG90bzogJ29uVGFrZVBob3RvJ1xufTtcbmV4cG9ydHMuVmlkZW9FdmVudHMgPSB7XG4gICAgVmlkZW9SZWFkeTogJ29uVmlkZW9SZWFkeSdcbn07XG5leHBvcnRzLkRpc2Nvbm5lY3RSZWFzb24gPSB7XG4gICAgNDAwMDogJ1NraWxsIGNsb3NlZCBieSB1c2VyJyxcbiAgICA0MDAxOiAnU2tpbGwgY2xvc2VkIGR1ZSB0byByb2JvdCBlcnJvcicsXG4gICAgNDAwMjogJ0luY29taW5nIGNvbm5lY3Rpb24gaXMgcmVwbGFjaW5nIHByZXZpb3VzIGNvbm5lY3Rpb24nLFxuICAgIDQwMDM6ICdDb25uZWN0aW9uIGNsb3NlZCBkdWUgdG8gaW5hY3Rpdml0eScsXG4gICAgNDAwNDogJ1Nlc3Npb24gY2xvc2VkIGR1ZSB0byByZWNvbm5lY3Rpb24gdGltZSBvdXQnLFxuICAgIDQwMDU6ICdTZXNzaW9uIGNsb3NlZCBkdWUgdG8gZmFpbGVkIHJlY29ubmVjdGlvbidcbn07XG5leHBvcnRzLkRpc2Nvbm5lY3RDb2RlID0ge1xuICAgIEhlYWRUb3VjaEV4aXQ6IDQwMDAsXG4gICAgUm9ib3RFcnJvcjogNDAwMSxcbiAgICBOZXdDb25uZWN0aW9uOiA0MDAyLFxuICAgIEluYWN0aXZpdHlUaW1lb3V0OiA0MDAzLFxuICAgIFJlY29ubmVjdFRpbWVvdXQ6IDQwMDQsXG4gICAgUmVjb25uZWN0RXJyb3I6IDQwMDUsXG59O1xuZXhwb3J0cy5SZXNwb25zZVN0cmluZ3MgPSB7XG4gICAgMjAwOiAnT0snLFxuICAgIDIwMTogJ0NyZWF0ZWQnLFxuICAgIDIwMjogJ0FjY2VwdGVkJyxcbiAgICA0MDA6ICdCYWQgUmVxdWVzdCcsXG4gICAgNDAzOiAnRm9yYmlkZGVuJyxcbiAgICA0MDQ6ICdOb3QgRm91bmQnLFxuICAgIDQwNjogJ05vdCBBY2NlcHRhYmxlJyxcbiAgICA0MDc6ICdSZXF1ZXN0IFRpbWVvdXQnLFxuICAgIDQwOTogJ0NvbmZsaWN0JyxcbiAgICA0MTI6ICdQcmVjb25kaXRpb24gRmFpbGVkJyxcbiAgICA1MDA6ICdJbnRlcm5hbCBFcnJvcicsXG4gICAgNTAzOiAnU2VydmljZSBVbmF2YWlsYWJsZScsXG4gICAgNTA1OiAnVmVyc2lvbiBOb3QgU3VwcG9ydGVkJyxcbiAgICA1MDY6ICdWZXJzaW9uIENvbmZsaWN0J1xufTtcbmV4cG9ydHMuQXR0ZW50aW9uTW9kZSA9IHtcbiAgICBPZmY6ICdPRkYnLFxuICAgIElkbGU6ICdJRExFJyxcbiAgICBEaXNlbmdhZ2U6ICdESVNFTkdBR0UnLFxuICAgIEVuZ2FnZWQ6ICdFTkdBR0VEJyxcbiAgICBTcGVha2luZzogJ1NQRUFLSU5HJyxcbiAgICBGaXhhdGVkOiAnRklYQVRFRCcsXG4gICAgQXR0cmFjdGFibGU6ICdBVFRSQUNUQUJMRScsXG4gICAgTWVudTogJ01FTlUnLFxuICAgIENvbW1hbmQ6ICdDT01NQU5EJ1xufTtcbmV4cG9ydHMuQ29tbWFuZFR5cGVzID0ge1xuICAgIFN0YXJ0U2Vzc2lvbjogJ1N0YXJ0U2Vzc2lvbicsXG4gICAgR2V0Q29uZmlnOiAnR2V0Q29uZmlnJyxcbiAgICBTZXRDb25maWc6ICdTZXRDb25maWcnLFxuICAgIENhbmNlbDogJ0NhbmNlbCcsXG4gICAgRGlzcGxheTogJ0Rpc3BsYXknLFxuICAgIFNldEF0dGVudGlvbjogJ1NldEF0dGVudGlvbicsXG4gICAgU2F5OiAnU2F5JyxcbiAgICBMaXN0ZW46ICdMaXN0ZW4nLFxuICAgIExvb2tBdDogJ0xvb2tBdCcsXG4gICAgVGFrZVBob3RvOiAnVGFrZVBob3RvJyxcbiAgICBWaWRlbzogJ1ZpZGVvJyxcbiAgICBTdWJzY3JpYmU6ICdTdWJzY3JpYmUnLFxuICAgIEZldGNoQXNzZXQ6ICdGZXRjaEFzc2V0JyxcbiAgICBVbmxvYWRBc3NldDogJ1VubG9hZEFzc2V0J1xufTtcbmV4cG9ydHMuQXN5bmNDb21tYW5kRXZlbnQgPSB7XG4gICAgU3RhcnQ6IFwib25TdGFydFwiLFxuICAgIFN0b3A6IFwib25TdG9wXCIsXG4gICAgRXJyb3I6IFwib25FcnJvclwiLFxufTtcbmV4cG9ydHMuRGlzcGxheUV2ZW50cyA9IHtcbiAgICBWaWV3U3RhdGVDaGFuZ2U6ICdvblZpZXdTdGF0ZUNoYW5nZSdcbn07XG5leHBvcnRzLlZpZXdTdGF0ZXMgPSB7XG4gICAgT3BlbmVkOiAnT3BlbmVkJyxcbiAgICBDbG9zZWQ6ICdDbG9zZWQnXG59O1xuZXhwb3J0cy5EaXNwbGF5Vmlld1R5cGUgPSB7XG4gICAgRXllOiAnRXllJyxcbiAgICBUZXh0OiAnVGV4dCcsXG4gICAgSW1hZ2U6ICdJbWFnZScsXG4gICAgRW1wdHk6ICdFbXB0eScsXG59O1xuZXhwb3J0cy5Mb29rQXRFdmVudHMgPSB7XG4gICAgTG9va0F0QWNoaWV2ZWQ6ICdvbkxvb2tBdEFjaGlldmVkJyxcbiAgICBUcmFja0VudGl0eUxvc3Q6ICdvblRyYWNrRW50aXR5TG9zdCdcbn07XG5leHBvcnRzLkhvdFdvcmRFdmVudHMgPSB7XG4gICAgSG90V29yZEhlYXJkOiAnb25Ib3RXb3JkSGVhcmQnLFxuICAgIExpc3RlblJlc3VsdDogJ29uTGlzdGVuUmVzdWx0J1xufTtcbmV4cG9ydHMuU3RyZWFtVHlwZXMgPSB7XG4gICAgRW50aXR5OiAnRW50aXR5JyxcbiAgICBIb3RXb3JkOiAnSG90V29yZCcsXG4gICAgSGVhZFRvdWNoOiAnSGVhZFRvdWNoJyxcbiAgICBNb3Rpb246ICdNb3Rpb24nLFxuICAgIFNjcmVlbkdlc3R1cmU6ICdTY3JlZW5HZXN0dXJlJ1xufTtcbmV4cG9ydHMuTGlzdGVuRXZlbnRzID0ge1xuICAgIExpc3RlblJlc3VsdDogJ29uTGlzdGVuUmVzdWx0J1xufTtcbmV4cG9ydHMuTGlzdGVuU3RvcFJlYXNvbnMgPSB7XG4gICAgTm9JbnB1dDogJ05vSW5wdXQnLFxuICAgIE5vTWF0Y2g6ICdOb01hdGNoJyxcbiAgICBJbnRlcnJ1cHRlZDogJ0ludGVycnVwdGVkJ1xufTtcbmV4cG9ydHMuRW50aXR5VHJhY2tFdmVudHMgPSB7XG4gICAgVHJhY2tVcGRhdGU6ICdvbkVudGl0eVVwZGF0ZScsXG4gICAgVHJhY2tMb3N0OiAnb25FbnRpdHlMb3N0JyxcbiAgICBUcmFja0dhaW5lZDogJ29uRW50aXR5R2FpbmVkJyxcbn07XG5leHBvcnRzLk1vdGlvbkV2ZW50cyA9IHtcbiAgICBNb3Rpb25EZXRlY3RlZDogJ29uTW90aW9uRGV0ZWN0ZWQnXG59O1xuZXhwb3J0cy5IZWFkVG91Y2hFdmVudHMgPSB7XG4gICAgSGVhZFRvdWNoZWQ6ICdvbkhlYWRUb3VjaCdcbn07XG5leHBvcnRzLlNjcmVlbkdlc3R1cmVFdmVudHMgPSB7XG4gICAgVGFwOiAnb25UYXAnLFxuICAgIFN3aXBlOiAnb25Td2lwZSdcbn07XG5leHBvcnRzLkNvbmZpZ0V2ZW50cyA9IHtcbiAgICBvbkNvbmZpZzogJ29uQ29uZmlnJ1xufTtcbmV4cG9ydHMuRmV0Y2hBc3NldEV2ZW50cyA9IHtcbiAgICBBc3NldFJlYWR5OiAnb25Bc3NldFJlYWR5JyxcbiAgICBBc3NldEZhaWxlZDogJ29uQXNzZXRGYWlsZWQnXG59O1xuZXhwb3J0cy5VbmxvYWRBc3NldEV2ZW50cyA9IHtcbiAgICBVbmxvYWRBc3NldERvbmU6ICdvblVubG9hZEFzc2V0RG9uZScsXG4gICAgVW5sb2FkQXNzZXRGYWlsZWQ6ICdvblVubG9hZEFzc2V0RmFpbGVkJ1xufTtcbmV4cG9ydHMuQ2FtZXJhUmVzb2x1dGlvbiA9IHtcbiAgICBIaWdoUmVzOiAnaGlnaFJlcycsXG4gICAgTWVkUmVzOiAnbWVkUmVzJyxcbiAgICBMb3dSZXM6ICdsb3dSZXMnLFxuICAgIE1pY3JvUmVzOiAnbWljcm9SZXMnXG59O1xuZXhwb3J0cy5Td2lwZURpcmVjdGlvbiA9IHtcbiAgICBVcDogJ1VwJyxcbiAgICBEb3duOiAnRG93bicsXG4gICAgUmlnaHQ6ICdSaWdodCcsXG4gICAgTGVmdDogJ0xlZnQnXG59O1xuZXhwb3J0cy5DYW1lcmEgPSB7XG4gICAgTGVmdDogJ2xlZnQnLFxuICAgIFJpZ2h0OiAncmlnaHQnXG59O1xuZXhwb3J0cy5FbnRpdHlUeXBlID0ge1xuICAgIFBlcnNvbjogJ3BlcnNvbicsXG4gICAgVW5rbm93bjogJ3Vua25vd24nXG59O1xuZXhwb3J0cy5EaXNwbGF5RXJyb3JEZXRhaWxzID0ge1xuICAgIElkTm90VW5pcXVlOiAnVmlldyBpZCBpcyBub3QgdW5pcXVlJyxcbiAgICBNaXNzaW5nVmFsdWVzOiAnVmlldyB3YXMgbm90IGdpdmVuIHJlcXVpcmVkIHZhbHVlcycsXG4gICAgSW52YWxpZFZpZXdUeXBlOiAnVmlldyB0eXBlIGlzIG5vdCB2YWxpZCcsXG4gICAgQXNzZXRFcnJvcjogJ1VuYWJsZSB0byBhY2Nlc3MgYXNzZXRzIGZvciBkaXNwbGF5Jyxcbn07XG5leHBvcnRzLkRpc3BsYXlDaGFuZ2VUeXBlID0ge1xuICAgIFN3YXA6ICdTd2FwJyxcbn07XG5leHBvcnRzLkZldGNoQXNzZXRFcnJvckRldGFpbHMgPSB7XG4gICAgT3V0T2ZNZW1vcnk6ICdPdXQgb2YgbWVtb3J5JyxcbiAgICBJbnZhbGlkVVJJOiAnSW52YWxpZCBvciBJbmFjY2Vzc2libGUgVVJJJ1xufTtcbmV4cG9ydHMuVW5sb2FkQXNzZXRFcnJvckRldGFpbHMgPSB7XG4gICAgSW52YWxpZE5hbWU6ICdJbnZhbGlkIG9yIEluYWNjZXNzaWJsZSBOYW1lJ1xufTtcbmV4cG9ydHMuUmVzcG9uc2VDb2RlID0ge1xuICAgIE9LOiAyMDAsXG4gICAgQ3JlYXRlZDogMjAxLFxuICAgIEFjY2VwdGVkOiAyMDIsXG4gICAgQmFkUmVxdWVzdDogNDAwLFxuICAgIEZvcmJpZGRlbjogNDAzLFxuICAgIE5vdEZvdW5kOiA0MDQsXG4gICAgTm90QWNjZXB0YWJsZTogNDA2LFxuICAgIFJlcXVlc3RUaW1lb3V0OiA0MDcsXG4gICAgQ29uZmxpY3Q6IDQwOSxcbiAgICBQcmVjb25kaXRpb25GYWlsZWQ6IDQxMixcbiAgICBJbnRlcm5hbEVycm9yOiA1MDAsXG4gICAgU2VydmljZVVuYXZhaWxhYmxlOiA1MDMsXG4gICAgVmVyc2lvbk5vdFN1cHBvcnRlZDogNTA1LFxuICAgIFZlcnNpb25Db25mbGljdDogNTA2XG59O1xuZXhwb3J0cy5WaWRlb1R5cGUgPSB7XG4gICAgTm9ybWFsOiAnTk9STUFMJyxcbiAgICBEZWJ1ZzogJ0RFQlVHJ1xufTtcbmV4cG9ydHMuUHJvdG9jb2xWZXJzaW9ucyA9IHtcbiAgICB2MTogJzEuMCcsXG4gICAgdjI6ICcyLjAnXG59O1xuXG59LHt9XSwyOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXtcblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZnVuY3Rpb24gaXNFdmVudChtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG1lc3NhZ2UuaGFzT3duUHJvcGVydHkoJ0V2ZW50Qm9keScpO1xufVxuZXhwb3J0cy5pc0V2ZW50ID0gaXNFdmVudDtcbmZ1bmN0aW9uIGlzQWNrbm93bGVkZ2VtZW50KG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gbWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSgnUmVzcG9uc2UnKTtcbn1cbmV4cG9ydHMuaXNBY2tub3dsZWRnZW1lbnQgPSBpc0Fja25vd2xlZGdlbWVudDtcbmZ1bmN0aW9uIGlzQW5nbGVUYXJnZXQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRhcmdldC5oYXNPd25Qcm9wZXJ0eSgnQW5nbGUnKTtcbn1cbmV4cG9ydHMuaXNBbmdsZVRhcmdldCA9IGlzQW5nbGVUYXJnZXQ7XG5mdW5jdGlvbiBpc0VudGl0eVRhcmdldCh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGFyZ2V0Lmhhc093blByb3BlcnR5KCdFbnRpdHknKTtcbn1cbmV4cG9ydHMuaXNFbnRpdHlUYXJnZXQgPSBpc0VudGl0eVRhcmdldDtcbmZ1bmN0aW9uIGlzUG9zaXRpb25UYXJnZXQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRhcmdldC5oYXNPd25Qcm9wZXJ0eSgnUG9zaXRpb24nKTtcbn1cbmV4cG9ydHMuaXNQb3NpdGlvblRhcmdldCA9IGlzUG9zaXRpb25UYXJnZXQ7XG5mdW5jdGlvbiBpc0NhbWVyYVRhcmdldCh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGFyZ2V0Lmhhc093blByb3BlcnR5KCdTY3JlZW5Db29yZHMnKTtcbn1cbmV4cG9ydHMuaXNDYW1lcmFUYXJnZXQgPSBpc0NhbWVyYVRhcmdldDtcblxufSx7fV0sMzpbZnVuY3Rpb24ocmVxdWlyZSxtb2R1bGUsZXhwb3J0cyl7XG5cInVzZSBzdHJpY3RcIjtcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmICghZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5fX2V4cG9ydChyZXF1aXJlKFwiLi9FbnVtc1wiKSk7XG5jb25zdCB0eXBlZ3VhcmRzID0gcmVxdWlyZShcIi4vVHlwZUd1YXJkc1wiKTtcbmV4cG9ydHMudHlwZWd1YXJkcyA9IHR5cGVndWFyZHM7XG5cbn0se1wiLi9FbnVtc1wiOjEsXCIuL1R5cGVHdWFyZHNcIjoyfV19LHt9LFszXSkoMylcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21tYW5kLXByb3RvY29sLmpzLm1hcFxuIiwiaW1wb3J0IENvbm5lY3Rpb25NYW5hZ2VyIGZyb20gJy4vY29ubmVjdGlvbi9Db25uZWN0aW9uTWFuYWdlcic7XG5pbXBvcnQgSUNvbm5lY3Rpb24sIHtNZXNzYWdlRXZlbnR9IGZyb20gJy4vY29ubmVjdGlvbi9JQ29ubmVjdGlvbic7XG5pbXBvcnQgUmVxdWVzdFRva2VuIGZyb20gJy4vdG9rZW5zL1JlcXVlc3RUb2tlbic7XG5pbXBvcnQgeyB2MSB9IGZyb20gJy4vcmVxdWVzdHMnO1xuaW1wb3J0IFNlc3Npb24gPSB2MS5zZXNzaW9uLlNlc3Npb247XG5pbXBvcnQgRXhwcmVzc2lvbiA9IHYxLmV4cHJlc3Npb24uRXhwcmVzc2lvbjtcbmltcG9ydCBEaXNwbGF5ID0gdjEuZGlzcGxheS5EaXNwbGF5O1xuaW1wb3J0IExpc3RlbiA9IHYxLmxpc3Rlbi5MaXN0ZW47XG5pbXBvcnQgTWVkaWEgPSB2MS5tZWRpYS5NZWRpYTtcbmltcG9ydCBQZXJjZXB0aW9uID0gdjEucGVyY2VwdGlvbi5QZXJjZXB0aW9uO1xuaW1wb3J0IEFzc2V0cyA9IHYxLmFzc2V0cy5Bc3NldHM7XG5pbXBvcnQgQ29uZmlnID0gdjEuY29uZmlnLkNvbmZpZztcbmltcG9ydCB7dHlwZWd1YXJkc30gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5pbXBvcnQge0V2ZW50fSBmcm9tICcuL2V2ZW50cy9FdmVudCc7XG5pbXBvcnQge2dlbmVyYXRlVHJhbnNhY3Rpb25JRH0gZnJvbSAnLi9VVUlEJztcbmltcG9ydCB7SG90V29yZHN9IGZyb20gJy4vcmVxdWVzdHMvdjEvbGlzdGVuL3JlcXVlc3RlcnMvSG90V29yZCc7XG5cblxuLyoqXG4gKiBFbnRyeSBwb2ludCBmb3IgdGhlIFJlbW90ZSBDbGllbnQgUHJvdG9jb2xcbiAqIEBjbGFzcyBDb21tYW5kUmVxdWVzdGVyXG4gKiBAZXhhbXBsZVxuICogY29uc3QgY29tbWFuZFJlcXVlc3RlciA9IG5ldyBDb21tYW5kUmVxdWVzdGVyKCk7XG4gKiBjb21tYW5kUmVxdWVzdGVyLmRpc2Nvbm5lY3RlZC5vbigoZGF0YSkgPT4ge1xuICogICAgIGNvbnNvbGUubG9nKCdDb25uZWN0aW9uIGNsb3NlZCBiZWNhdXNlJywgZGF0YSk7XG4gKiB9KTtcbiAqIGF3YWl0IGNvbW1hbmRSZXF1ZXN0ZXIuY29ubmVjdChyb2JvdE5hbWUpO1xuICovXG5leHBvcnQgY2xhc3MgQ29tbWFuZFJlcXVlc3RlciB7XG4gICAgcHVibGljIGFzc2V0czpBc3NldHM7XG4gICAgcHVibGljIGNvbmZpZzpDb25maWc7XG4gICAgcHVibGljIGRpc3BsYXk6RGlzcGxheTtcbiAgICBwdWJsaWMgZXhwcmVzc2lvbjpFeHByZXNzaW9uO1xuICAgIHB1YmxpYyBsaXN0ZW46IExpc3RlbjtcbiAgICBwdWJsaWMgbWVkaWE6TWVkaWE7XG4gICAgcHVibGljIHBlcmNlcHRpb246UGVyY2VwdGlvbjtcblxuICAgIC8qKlxuICAgICAqIElEIGZvciB0aGUgYXBwXG4gICAgICogQG5hbWUgQ29tbWFuZFJlcXVlc3RlciNBcHBJRFxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgcHVibGljIEFwcElEOnN0cmluZztcblxuICAgIC8qKlxuICAgICAqIEV2ZW50IGVtaXR0ZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQgYnkgdGhlIHJvYm90IG9yIGEgY29ubmVjdGlvbiBpc3N1ZSBhc1xuICAgICAqIDxiciAvPiBgYGBFdmVudDx7Y29kZTpudW1iZXIsIHJlYXNvbjpzdHJpbmd9PmBgYCBcbiAgICAgKiBAbmFtZSBDb21tYW5kUmVxdWVzdGVyI2Rpc2Nvbm5lY3RlZFxuICAgICAqIEB0eXBlIEV2ZW50PG51bWJlciwgc3RyaW5nPlxuICAgICAqL1xuICAgIHB1YmxpYyBkaXNjb25uZWN0ZWQ6IEV2ZW50PHtjb2RlOm51bWJlciwgcmVhc29uOnN0cmluZ30+O1xuXG4gICAgcHJpdmF0ZSBzZXNzaW9uOlNlc3Npb247XG4gICAgcHJpdmF0ZSBzZXNzaW9uSWQ6c3RyaW5nO1xuICAgIHByaXZhdGUgcm9ib3RWZXJzaW9uOnN0cmluZztcbiAgICBwcml2YXRlIGNvbm5lY3Rpb246SUNvbm5lY3Rpb247XG4gICAgcHJpdmF0ZSByb2JvdE5hbWU6c3RyaW5nO1xuICAgIHByaXZhdGUgaW5Qcm9ncmVzc1Rva2VuczpNYXA8c3RyaW5nLCBSZXF1ZXN0VG9rZW48YW55LCBhbnk+PjtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJvYm90VmVyc2lvbiA9ICcxLjAnO1xuICAgICAgICB0aGlzLkFwcElEID0gJyc7XG4gICAgICAgIHRoaXMuc2Vzc2lvbklkID0gbnVsbDtcbiAgICAgICAgdGhpcy5pblByb2dyZXNzVG9rZW5zID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBuZXcgQ29ubmVjdGlvbk1hbmFnZXIoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLm1lc3NhZ2Uub24odGhpcy5vbk1lc3NhZ2UuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5kaXNjb25uZWN0ZWQub24oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdGVkLmVtaXQoe2NvZGU6ZGF0YS5jb2RlLCByZWFzb246IGRhdGEucmVhc29ufSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmFzc2V0cyA9IG5ldyBBc3NldHModGhpcyk7XG4gICAgICAgIHRoaXMuY29uZmlnID0gbmV3IENvbmZpZyh0aGlzKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gbmV3IERpc3BsYXkodGhpcyk7XG4gICAgICAgIHRoaXMuZXhwcmVzc2lvbiA9IG5ldyBFeHByZXNzaW9uKHRoaXMpO1xuICAgICAgICB0aGlzLmxpc3RlbiA9IG5ldyBMaXN0ZW4odGhpcyk7XG4gICAgICAgIHRoaXMubWVkaWEgPSBuZXcgTWVkaWEodGhpcyk7XG4gICAgICAgIHRoaXMucGVyY2VwdGlvbiA9IG5ldyBQZXJjZXB0aW9uKHRoaXMpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBuZXcgU2Vzc2lvbih0aGlzKTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQgPSBuZXcgRXZlbnQoJ0Rpc2Nvbm5lY3RlZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbm5lY3QgdG8gdGhlIHNwZWNpZmllZCByb2JvdC4gT3ZlcnJpZGRlbiBpbiB0aGUgbmF0aXZlIGxhbmd1YWdlc1xuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3RlciNjb25uZWN0XG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgICAgICAgcm9ib3ROYW1lIHlvdXItZnJpZW5kbHktcm9ib3QtbmFtZVxuICAgICAqIEByZXR1cm4ge1Byb21pc2U8dm9pZD59XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgY29ubmVjdChyb2JvdE5hbWU6c3RyaW5nLCBvcHRpb25zPzogYW55KTpQcm9taXNlPHZvaWQ+IHtcblxuICAgICAgICB0aGlzLnJvYm90TmFtZSA9IHJvYm90TmFtZTtcbiAgICAgICAgY29uc29sZS5sb2coJ0NvbW1hbmRSZXF1ZXN0ZXIgOiBjb25uZWN0Jyk7XG4gICAgICAgIHJldHVybiAodGhpcy5jb25uZWN0aW9uIGFzIENvbm5lY3Rpb25NYW5hZ2VyKS5jb25uZWN0KHJvYm90TmFtZSwgb3B0aW9ucylcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbW1hbmRSZXF1ZXN0ZXIgOiBjb25uZWN0ZWQsIHN0YXJ0IHNlc3Npb24nKTtcbiAgICAgICAgICAgIC8vZWF0IHJlc3VsdCBvZiBjb25uZWN0LCBzdGFydCBzZXNzaW9uIHdpdGggcm9ib3RcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdGhpcy5zZXNzaW9uLnN0YXJ0KCk7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW4uY29tcGxldGUudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbW1hbmRSZXF1ZXN0ZXIgOiBzZXNzaW9uIHN0YXJ0ZWQsIHJlc3VsdDogJywgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAvL2dldCB0aGUgc2Vzc2lvbiBkYXRhIHRoYXQgd2UgbmVlZCwgdGhlbiB0aGUgY29ubmVjdGlvbiBpcyBjb21wbGV0ZSBhbmQgcm9ib3QgaXMgcmVhZHlcbiAgICAgICAgICAgICAgICB0aGlzLnJvYm90VmVyc2lvbiA9IHJlc3VsdC5SZXNwb25zZUJvZHkuVmVyc2lvbjtcbiAgICAgICAgICAgICAgICB0aGlzLnNlc3Npb25JZCA9IHJlc3VsdC5SZXNwb25zZUJvZHkuU2Vzc2lvbklEO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2Nvbm5lY3QgYWxsIGFjdGl2ZSByb2JvdCBjb25uZWN0aW9ucy5cbiAgICAgKiBPdmVycmlkZGVuIGluIHRoZSBuYXRpdmUgbGFuZ3VhZ2VzLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3RlciNkaXNjb25uZWN0XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZGlzY29ubmVjdCgpOnZvaWQge1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFNlbmQgcmVxdWVzdCBmb3IgdGhlIHNwZWNpZmllZCBhc3NldFxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3RlciNzZW5kQXNzZXRSZXF1ZXN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICAgICAgICB1cmkgICAgICBVUkkgZm9yIHRoZSBhc3NldCB0byByZXF1ZXN0XG4gICAgICogQHBhcmFtIHtBc3NldENhbGxiYWNrfSBjYWxsYmFjayBgaHR0cC5JbmNvbWluZ01lc3NhZ2VgXG4gICAgICovXG4gICAgLy8gcHVibGljIHNlbmRBc3NldFJlcXVlc3QodXJpOnN0cmluZywgY2FsbGJhY2s6QXNzZXRDYWxsYmFjaykge1xuICAgIC8vICAgICB0aGlzLmNvbm5lY3Rpb24uc2VuZEFzc2V0UmVxdWVzdFRvKHRoaXMucm9ib3ROYW1lLCB1cmksIGNhbGxiYWNrKTtcbiAgICAvLyB9XG5cbiAgICBwcml2YXRlIGdlbmVyYXRlVHJhbnNhY3Rpb25JRCgpOnN0cmluZyB7XG4gICAgICAgIHJldHVybiBnZW5lcmF0ZVRyYW5zYWN0aW9uSUQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZW5kUmVxdWVzdChjb21tYW5kOkpJQk8udjEuQmFzZUNvbW1hbmQpOnN0cmluZyB7XG4gICAgICAgIC8vVE9ETzogQWN0dWFsIGN1cnJlbnQgSVAgYWRkcmVzcyBoZXJlXG4gICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IHRoaXMuZ2VuZXJhdGVUcmFuc2FjdGlvbklEKCk7XG4gICAgICAgIGNvbnN0IGhlYWRlcjpKSUJPLnYxLlJlcXVlc3RIZWFkZXIgPSB7XG4gICAgICAgICAgICBUcmFuc2FjdGlvbklEOiByZXF1ZXN0SWQsXG4gICAgICAgICAgICBTZXNzaW9uSUQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgICAgVmVyc2lvbjogdGhpcy5yb2JvdFZlcnNpb24sXG4gICAgICAgICAgICBDcmVkZW50aWFsczogbnVsbCxcbiAgICAgICAgICAgIEFwcElEOiB0aGlzLkFwcElEXG4gICAgICAgIH07XG4gICAgICAgIC8vU2VuZCB0aGUgcmVxdWVzdCFcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLnNlbmRUbyh0aGlzLnJvYm90TmFtZSwge1xuICAgICAgICAgICAgQ2xpZW50SGVhZGVyOmhlYWRlcixcbiAgICAgICAgICAgIENvbW1hbmQ6IGNvbW1hbmQgYXMgYW55XG4gICAgICAgIH0pO1xuICAgICAgICAvL3JldHVybiB0aGUgaWQgdG8gYmUgYXBwbGllZCB0byB0aGUgdG9rZW5cbiAgICAgICAgcmV0dXJuIHJlcXVlc3RJZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBzZW5kVG9rZW4odG9rZW46UmVxdWVzdFRva2VuPGFueT4pOnZvaWQge1xuICAgICAgICAvL1NlbmQgdGhlIHJlcXVlc3QhXG4gICAgICAgIHRva2VuLnJlcXVlc3RJZCA9IHRoaXMuc2VuZFJlcXVlc3QodG9rZW4ucHJvdG9jb2wpO1xuICAgICAgICAvL1JldGFpbiB0b2tlbnMgYXMgaW4gcHJvZ3Jlc3MgcmVxdWVzdHMsIGFuZCBoYW5kbGUgdGhlaXIgcmVzcG9uc2VzXG4gICAgICAgIGlmICghdG9rZW4uaXNDb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5pblByb2dyZXNzVG9rZW5zLnNldCh0b2tlbi5yZXF1ZXN0SWQsIHRva2VuKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25NZXNzYWdlKGRhdGE6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGRhdGEuZGF0YTtcbiAgICAgICAgbGV0IGlkOnN0cmluZyA9IG51bGw7XG4gICAgICAgIGxldCBhY2s6SklCTy52MS5BY2tub3dsZWRnZW1lbnQgPSBudWxsO1xuICAgICAgICBsZXQgZXZlbnQ6SklCTy52MS5FdmVudE1lc3NhZ2UgPSBudWxsO1xuICAgICAgICBpZiAodHlwZWd1YXJkcy5pc0Fja25vd2xlZGdlbWVudChyZXNwb25zZSkpIHtcbiAgICAgICAgICAgIGlkID0gcmVzcG9uc2UuUmVzcG9uc2VIZWFkZXIuVHJhbnNhY3Rpb25JRDtcbiAgICAgICAgICAgIGFjayA9IHJlc3BvbnNlO1xuICAgICAgICB9IGVsc2UgaWYodHlwZWd1YXJkcy5pc0V2ZW50KHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgaWQgPSByZXNwb25zZS5FdmVudEhlYWRlci5UcmFuc2FjdGlvbklEO1xuICAgICAgICAgICAgZXZlbnQgPSByZXNwb25zZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vSW52YWxpZD9cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvL2dvIHRocm91Z2ggYWN0aXZlIHRva2VucyB0byBzZWUgd2hvIGdldHMgd2hhdFxuICAgICAgICBpZiAodGhpcy5pblByb2dyZXNzVG9rZW5zLmhhcyhpZCkpIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gdGhpcy5pblByb2dyZXNzVG9rZW5zLmdldChpZCk7XG4gICAgICAgICAgICBpZiAoYWNrKSB7XG4gICAgICAgICAgICAgICAgdG9rZW4uaGFuZGxlQWNrKGFjayk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRva2VuLmhhbmRsZUV2ZW50KGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b2tlbi5pc0NvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pblByb2dyZXNzVG9rZW5zLmRlbGV0ZShpZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIE1lcmdlIGludGVyZmFjZXMgd2l0aCBjbGFzc2VzIHRvIGhhdmUgaW50ZXJmYWNlcyBhdmFpbGFibGUgYXMgQ29tbWFuZFJlcXVlc3Rlci5uYW1lc3BhY2UuaW50ZXJmYWNlXG5leHBvcnQgbmFtZXNwYWNlIENvbW1hbmRSZXF1ZXN0ZXIge1xuXG4gICAgLyoqXG4gICAgICogRGVmaW5pdGlvbiBmb3IgbWFraW5nIEppYm8gdHdpc3QgdG8gYSBjZXJ0YWluIGFuZ2xlXG4gICAgICogQGludGVyZmFjZSBDb21tYW5kUmVxdWVzdGVyLkFuZ2xlVmVjdG9yXG4gICAgICogQHByb3AgdGhldGEge251bWJlcn0gVHdpc3QvaG9yaXpvbnRhbCBhbmdsZVxuICAgICAqIEBwcm9wIHBzaSB7bnVtYmVyfSBWZXJ0aWNhbCBhbmdsZVxuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgQW5nbGVWZWN0b3Ige1xuICAgICAgICB0aGV0YTogbnVtYmVyO1xuICAgICAgICBwc2k6IG51bWJlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZpbml0aW9uIGZvciBhIHBvaW50IG9uIEppYm8ncyBzY3JlZW5cbiAgICAgKiBAaW50ZXJmYWNlIENvbW1hbmRSZXF1ZXN0ZXIuVmVjdG9yMlxuICAgICAqIEBwcm9wIHgge251bWJlcn0gSG9yaXpvbnRhbCBwaXhlbHNcbiAgICAgKiBAcHJvcCB5IHtudW1iZXJ9IFZlcnRpY2FsIHBpeGVsc1xuICAgICAqL1xuICAgIGV4cG9ydCBpbnRlcmZhY2UgVmVjdG9yMiB7XG4gICAgICAgIHg6IG51bWJlcjtcbiAgICAgICAgeTogbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmluaXRpb24gZm9yIGEgM0QgcG9pbnQgaW4gc3BhY2VcbiAgICAgKiBAaW50ZXJmYWNlIENvbW1hbmRSZXF1ZXN0ZXIuVmVjdG9yM1xuICAgICAqIEBwcm9wIHgge251bWJlcn0gTWV0ZXJzIGZvcndhcmRcbiAgICAgKiBAcHJvcCB5IHtudW1iZXJ9IE1ldGVycyBsZWZ0XG4gICAgICogQHByb3AgeiB7bnVtYmVyfSBNZXRlcnMgdXBcbiAgICAgKi8gXG4gICAgZXhwb3J0IGludGVyZmFjZSBWZWN0b3IzIHtcbiAgICAgICAgeDogbnVtYmVyO1xuICAgICAgICB5OiBudW1iZXI7XG4gICAgICAgIHo6IG51bWJlcjtcbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIGxpc3RlbiB7XG4gICAgICAgIGV4cG9ydCBpbXBvcnQgSG90V29yZCA9IEhvdFdvcmRzO1xuICAgIH1cblxuICAgIGV4cG9ydCBuYW1lc3BhY2UgbWVkaWEge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGljaCBjYW1lcmEgdG8gdXNlXG4gICAgICAgICAqIEB0eXBlZGVmIENvbW1hbmRSZXF1ZXN0ZXIubWVkaWEuQ2FtZXJhXG4gICAgICAgICAqIEBwcm9wIGxlZnQgeydMZWZ0J30gRGVmYXVsdDsgVXNlIGZvciBwaG90by10YWtpbmcgXG4gICAgICAgICAqIEBwcm9wIHJpZ2h0IHsnUmlnaHQnfSBVbnN1cHBvcnRlZFxuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IGVudW0gQ2FtZXJhIHtcbiAgICAgICAgICAgIGxlZnQgPSAnTGVmdCcsXG4gICAgICAgICAgICByaWdodCA9ICdSaWdodCcsXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRW51bSBvZiBwaG90byByZXNvbHV0aW9uIG9wdGlvbnNcbiAgICAgICAgICogQHR5cGVkZWYgQ29tbWFuZFJlcXVlc3Rlci5tZWRpYS5DYW1lcmFSZXNvbHV0aW9uXG4gICAgICAgICAqIEBwcm9wIGhpZ2ggeydoaWdoUmVzJ30gQ3VycmVudGx5IHVuc3VwcG9ydGVkXG4gICAgICAgICAqIEBwcm9wIG1lZCB7J21lZFJlcyd9IEhpZ2hlciByZXMgdGhhbiBkZWZhdWx0XG4gICAgICAgICAqIEBwcm9wIGxvdyB7J2xvd1Jlcyd9IERlZmF1bHRcbiAgICAgICAgICogQHByb3AgbWljcm8geydtaWNyb1Jlcyd9IExvd2VyIHJlcyB0aGFuIGRlZmF1bHRcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCBlbnVtIENhbWVyYVJlc29sdXRpb24ge1xuICAgICAgICAgICAgaGlnaCA9ICdoaWdoUmVzJyxcbiAgICAgICAgICAgIG1lZCA9ICdtZWRSZXMnLFxuICAgICAgICAgICAgbG93ID0gJ2xvd1JlcycsXG4gICAgICAgICAgICBtaWNybyA9ICdtaWNyb1JlcycsXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRW51bSBvZiB2aWRlbyB0eXBlIG9wdGlvbnNcbiAgICAgICAgICogQHR5cGVkZWYgQ29tbWFuZFJlcXVlc3Rlci5tZWRpYS5WaWRlb1R5cGVcbiAgICAgICAgICogQHByb3Agbm9ybWFsIHsnTk9STUFMJ30gRGVmYXVsdFxuICAgICAgICAgKiBAcHJvcCBkZWJ1ZyB7J0RFQlVHJ30gQ3VycmVudGx5IHVuc3VwcG9ydGVkXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgZW51bSBWaWRlb1R5cGUge1xuICAgICAgICAgICAgbm9ybWFsID0gJ05PUk1BTCcsXG4gICAgICAgICAgICAvKiogQ3VycmVudGx5IHVuc3VwcG9ydGVkICovXG4gICAgICAgICAgICBkZWJ1ZyA9ICdERUJVRycsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIGNvbmZpZyB7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvYm90IGNvbmZpZ3VyYXRpb24gb3B0aW9ucyB0aGF0IGNhbiBiZSBzZXQgYnkgeW91ciBhcHBcbiAgICAgICAgICogQGludGVyZmFjZSBDb21tYW5kUmVxdWVzdGVyLmNvbmZpZy5TZXRDb25maWdPcHRpb25zXG4gICAgICAgICAqIEBwcm9wIG1peGVyIHtudW1iZXJ9IFZvbHVtZSBiZXR3ZWVuIDAgKG11dGUpIGFuZCAxIChsb3VkZXN0KVxuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IGludGVyZmFjZSBTZXRDb25maWdPcHRpb25zIHtcbiAgICAgICAgICAgIG1peGVyOiBudW1iZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBleHBvcnQgbmFtZXNwYWNlIGV4cHJlc3Npb24ge1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGF0IHR5cGUgb2YgbG9va0F0IEppYm8gc2hvdWxkIHBlcmZvcm06IFxuICAgICAgICAgKiA8YnIgLz4gYFwiQU5HTEVcIiB8IFwiRU5USVRZXCIgfCBcIlBPU0lUSU9OXCIgfCBcIkNBTUVSQVwiYFxuICAgICAgICAgKiBAdHlwZWRlZiBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uTG9va0F0VGFyZ2V0VHlwZVxuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IHR5cGUgTG9va0F0VGFyZ2V0VHlwZSA9IFwiQU5HTEVcIiB8IFwiRU5USVRZXCIgfCBcIlBPU0lUSU9OXCIgfCBcIkNBTUVSQVwiO1xuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogQmFzZSBpbnRlcmZhY2UgZm9yIGxvb2tBdCB0YXJnZXRzXG4gICAgICAgICAqIEBpbnRlcmZhY2UgQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkJhc2VMb29rQXRUYXJnZXRcbiAgICAgICAgICogQHByb3AgdHlwZSB7Q29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkxvb2tBdFRhcmdldFR5cGV9IFR5cGUgb2YgbG9va0F0IHRvIHBlcmZvcm1cbiAgICAgICAgICogQHByb3AgbGV2ZWxIZWFkIHtib29sZWFufSBgdHJ1ZWAgdG8ga2VlcCBKaWJvJ3MgaGVhZCBsZXZlbCB3aGlsZSBoZSBtb3Zlc1xuICAgICAgICAgKi9cbiAgICAgICAgZXhwb3J0IGludGVyZmFjZSBCYXNlTG9va0F0VGFyZ2V0IHtcbiAgICAgICAgICAgIHR5cGU6IExvb2tBdFRhcmdldFR5cGU7XG4gICAgICAgICAgICBsZXZlbEhlYWQ6IGJvb2xlYW47XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVyZmFjZSBmb3IgbG9va2luZyB0b3dhcmRzIGFuIGFuZ2xlLlxuICAgICAgICAgKiBAaW50ZXJmYWNlIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5BbmdsZVxuICAgICAgICAgKiBAZXh0ZW5kcyBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uQmFzZUxvb2tBdFRhcmdldFxuICAgICAgICAgKiBAcHJvcCB0eXBlPVwiQU5HTEVcIiB7Q29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkxvb2tBdFRhcmdldFR5cGV9XG4gICAgICAgICAqIEBwcm9wIGFuZ2xlIHtDb21tYW5kUmVxdWVzdGVyLkFuZ2xlVmVjdG9yfSBBbmdsZSB0byB0d2lzdCB0byBsb29rIHRvd2FyZHMuXG4gICAgICAgICAqLyAgICAgICAgXG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgQW5nbGUgZXh0ZW5kcyBCYXNlTG9va0F0VGFyZ2V0IHtcbiAgICAgICAgICAgIHR5cGU6IFwiQU5HTEVcIjtcbiAgICAgICAgICAgIGFuZ2xlOiBBbmdsZVZlY3RvcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcmZhY2UgZm9yIGxvb2tpbmcgYXQgYSBmYWNlIChlbnRpdHkpXG4gICAgICAgICAqIEBpbnRlcmZhY2UgQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkxvb2tBdEVudGl0eVxuICAgICAgICAgKiBAZXh0ZW5kcyBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uQmFzZUxvb2tBdFRhcmdldFxuICAgICAgICAgKiBAcHJvcCB0eXBlPVwiRU5USVRZXCIge0NvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5Mb29rQXRUYXJnZXRUeXBlfVxuICAgICAgICAgKiBAcHJvcCB0YXJnZXQge251bWJlcn0gSUQgb2YgdGhlIGZhY2UgKGVudGl0eSkgdG8gbG9vayB0b3dhcmQuXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIExvb2tBdEVudGl0eSBleHRlbmRzIEJhc2VMb29rQXRUYXJnZXQge1xuICAgICAgICAgICAgdHlwZTogXCJFTlRJVFlcIjtcbiAgICAgICAgICAgIHRhcmdldDogbnVtYmVyO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcmZhY2UgZm9yIGxvb2tpbmcgdG93YXJkcyBhIDNEIHBvc2l0aW9uIGluIHNwYWNlXG4gICAgICAgICAqIEBpbnRlcmZhY2UgQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLlBvc2l0aW9uXG4gICAgICAgICAqIEBleHRlbmRzIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5CYXNlTG9va0F0VGFyZ2V0XG4gICAgICAgICAqIEBwcm9wIHR5cGU9XCJQT1NJVElPTlwiIHtDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uTG9va0F0VGFyZ2V0VHlwZX1cbiAgICAgICAgICogQHByb3AgcG9zaXRpb24ge0NvbW1hbmRSZXF1ZXN0ZXIuVmVjdG9yM30gM0QgcG9pbnQgaW4gc3BhY2UgdG8gbG9vayB0b3dhcmRcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgUG9zaXRpb24gZXh0ZW5kcyBCYXNlTG9va0F0VGFyZ2V0IHtcbiAgICAgICAgICAgIHR5cGU6IFwiUE9TSVRJT05cIjtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBWZWN0b3IzO1xuICAgICAgICB9XG4gICAgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnRlcmZhY2UgZm9yIGxvb2tpbmcgdG93YXJkcyBhIDJEIHBvc2l0aW9uIHJlbGF0aXZlIHRvIEppYm8ncyBzY3JlZW5cbiAgICAgICAgICogQGludGVyZmFjZSBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uU2NyZWVuQ29vcmRzXG4gICAgICAgICAqIEBleHRlbmRzIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5CYXNlTG9va0F0VGFyZ2V0XG4gICAgICAgICAqIEBwcm9wIHR5cGU9XCJDQU1FUkFcIiB7Q29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkxvb2tBdFRhcmdldFR5cGV9XG4gICAgICAgICAqIEBwcm9wIGNvb3JkcyB7Q29tbWFuZFJlcXVlc3Rlci5WZWN0b3IyfSAyRCBwaXhlbCBwb2ludCBvbiBKaWJvJ3Mgc2NyZWVuIHRvIGxvb2sgdG93YXJkXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIFNjcmVlbkNvb3JkcyBleHRlbmRzIEJhc2VMb29rQXRUYXJnZXQge1xuICAgICAgICAgICAgdHlwZTogXCJDQU1FUkFcIjtcbiAgICAgICAgICAgIGNvb3JkczogVmVjdG9yMjtcbiAgICAgICAgfVxuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogVHlwZSBvZiBsb29rQXQgdGFyZ2V0XG4gICAgICAgICAqIEB0eXBlZGVmIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5Mb29rQXRUYXJnZXRcbiAgICAgICAgICogQHByb3AgQW5nbGUge0NvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5BbmdsZX0gVHdpc3QvYW5nbGUgdGFyZ2V0XG4gICAgICAgICAqIEBwcm9wIExvb2tBdEVudGl0eSB7Q29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkxvb2tBdEVudGl0eX0gRmFjZSB0YXJnZXRcbiAgICAgICAgICogQHByb3AgUG9zaXRpb24ge0NvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5Qb3NpdGlvbn0gM0QgcG9zaXRpb24gdGFyZ2V0XG4gICAgICAgICAqIEBwcm9wIFNjcmVlbkNvb3JkcyB7Q29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLlNjcmVlbkNvb3Jkc30gMkQgcGl4ZWwgdGFyZ2V0XG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgdHlwZSBMb29rQXRUYXJnZXQgPSBBbmdsZSB8IExvb2tBdEVudGl0eSB8IFBvc2l0aW9uIHwgU2NyZWVuQ29vcmRzO1xuICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogRW51bSBvZiBKaWJvJ3MgYXZhaWxhYmxlIGF0dGVudGlvbiBtb2Rlcy5cbiAgICAgICAgICogQHR5cGVkZWYgQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkF0dGVudGlvbk1vZGVcbiAgICAgICAgICogQHByb3AgT2ZmXG4gICAgICAgICAqIEBwcm9wIElkbGVcbiAgICAgICAgICogQHByb3AgRGlzZW5nYWdlXG4gICAgICAgICAqIEBwcm9wIEVuZ2FnZWRcbiAgICAgICAgICogQHByb3AgU3BlYWtpbmdcbiAgICAgICAgICogQHByb3AgRml4YXRlZFxuICAgICAgICAgKiBAcHJvcCBBdHRyYWN0YWJsZVxuICAgICAgICAgKiBAcHJvcCBNZW51XG4gICAgICAgICAqIEBwcm9wIENvbW1hbmRcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCBlbnVtIEF0dGVudGlvbk1vZGUge1xuICAgICAgICAgICAgT2ZmID0gJ09GRicsXG4gICAgICAgICAgICBJZGxlID0gJ0lETEUnLFxuICAgICAgICAgICAgRGlzZW5nYWdlID0gJ0RJU0VOR0FHRScsXG4gICAgICAgICAgICBFbmdhZ2VkID0gJ0VOR0FHRUQnLFxuICAgICAgICAgICAgU3BlYWtpbmcgPSAnU1BFQUtJTkcnLFxuICAgICAgICAgICAgRml4YXRlZCA9ICdGSVhBVEVEJyxcbiAgICAgICAgICAgIEF0dHJhY3RhYmxlID0gJ0FUVFJBQ1RBQkxFJyxcbiAgICAgICAgICAgIE1lbnUgPSAnTUVOVScsXG4gICAgICAgICAgICBDb21tYW5kID0gJ0NPTU1BTkQnLFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwb3J0IG5hbWVzcGFjZSBkaXNwbGF5IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogT3B0aW9ucyBmb3IgbGlzdGVuaW5nIGZvciBzY3JlZW4gZ2VzdHVyZXNcbiAgICAgICAgICogQGludGVyZmFjZSBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkuU2NyZWVuR2VzdHVyZUZpbHRlclxuICAgICAgICAgKiBAcHJvcCBbYXJlYV0ge0NvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheS5DaXJjbGUgfCBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkuUmVjdGFuZ2xlfSBBcmVhIGluIHdoaWNoIHRvIGxpc3RlbiBmb3IgYSBzY3JlZW4gZ2VzdHVyZVxuICAgICAgICAgKiBAcHJvcCBbdHlwZV0ge0NvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheS5TY3JlZW5HZXN0dXJlVHlwZX0gVHlwZSBvZiBnZXN0dXJlIHRvIGxpc3RlbiBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgU2NyZWVuR2VzdHVyZUZpbHRlciB7XG4gICAgICAgICAgICBhcmVhPzogQ2lyY2xlIHwgUmVjdGFuZ2xlO1xuICAgICAgICAgICAgdHlwZT86IFNjcmVlbkdlc3R1cmVUeXBlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvKipcbiAgICAgICAgICogRGVmaW5pdGlvbiBmb3IgYSBjaXJjdWxhciBhcmVhIG9uIEppYm8ncyBzY3JlZW5cbiAgICAgICAgICogQGludGVyZmFjZSBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkuQ2lyY2xlXG4gICAgICAgICAqIEBwcm9wIHJhZGl1cyB7bnVtYmVyfSBSYWRpdXMgb2YgdGhlIGNpcmNsZSBpbiBwaXhlbHNcbiAgICAgICAgICogQHByb3AgeCB7bnVtYmVyfSBIb3Jpem9udGFsIGNvb3JkaW5hdGUgb2YgdGhlIGNpcmNsZSdzIGNlbnRlciBpbiBwaXhlbHNcbiAgICAgICAgICogQHByb3AgeSB7bnVtYmVyfSBWZXJ0aWNhbCBjb29yZGluYXRlIG9mIHRoZSBjaXJjbGUncyBjZW50ZXIgaW4gcGl4ZWxzXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIENpcmNsZSB7XG4gICAgICAgICAgICByYWRpdXM6IG51bWJlcjtcbiAgICAgICAgICAgIHg6IG51bWJlcjtcbiAgICAgICAgICAgIHk6IG51bWJlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZpbml0aW9uIGZvciBhIHJlY3Rhbmd1bGFyIGFyZWEgb24gSmlibydzIHNjcmVlblxuICAgICAgICAgKiBAaW50ZXJmYWNlIENvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheS5SZWN0YW5nbGVcbiAgICAgICAgICogQHByb3AgaGVpZ2h0IHtudW1iZXJ9IEhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlIGluIHBpeGVsc1xuICAgICAgICAgKiBAcHJvcCB3aWR0aCB7bnVtYmVyfSBXaWR0aCBvZiB0aGUgcmVjdGFuZ2xlIGluIHBpeGVsc1xuICAgICAgICAgKiBAcHJvcCB4IHtudW1iZXJ9IEhvcml6b250YWwgY29vcmRpbmF0ZSBvZiB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGUgaW4gcGl4ZWxzXG4gICAgICAgICAqIEBwcm9wIHkge251bWJlcn0gVmVydGljYWwgY29vcmRpbmF0ZSBvZiB0aGUgdG9wLWxlZnQgY29ybmVyIG9mIHRoZSByZWN0YW5nbGUgaW4gcGl4ZWxzXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgaW50ZXJmYWNlIFJlY3RhbmdsZSB7XG4gICAgICAgICAgICBoZWlnaHQ6IG51bWJlcjtcbiAgICAgICAgICAgIHdpZHRoOiBudW1iZXI7XG4gICAgICAgICAgICB4OiBudW1iZXI7XG4gICAgICAgICAgICB5OiBudW1iZXI7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogRW51bSBvZiBzY3JlZW4gZ2VzdHVyZSB0eXBlc1xuICAgICAgICAgKiBAdHlwZWRlZiBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkuU2NyZWVuR2VzdHVyZVR5cGVcbiAgICAgICAgICogQHByb3AgVGFwICdUQVAnIEEgdGFwIG9uIEppYm8ncyBzY3JlZW5cbiAgICAgICAgICogQHByb3AgU3dpcGVVcCAnU1dJUEVVUCcgQSBzd2lwZSBmcm9tIGJvdHRvbSB0byB0b3Agb24gSmlibydzIHNjcmVlblxuICAgICAgICAgKiBAcHJvcCBTd2lwZURvd24gJ1NXSVBFRE9XTicgQSBzd2lwZSBmcm9tIHRvcCB0byBib3R0b20gb24gSmlibydzIHNjcmVlblxuICAgICAgICAgKiBAcHJvcCBTd2lwZUxlZnQgJ1NXSVBFTEVGVCcgQSBzd2lwZSBmcm9tIHJpZ2h0IHRvIGxlZnQgb24gSmlibydzIHNjcmVlblxuICAgICAgICAgKiBAcHJvcCBTd2lwZVJpZ2h0ICdTV0lQRVJJR0hUJyBBIHN3aXBlIGZyb20gbGVmdCB0byByaWdodCBvbiBKaWJvJ3Mgc2NyZWVuXG4gICAgICAgICAqL1xuICAgICAgICBleHBvcnQgZW51bSBTY3JlZW5HZXN0dXJlVHlwZSB7XG4gICAgICAgICAgICBUYXAgPSAnVEFQJyxcbiAgICAgICAgICAgIFN3aXBlVXAgPSAnU1dJUEVVUCcsXG4gICAgICAgICAgICBTd2lwZURvd24gPSAnU1dJUEVET1dOJyxcbiAgICAgICAgICAgIFN3aXBlTGVmdCA9ICdTV0lQRUxFRlQnLFxuICAgICAgICAgICAgU3dpcGVSaWdodCA9ICdTV0lQRVJJR0hUJyxcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRhIG9iamVjdCBmb3IgaW1hZ2UgaW5mb1xuICAgICAgICAgKiBAaW50ZXJmYWNlIENvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheS5JbWFnZURhdGFcbiAgICAgICAgICogQHByb3AgbmFtZSB7c3RyaW5nfSBQcm92aWRlIGEgdW5pcXVlIG5hbWUgZm9yIHRoZSBhc3NldCBpbiB0aGUgbG9jYWwgY2FjaGVcbiAgICAgICAgICogQHByb3AgW3NldF0ge3N0cmluZ30gUHJldmlvdXNseSBkZWZpbmVkIG5hbWUgb2Ygc2V0IG9mIGFzc3NldHMgdG8gYWRkIHRoaXMgYXNzZXQgdG9cbiAgICAgICAgICogQHByb3Agc3JjIHtzdHJpbmd9IFVSTCB0byB0aGUgaW1hZ2VcbiAgICAgICAgICovXG4gICAgICAgIGV4cG9ydCBpbnRlcmZhY2UgSW1hZ2VEYXRhIHtcbiAgICAgICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgICAgIHNldD86IHN0cmluZztcbiAgICAgICAgICAgIHNyYzogc3RyaW5nO1xuICAgICAgICB9XG4gICAgfVxufSIsImRlY2xhcmUgY29uc3QgdXVpZDtcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRyYW5zYWN0aW9uSUQoKSB7XG4gICAgaWYodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xuICAgICAgICBjb25zdCBoYXNoU291cmNlID0gJ2hpJyArIHByb2Nlc3MuaHJ0aW1lKCk7XG4gICAgICAgIHJldHVybiBjcnlwdG8uY3JlYXRlSGFzaCgnbWQ1JykudXBkYXRlKGhhc2hTb3VyY2UpLmRpZ2VzdCgnaGV4Jyk7XG4gICAgfVxuICAgIHJldHVybiB1dWlkLnY0KCkuc3BsaXQoJy0nKS5qb2luKCcnKTtcbn0iLCJpbXBvcnQge0V2ZW50fSBmcm9tICcuLi9ldmVudHMvRXZlbnQnO1xuaW1wb3J0IFdlYlNvY2tldFR5cGUgPSByZXF1aXJlKCd3cycpO1xuaW1wb3J0IHtDb25uZWN0aW9uRXZlbnQsIERpc2Nvbm5lY3RFdmVudCwgTWVzc2FnZUV2ZW50fSBmcm9tICcuL0lDb25uZWN0aW9uJztcbmNvbnN0IFBPUlQgPSA4MTYwO1xuY29uc3QgTk9ERSA9IHR5cGVvZiBwcm9jZXNzID09PSAnb2JqZWN0JztcblxuZXhwb3J0IGludGVyZmFjZSBIYW5kc2hha2VNZXNzYWdlIHtcbiAgICB0eXBlOiAnaGFuZHNoYWtlJztcbiAgICBzdGF0dXM6ICdPSyc7XG4gICAgbmFtZTogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Rpb25TZXR0aW5ncyB7XG4gICAgaG9zdG5hbWU6IHN0cmluZztcbiAgICBwb3J0PzogbnVtYmVyO1xuICAgIGtleT86IHN0cmluZztcbiAgICBjZXJ0Pzogc3RyaW5nO1xuICAgIGZpbmdlcnByaW50Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb25uZWN0aW9uTWFuYWdlciB7XG4gICAgcHVibGljIGNvbm5lY3RlZDogRXZlbnQ8Q29ubmVjdGlvbkV2ZW50PjtcbiAgICBwdWJsaWMgZGlzY29ubmVjdGVkOiBFdmVudDxEaXNjb25uZWN0RXZlbnQ+O1xuICAgIHB1YmxpYyBtZXNzYWdlOiBFdmVudDxNZXNzYWdlRXZlbnQ+O1xuXG4gICAgcHJpdmF0ZSBuYW1lZENvbm5lY3Rpb25zOiB7W2tleTogc3RyaW5nXTogV2ViU29ja2V0fFdlYlNvY2tldFR5cGV9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub25Db25uZWN0aW9uID0gdGhpcy5vbkNvbm5lY3Rpb24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vbkNsb3NlID0gdGhpcy5vbkNsb3NlLmJpbmQodGhpcyk7XG5cbiAgICAgICAgdGhpcy5uYW1lZENvbm5lY3Rpb25zID0ge307XG4gICAgICAgIHRoaXMuY29ubmVjdGVkID0gbmV3IEV2ZW50KCdDb25uZWN0ZWQnKTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQgPSBuZXcgRXZlbnQoJ0Rpc2Nvbm5lY3RlZCcpO1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBuZXcgRXZlbnQoJ01lc3NhZ2UgUmVjZWl2ZWQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY29ubmVjdChyb2JvdE5hbWU6c3RyaW5nLCBvcHRpb25zOmFueSk6UHJvbWlzZTxDb25uZWN0aW9uRXZlbnQ+IHtcbiAgICAgICAgaWYgKHRoaXMuaXNDb25uZWN0ZWQocm9ib3ROYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7cm9ib3Q6cm9ib3ROYW1lfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWQub24ocmVzb2x2ZSk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0V2ViU29ja2V0KHtob3N0bmFtZTogcm9ib3ROYW1lLCAuLi5vcHRpb25zfSwgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkLm9mZihyZXNvbHZlKTtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY2xvc2UoKTp2b2lkIHtcbiAgICAgICAgZm9yIChsZXQgcm9ib3QgaW4gdGhpcy5uYW1lZENvbm5lY3Rpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm5hbWVkQ29ubmVjdGlvbnNbcm9ib3RdLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uYW1lZENvbm5lY3Rpb25zID0ge307XG4gICAgfVxuXG4gICAgcHVibGljIGlzQ29ubmVjdGVkKG5hbWU6IHN0cmluZyk6Ym9vbGVhbiB7XG4gICAgICAgIHJldHVybiBuYW1lIGluIHRoaXMubmFtZWRDb25uZWN0aW9ucztcbiAgICB9XG5cbiAgICBwdWJsaWMgc2VuZFRvKG5hbWU6IHN0cmluZywgY29tbWFuZDogSklCTy52MS5Db21tYW5kKTp2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzQ29ubmVjdGVkKG5hbWUpKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vZG9uJ3QgY2FyZSBhYm91dCBrbm93aW5nIHdoZW4gdGhlIHNlbmQgY29tcGxldGVzXG4gICAgICAgIGlmIChOT0RFKSB7XG4gICAgICAgICAgICAodGhpcy5uYW1lZENvbm5lY3Rpb25zW25hbWVdIGFzIFdlYlNvY2tldFR5cGUpLnNlbmQoSlNPTi5zdHJpbmdpZnkoY29tbWFuZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgKHRoaXMubmFtZWRDb25uZWN0aW9uc1tuYW1lXSBhcyBXZWJTb2NrZXQpLnNlbmQoSlNPTi5zdHJpbmdpZnkoY29tbWFuZCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gcHVibGljIHNlbmRBc3NldFJlcXVlc3RUbyhuYW1lOnN0cmluZywgdXJpOnN0cmluZywgY2FsbGJhY2s6QXNzZXRDYWxsYmFjaykge1xuICAgIC8vICAgICBjb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpO1xuICAgIC8vICAgICBodHRwLnJlcXVlc3Qoe1xuICAgIC8vICAgICAgICAgaG9zdG5hbWU6IG5hbWUsXG4gICAgLy8gICAgICAgICBwb3J0OiBQT1JULFxuICAgIC8vICAgICAgICAgcGF0aDogdXJpLFxuICAgIC8vICAgICB9LCBjYWxsYmFjaykuZW5kKCk7XG4gICAgLy8gfVxuXG4gICAgcHJpdmF0ZSBzdGFydFdlYlNvY2tldChzZXR0aW5nczpDb25uZWN0aW9uU2V0dGluZ3MsIG9uRXJyb3I/OiBGdW5jdGlvbik6IHZvaWQge1xuICAgICAgICBjb25zdCB7aG9zdG5hbWV9ID0gc2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IHBvcnQgPSBzZXR0aW5ncy5wb3J0IHx8IFBPUlQ7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gc2V0dGluZ3MuY2VydCA/ICd3c3MnIDogJ3dzJztcbiAgICAgICAgY29uc3QgY29ubmVjdGlvblN0cmluZzogc3RyaW5nID0gYCR7cHJvdG9jb2x9Oi8vJHtob3N0bmFtZX06JHtwb3J0fWA7XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSBzZXR0aW5ncy5jZXJ0XG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBrZXk6IHNldHRpbmdzLmtleSxcbiAgICAgICAgICAgICAgICBjZXJ0OiBzZXR0aW5ncy5jZXJ0LFxuICAgICAgICAgICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogZmFsc2UsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHt9O1xuICAgICAgICBpZiAodGhpcy5uYW1lZENvbm5lY3Rpb25zW2hvc3RuYW1lXSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLm5hbWVkQ29ubmVjdGlvbnNbaG9zdG5hbWVdLmNsb3NlKCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy90aGlzIGVycm9yIHdvdWxkIGJlIG9kZCwgYnV0IHdlJ2xsIGlnbm9yZSBpdCBhcyBpdCB3b3VsZCBiZSB1c2VyIChkZXYpIGZhY2luZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uYW1lZENvbm5lY3Rpb25zW2hvc3RuYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCB3ZWJzb2NrZXQ6IFdlYlNvY2tldCB8IFdlYlNvY2tldFR5cGU7XG4gICAgICAgICAgICBpZihOT0RFKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgV2ViU29ja2V0OiB0eXBlb2YgV2ViU29ja2V0VHlwZSA9IHJlcXVpcmUoJ3dzJyk7XG4gICAgICAgICAgICAgICAgd2Vic29ja2V0ID0gdGhpcy5uYW1lZENvbm5lY3Rpb25zW2hvc3RuYW1lXSA9IG5ldyBXZWJTb2NrZXQoY29ubmVjdGlvblN0cmluZywgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB3ZWJzb2NrZXQgPSB0aGlzLm5hbWVkQ29ubmVjdGlvbnNbaG9zdG5hbWVdID0gbmV3IFdlYlNvY2tldChjb25uZWN0aW9uU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGVycm9yQ2FsbGJhY2sgPSAoZSk6YW55ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob25FcnJvcil7XG4gICAgICAgICAgICAgICAgICAgIG9uRXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdlYnNvY2tldC5vbmVycm9yID0gKCkgPT4geyByZXR1cm47IH07XG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsb3NlKGhvc3RuYW1lLCAwLCAnRXJyb3IgaW4gd2Vic29ja2V0Jyk7XG4gICAgICAgICAgICAgICAgaWYgKE5PREUpIHtcbiAgICAgICAgICAgICAgICAgICAgKHdlYnNvY2tldCBhcyBXZWJTb2NrZXRUeXBlKS5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgZXJyb3JDYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgKHdlYnNvY2tldCBhcyBXZWJTb2NrZXQpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgb25DbG9zZSA9IChlKSA9PiB0aGlzLm9uQ2xvc2UoaG9zdG5hbWUsIGUuY29kZSwgZS5yZWFzb24pO1xuICAgICAgICAgICAgaWYgKE5PREUpIHtcbiAgICAgICAgICAgICAgICAod2Vic29ja2V0IGFzIFdlYlNvY2tldFR5cGUpLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBlcnJvckNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAod2Vic29ja2V0IGFzIFdlYlNvY2tldFR5cGUpLmFkZEV2ZW50TGlzdGVuZXIoJ29wZW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Db25uZWN0aW9uKGhvc3RuYW1lLCB3ZWJzb2NrZXQgYXMgV2ViU29ja2V0VHlwZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgKHdlYnNvY2tldCBhcyBXZWJTb2NrZXRUeXBlKS5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsIG9uQ2xvc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAod2Vic29ja2V0IGFzIFdlYlNvY2tldCkuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGVycm9yQ2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICh3ZWJzb2NrZXQgYXMgV2ViU29ja2V0KS5hZGRFdmVudExpc3RlbmVyKCdvcGVuJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ29ubmVjdGlvbihob3N0bmFtZSwgd2Vic29ja2V0IGFzIFdlYlNvY2tldCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgKHdlYnNvY2tldCBhcyBXZWJTb2NrZXQpLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgb25DbG9zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5uYW1lZENvbm5lY3Rpb25zW2hvc3RuYW1lXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ29ubmVjdGlvbihob3N0bmFtZTpzdHJpbmcsIHdzOiBXZWJTb2NrZXR8V2ViU29ja2V0VHlwZSk6IHZvaWQge1xuICAgICAgICAvLyBtZXNzYWdlIGZyb20gSmlib1xuICAgICAgICB0aGlzLmNvbm5lY3RlZC5lbWl0KHsgcm9ib3Q6IGhvc3RuYW1lIH0pO1xuICAgICAgICB0aGlzLm5hbWVkQ29ubmVjdGlvbnNbaG9zdG5hbWVdID0gd3M7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVyID0gKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgIC8vZm9yIGNvbWFwdGliaWxpdHkgYmV0d2VlbiBicm9zd2VyIGFuZCBub2RlXG4gICAgICAgICAgICBpZiAoKG1lc3NhZ2UgYXMgYW55KS5kYXRhKSB7IG1lc3NhZ2UgPSAobWVzc2FnZSBhcyBhbnkpLmRhdGE7IH1cblxuICAgICAgICAgICAgLy93YWl0IGZvciBoYW5kc2hha2UgcmVjZWl2ZWQgdG9cbiAgICAgICAgICAgIGxldCBtc2c6IGFueSA9IEpTT04ucGFyc2UobWVzc2FnZS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZS5lbWl0KHtyb2JvdDpob3N0bmFtZSwgZGF0YTogbXNnfSk7XG4gICAgICAgIH07XG4gICAgICAgIGlmIChOT0RFKSB7XG4gICAgICAgICAgICAod3MgYXMgV2ViU29ja2V0VHlwZSkuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGxpc3RlbmVyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICh3cyBhcyBXZWJTb2NrZXQpLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ2xvc2Uocm9ib3Q6IHN0cmluZywgY29kZTpudW1iZXIsIHJlYXNvbjpzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMubmFtZWRDb25uZWN0aW9uc1tyb2JvdF0pIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY29ubmVjdGVkLmVtaXQoe3JvYm90LCBjb2RlLCByZWFzb259KTtcbiAgICAgICAgICAgIHRoaXMubmFtZWRDb25uZWN0aW9uc1tyb2JvdF0uY2xvc2UoKTtcbiAgICAgICAgICAgIHRoaXMubmFtZWRDb25uZWN0aW9uc1tyb2JvdF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGludGVyZmFjZSBIYW5kbGVyIDxUeXBlPiB7XG4gIChkYXRhPzogVHlwZSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBlbnVtIEVtaXR0ZXJNb2RlIHtcbiAgQUxMX0hBTkRMRVJTID0gJ0FMTF9IQU5ETEVSUycsXG4gIEZJUlNUX0hBTkRMRVIgPSAnRklSU1RfSEFORExFUicsXG4gIExBU1RfSEFORExFUiA9ICdMQVNUX0hBTkRMRVInXG59XG5cblxuZXhwb3J0IGNsYXNzIEV2ZW50IDxUeXBlPiB7XG5cbiAgcHJpdmF0ZSBfb25jZUV2ZW50cyA9IG5ldyBNYXA8SGFuZGxlcjxUeXBlPiwgSGFuZGxlcjxUeXBlPj4oKTtcbiAgcHJpdmF0ZSBfZXZlbnRzOiBIYW5kbGVyPFR5cGU+W10gPSBbXTtcbiAgcHJpdmF0ZSBfbWF4TGlzdGVuZXJzID0gMTA7XG5cbiAgLypcbiAgICogTW9kZSBvZiBvcmRlciB0byBlbWl0IGV2ZW50cy5cbiAgICogSW4gU3RhY2sgbW9kZSwgb25seSBlbWl0cyB0byBsYXN0IGV2ZW50IHN1YnNjcmliZWRcbiAgICogQHR5cGUge2VudW19XG4gICAqL1xuICBwcml2YXRlIF9lbWl0dGVyTW9kZTpFbWl0dGVyTW9kZSA9IEVtaXR0ZXJNb2RlLkFMTF9IQU5ETEVSUztcblxuICAvKlxuICAgKiBDcmVhdGVzIGFuIEV2ZW50IG9iamVjdFxuICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBOYW1lIG9mIGV2ZW50XG4gICAqL1xuICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nKSB7XG5cbiAgfVxuXG4gIC8qXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIGN1cnJlbnRseSBzdWJzY3JpYmVkIGhhbmRsZXJzXG4gICAqL1xuICBsaXN0ZW5lcnMoKTogSGFuZGxlcjxUeXBlPltdIHtcbiAgICByZXR1cm4gdGhpcy5fZXZlbnRzLnNsaWNlKCk7XG4gIH1cblxuXG4gIC8qXG4gICAqIFNldHMgdGhlIG1heGltdW0gbnVtYmVyIG9mIGxpc3RlbmVyc1xuICAgKiBAcGFyYW0ge251bWJlcn0gblxuICAgKiBAcmV0dXJucyB7RXZlbnR9IHRoaXNcbiAgICovXG4gIHNldE1heExpc3RlbmVycyhuOiBudW1iZXIpIHtcbiAgICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLypcbiAgICogR2V0cyB0aGUgbWF4aW11bSBudW1iZXIgb2YgbGlzdGVuZXJzXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gICAgcmV0dXJuIHRoaXMuX21heExpc3RlbmVycztcbiAgfVxuXG4gIC8qXG4gICAqIFN1YnNjcmliZXMgYSBoYW5kbGVyIGZ1bmN0aW9uIHRvIG9ubHkgdGhlIG5leHQgZXZlbnRcbiAgICogQHJldHVybiB7RXZlbnR9IHRoaXNcbiAgICovXG4gIG9uY2UoaGFuZGxlcjogSGFuZGxlcjxUeXBlPikge1xuICAgIGxldCBoYW5kbGVyV3JhcHBlciA9IHRoaXMuX29uY2VFdmVudHMuZ2V0KGhhbmRsZXIpO1xuICAgIGlmICghaGFuZGxlcldyYXBwZXIpIHtcbiAgICAgIGhhbmRsZXJXcmFwcGVyID0gKGRhdGEpID0+IHtcbiAgICAgICAgdGhpcy5fb25jZUV2ZW50cy5kZWxldGUoaGFuZGxlcik7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoaGFuZGxlcldyYXBwZXIpO1xuICAgICAgICBoYW5kbGVyKGRhdGEpO1xuICAgICAgfTtcbiAgICAgIHRoaXMuX29uY2VFdmVudHMuc2V0KGhhbmRsZXIsIGhhbmRsZXJXcmFwcGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5vbihoYW5kbGVyV3JhcHBlcik7XG4gIH1cblxuICAvKlxuICAgKiBTdWJzY3JpYmVzIGEgaGFuZGxlciBmdW5jdGlvbiB0byB0aGlzIGV2ZW50XG4gICAqIEByZXR1cm4ge0V2ZW50fSB0aGlzXG4gICAqL1xuICBvbihoYW5kbGVyOiBIYW5kbGVyPFR5cGU+KSB7XG4gICAgaWYgKHRoaXMuX2V2ZW50cy5sZW5ndGggPj0gdGhpcy5fbWF4TGlzdGVuZXJzKSB7XG4gICAgICBjb25zb2xlLndhcm4oYEV2ZW50ICcke3RoaXMubmFtZX0nOiBNYXggbGlzdGVuZXJzICR7dGhpcy5fbWF4TGlzdGVuZXJzfSByZWFjaGVkLiBgLCBuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgfVxuICAgIHRoaXMuX2V2ZW50cy5wdXNoKGhhbmRsZXIpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLypcbiAgICogVW5zdWJzY3JpYmVzIG1vc3QgcmVjZW50bHkgYWRkZWQgc3Vic2NyaWJlclxuICAgKiBAcmV0dXJuIHtFdmVudH0gdGhpc1xuICAgKi9cbiAgcmVtb3ZlTGFzdExpc3RlbmVyKCkge1xuICAgIHRoaXMuX2V2ZW50cy5zcGxpY2UodGhpcy5fZXZlbnRzLmxlbmd0aCAtIDEsIDEpO1xuICB9XG5cbiAgLypcbiAgICogVW5zdWJzY3JpYmVzIG9sZGVzdCBhZGRlZCBzdWJzY3JpYmVyXG4gICAqIEByZXR1cm4ge0V2ZW50fSB0aGlzXG4gICAqL1xuICByZW1vdmVGaXJzdExpc3RlbmVyKCkge1xuICAgIC8vIGlmIGV2ZW50cyBpcyBlbXB0eSwgbm8gZXJyb3I7IHN0aWxsIGdpdmVzIGVtcHR5IGFycmF5LlxuICAgIHRoaXMuX2V2ZW50cy5zcGxpY2UoMCwgMSk7XG4gIH1cblxuXG4gIC8qXG4gICAqIFN1YnNjcmliZXMgYSBoYW5kbGVyIGZ1bmN0aW9uIHRvIHRoaXMgZXZlbnRcbiAgICogQHJldHVybiB7RXZlbnR9IHRoaXNcbiAgICovXG4gIGFkZExpc3RlbmVyKGhhbmRsZXI6IEhhbmRsZXI8VHlwZT4pIHtcbiAgICByZXR1cm4gdGhpcy5vbihoYW5kbGVyKTtcbiAgfVxuXG4gIC8qXG4gICAqIFVuc3Vic2NyaWJlcyBhIGhhbmRsZXIgZnVuY3Rpb24gZnJvbSB0aGlzIGV2ZW50XG4gICAqIEBwYXJhbSB7SGFuZGxlcn0gaGFuZGxlclxuICAgKiBAcmV0dXJuIHtFdmVudH0gdGhpc1xuICAgKi9cbiAgcmVtb3ZlTGlzdGVuZXIoaGFuZGxlcjogSGFuZGxlcjxUeXBlPikge1xuICAgIC8vIFdlIHJlbW92ZSB0aGUgaGFuZGxlciBpZiBpdCBoYXMgYmVlbiBwcm92aWRlZCB0aHJvdWdoIGBvbmBcbiAgICBsZXQgaW5kZXggPSB0aGlzLl9ldmVudHMuaW5kZXhPZihoYW5kbGVyKTtcbiAgICB3aGlsZSAoaW5kZXggIT09IC0xKSB7XG4gICAgICB0aGlzLl9ldmVudHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgIGluZGV4ID0gdGhpcy5fZXZlbnRzLmluZGV4T2YoaGFuZGxlciwgaW5kZXgpO1xuICAgIH1cblxuICAgIC8vIFdlIHJlbW92ZSB0aGUgaGFuZGxlciBpZiBpdCBoYXMgYmVlbiBwcm92aWRlZCB0aHJvdWdoIGBvbmNlYFxuICAgIGNvbnN0IG9uY2VIYW5kbGVyID0gdGhpcy5fb25jZUV2ZW50cy5nZXQoaGFuZGxlcik7XG4gICAgaWYgKG9uY2VIYW5kbGVyKSB7XG4gICAgICBsZXQgaW5kZXggPSB0aGlzLl9ldmVudHMuaW5kZXhPZihvbmNlSGFuZGxlcik7XG4gICAgICB3aGlsZSAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICBpbmRleCA9IHRoaXMuX2V2ZW50cy5pbmRleE9mKG9uY2VIYW5kbGVyLCBpbmRleCk7XG4gICAgICB9XG4gICAgICB0aGlzLl9vbmNlRXZlbnRzLmRlbGV0ZShoYW5kbGVyKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8qXG4gICAqIFVuc3Vic2NyaWJlcyBhIGhhbmRsZXIgZnVuY3Rpb24gZnJvbSB0aGlzIGV2ZW50IChhbGlhcyBmb3IgcmVtb3ZlTGlzdGVuZXIpXG4gICAqIEBwYXJhbSB7SGFuZGxlcn0gaGFuZGxlclxuICAgKiBAcmV0dXJuIHtFdmVudH0gdGhpc1xuICAgKi9cbiAgb2ZmKGhhbmRsZXI6IEhhbmRsZXI8VHlwZT4pIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVMaXN0ZW5lcihoYW5kbGVyKTtcbiAgfVxuXG4gIC8qXG4gICAqIFVuc3Vic2NyaWJlcyBhbGwgaGFuZGxlciBmdW5jdGlvbnMgZnJvbSB0aGlzIGV2ZW50XG4gICAqIEByZXR1cm4ge0V2ZW50fSB0aGlzXG4gICAqL1xuICByZW1vdmVBbGxMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gW107XG4gICAgdGhpcy5fb25jZUV2ZW50cy5jbGVhcigpO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgLypcbiAgICogRmlyZXMgb2ZmIGFuIGluc3RhbmNlIG9mIHRoaXMgZXZlbnQgd2l0aCBvcHRpb25hbCBkYXRhXG4gICAqIEBwYXJhbSB7VHlwZX0gW2RhdGFdIFRoZSBkYXRhIG9mIHRoZSBldmVudFxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSBldmVudCBoYXMgYW55IGxpc3RlbmVycywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAqL1xuICBlbWl0KGRhdGE/OiBUeXBlKSB7XG5cbiAgICBpZiAodGhpcy5fZW1pdHRlck1vZGUgPT09IEVtaXR0ZXJNb2RlLkFMTF9IQU5ETEVSUykge1xuICAgICAgLy8gV2Ugc3RhcnQgYnkgY3JlYXRpbmcgYSBjb3B5IG9mIGhhbmRsZXJzXG4gICAgICAvLyB0aGlzIGlzIHJlcXVpcmVkIHRvIG1ha2Ugc3VyZSB0aGF0IG5vIGhhbmRsZXIgbW9kaWZpZXMgdGhlXG4gICAgICAvLyB1bmRlcmx5aW5nIGNvbGxlY3Rpb24gd2hpY2ggY291bGQgcmVzdWx0IGluIG9uZSBvciBtb3JlXG4gICAgICAvLyBoYW5kbGVycyBub3QgYmVpbmcgY2FsbGVkXG4gICAgICBsZXQgY29weSA9IHRoaXMubGlzdGVuZXJzKCk7XG5cbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29weS5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgbGV0IGhhbmRsZXI6IGFueSA9IGNvcHlbaV0gYXMgYW55O1xuICAgICAgICBoYW5kbGVyKGRhdGEpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBMYXN0IGhhbmRsZXIgb25seVxuICAgIGVsc2UgaWYgKHRoaXMuX2VtaXR0ZXJNb2RlID09PSBFbWl0dGVyTW9kZS5MQVNUX0hBTkRMRVIpIHtcbiAgICAgIGxldCBoYW5kbGVyOiBhbnkgPSB0aGlzLl9ldmVudHNbdGhpcy5fZXZlbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlcihkYXRhKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhIWhhbmRsZXI7XG4gICAgfVxuICAgIC8vIEZpcnN0IGhhbmRsZXIgb25seSwgcmV0dXJuIHRydWUgaWZcbiAgICBlbHNlIGlmICh0aGlzLl9lbWl0dGVyTW9kZSA9PT0gRW1pdHRlck1vZGUuRklSU1RfSEFORExFUikge1xuICAgICAgbGV0IGhhbmRsZXI6IGFueSA9IHRoaXMuX2V2ZW50c1swXTtcbiAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgIGhhbmRsZXIoZGF0YSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gISFoYW5kbGVyO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLl9ldmVudHMubGVuZ3RoID4gMDtcbiAgfVxuXG5cbiAgLypcbiAgICogU2V0cyBtb2RlIHRvIHN0YWNrOyBldmVudCBvbmx5IGVtaXRzIHRvIGxhc3Qgc3Vic2NyaWJlclxuICAgKiBAcGFyYW0ge2VudW19IG1vZGUgb2YgZXZlbnQgdG8gc2V0XG4gICAqL1xuICBwdWJsaWMgc2V0TW9kZShtb2RlOkVtaXR0ZXJNb2RlKSB7XG4gICAgaWYoIUVtaXR0ZXJNb2RlW21vZGVdKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFbWl0dGVyIG1vZGUgb2YgdHlwZWQgZXZlbnRzIG11c3QgYmUgQUxMX0hBTkRMRVJTLCBGSVJTVF9IQU5ETEVSLCBvciBMQVNUX0hBTkRMRVJcIik7XG4gICAgfVxuICAgIHRoaXMuX2VtaXR0ZXJNb2RlID0gbW9kZTtcbiAgfVxuXG4gIC8qXG4gICAqIFdhaXRzIGZvciBldmVudCB0byBvY2N1ci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IFt0aW1lb3V0TXM9LTFdIFRpbWVvdXQgd2hpbGUgd2FpdGluZyBmb3IgZXZlbnRcbiAgICogQHJldHVybiB7UHJvbWlzZTxhbnk+fSBSZXNvbHZlZCB3aXRoIGV2ZW50IHBheWxvYWQgb3IgcmVqZWN0ZWQgd2l0aCAnVElNRU9VVCcgaWYgdGltZXMgb3V0XG4gICAqL1xuICBwdWJsaWMgd2FpdEZvcih0aW1lb3V0TXMgPSAtMSk6IFByb21pc2U8VHlwZT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSggKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgbGV0IHRpbWVvdXRIYW5kbGU6IGFueTtcblxuICAgICAgY29uc3QgZXZlbnRIYW5kbGVyID0gZGF0YSA9PiB7XG4gICAgICAgIGlmICh0aW1lb3V0SGFuZGxlKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRIYW5kbGUpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUoZGF0YSk7XG4gICAgICB9O1xuXG4gICAgICAvLyBDb25uZWN0IHRpbWVvdXQgaGFuZGxlclxuICAgICAgaWYgKHRpbWVvdXRNcyA+IDApIHtcbiAgICAgICAgdGltZW91dEhhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnRIYW5kbGVyKTtcbiAgICAgICAgICByZWplY3QoJ1RJTUVPVVQnKTtcbiAgICAgICAgfSwgdGltZW91dE1zKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5vbmNlKGV2ZW50SGFuZGxlcik7XG4gICAgfSk7XG4gIH1cblxuICAvKlxuICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgbGlzdGVuZXJzXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9XG4gICAqL1xuICBsaXN0ZW5lckNvdW50KCkge1xuICAgIHJldHVybiB0aGlzLl9ldmVudHMubGVuZ3RoO1xuICB9XG59IiwiaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCBSZXF1ZXN0VG9rZW4gZnJvbSAnLi4vdG9rZW5zL1JlcXVlc3RUb2tlbic7XG5cbmV4cG9ydCBkZWZhdWx0IGFic3RyYWN0IGNsYXNzIFJlcXVlc3RBUEk8UiBleHRlbmRzIEpJQk8udjEuQmFzZUNvbW1hbmQsIFQgZXh0ZW5kcyBSZXF1ZXN0VG9rZW48Uj4+IHtcbiAgICBwcm90ZWN0ZWQgb3duZXI6Q29tbWFuZFJlcXVlc3RlcjtcblxuICAgIGNvbnN0cnVjdG9yKG93bmVyOkNvbW1hbmRSZXF1ZXN0ZXIpIHtcbiAgICAgICAgdGhpcy5vd25lciA9IG93bmVyO1xuICAgIH1cblxuICAgIGFic3RyYWN0IGdlbmVyYXRlVG9rZW4ocHJvdG9jb2w6IFIpOiBUO1xuXG4gICAgcHVibGljIHNlbmRUb2tlbih0b2tlbjogVCk6IHZvaWQge1xuICAgICAgICB0aGlzLm93bmVyLnNlbmRUb2tlbih0b2tlbik7XG4gICAgfVxufSIsImltcG9ydCAqIGFzIHYxIGZyb20gJy4vdjEnO1xuaW1wb3J0ICogYXMgdjIgZnJvbSAnLi92Mic7XG5cbmV4cG9ydCB7XG4gICAgdjEsXG4gICAgdjJcbn07IiwiaW1wb3J0IFJlcXVlc3RUb2tlbiBmcm9tICcuLi8uLi90b2tlbnMvUmVxdWVzdFRva2VuJztcbmltcG9ydCB7Q29tbWFuZFJlcXVlc3Rlcn0gZnJvbSAnLi4vLi4vQ29tbWFuZFJlcXVlc3Rlcic7XG5pbXBvcnQgUmVxdWVzdEFQSSBmcm9tICcuLi9SZXF1ZXN0QVBJJztcbmltcG9ydCB7Q29tbWFuZFR5cGVzLCBSZXNwb25zZUNvZGV9IGZyb20gJ0BqaWJvL2NvbW1hbmQtcHJvdG9jb2wnO1xuXG4vKipcbiAqIEBjbGFzcyBTZXNzaW9uVG9rZW5cbiAqIEBkZXNjcmlwdGlvbiBSZXNwb25zZSB0b2tlbiBmb3IgdGhlIHtAbGluayBTZXNzaW9ufSBjbGFzcy5cbiAqIEBleHRlbmRzIFJlcXVlc3RUb2tlblxuICogQGhpZGVjb25zdHJ1Y3RvclxuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGNsYXNzIFNlc3Npb25Ub2tlbiBleHRlbmRzIFJlcXVlc3RUb2tlbjxKSUJPLnYxLlNlc3Npb25SZXF1ZXN0LCBKSUJPLnYxLlNlc3Npb25SZXNwb25zZT4ge1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXI6Q29tbWFuZFJlcXVlc3RlciwgcHJvdG9jb2w6IEpJQk8udjEuU2Vzc2lvblJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIob3duZXIsIHByb3RvY29sKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVBY2soYWNrOkpJQk8udjEuQWNrbm93bGVkZ2VtZW50KSB7XG4gICAgICAgIC8vaGFuZGxlIGFja1xuICAgICAgICBpZiAoYWNrLlJlc3BvbnNlLlJlc3BvbnNlQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoYWNrLlJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWNrLlJlc3BvbnNlLlJlc3BvbnNlQ29kZSA9PT0gUmVzcG9uc2VDb2RlLk9LKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVzb2x2ZShhY2suUmVzcG9uc2UgYXMgSklCTy52MS5TZXNzaW9uUmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlRXZlbnQoZXZlbnQ6SklCTy52MS5FdmVudE1lc3NhZ2UpIHtcbiAgICAgICAgLy9oYW5kbGUgZXZlbnRcbiAgICB9XG59XG5cbi8qKlxuICogQG5hbWVzcGFjZSBDb21tYW5kUmVxdWVzdGVyLnNlc3Npb25cbiAqIEBpbnRkb2NzXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXNzaW9uIGV4dGVuZHMgUmVxdWVzdEFQSTxKSUJPLnYxLlNlc3Npb25SZXF1ZXN0LCBTZXNzaW9uVG9rZW4+IHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIFNlc3Npb24gUHJvdG9jb2xcbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuc2Vzc2lvbiNnZW5lcmF0ZVByb3RvY29sXG4gICAgICogQHJldHVybnMge1Nlc3Npb25SZXF1ZXN0fVxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlUHJvdG9jb2woKTogSklCTy52MS5TZXNzaW9uUmVxdWVzdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBUeXBlOiBDb21tYW5kVHlwZXMuU3RhcnRTZXNzaW9uXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3RhcnQgdGhlIHNlc3Npb24uXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLnNlc3Npb24jc3RhcnRTZXNzaW9uXG4gICAgICogQHJldHVybiB7U2Vzc2lvblRva2VufVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGFydCgpOlNlc3Npb25Ub2tlbiB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gU2Vzc2lvbi5nZW5lcmF0ZVByb3RvY29sKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlVG9rZW4ocHJvdG9jb2wsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5zZXNzaW9uI2dlbmVyYXRlVG9rZW5cbiAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIFNlc3Npb25Ub2tlbiBmcm9tIFNlc3Npb25SZXF1ZXN0IHByb3RvY29sLlxuICAgICAqIEBwYXJhbSB7U2Vzc2lvblJlcXVlc3R9IHByb3RvY29sIC0gU2Vzc2lvblJlcXVlc3QgcHJvdG9jb2wgdG8gZ2VuZXJhdGUgYSBTZXNzaW9uVG9rZW4gZnJvbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbmRTZW5kPWZhbHNlXSAtIGBUcnVlYCBpZiB0aGUgZ2VuZXJhdGVkIFNlc3Npb25Ub2tlbiBzaG91bGQgYWxzbyBiZSBzZW50IGFzIGEgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtTZXNzaW9uVG9rZW59XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVUb2tlbihwcm90b2NvbDogSklCTy52MS5TZXNzaW9uUmVxdWVzdCwgYW5kU2VuZD1mYWxzZSk6IFNlc3Npb25Ub2tlbiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IFNlc3Npb25Ub2tlbih0aGlzLm93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIGlmIChhbmRTZW5kKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kVG9rZW4odG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIFNlc3Npb25Ub2tlbiByZXF1ZXN0LlxuICAgICAqIDxwPk5PVEU6IEltcGxlbWVudGF0aW9uIGluIGJhc2UgY2xhc3Mge0BsaW5rIFJlcXVlc3RBUEl9PC9wPlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5zZXNzaW9uI3NlbmRUb2tlblxuICAgICAqIEBwYXJhbSB7U2Vzc2lvblRva2VufSB0b2tlbiAtIFNlc3Npb25Ub2tlbiB0byBzZW5kLlxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG59IiwiaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi8uLi8uLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCB7XG4gICAgQXNzZXRzIGFzIEFzc2V0c1JlcXVlc3RlcixcbiAgICBGZXRjaEFzc2V0VG9rZW4sXG4gICAgVW5sb2FkQXNzZXRUb2tlbixcbn0gZnJvbSAnLi9yZXF1ZXN0ZXJzL0Fzc2V0cyc7XG5cbi8qKlxuICogQ29tbWFuZHMgZm9yIHdvcmtpbmcgd2l0aCBleHRlcm5hbCBhc3NldHNcbiAqIEBuYW1lc3BhY2UgQ29tbWFuZFJlcXVlc3Rlci5hc3NldHNcbiAqL1xuZXhwb3J0IGNsYXNzIEFzc2V0cyB7XG5cbiAgICBwcml2YXRlIGFzc2V0c1JlcXVlc3RlcjogQXNzZXRzUmVxdWVzdGVyO1xuXG4gICAgY29uc3RydWN0b3IocmVxdWVzdGVyOkNvbW1hbmRSZXF1ZXN0ZXIpIHtcbiAgICAgICAgdGhpcy5hc3NldHNSZXF1ZXN0ZXIgPSBuZXcgQXNzZXRzUmVxdWVzdGVyKHJlcXVlc3Rlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZCB0byByZXRyaWV2ZSBleHRlcm5hbCBhc3NldCBhbmQgc3RvcmUgaW4gbG9jYWwgY2FjaGUgYnkgbmFtZS5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuYXNzZXRzI2xvYWRcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9ICAgdXJpIFVyaSB3aGVyZSB0aGUgYXNzZXQgdG8gZmV0Y2ggaXMuXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIG5hbWUgTmFtZSB0aGF0IHRoZSBhc3NldCB3aWxsIGJlIGNhbGwgYnkuXG4gICAgICogQHJldHVybnMge0ZldGNoQXNzZXRUb2tlbn1cbiAgICAgKi9cbiAgICBwdWJsaWMgbG9hZCh1cmk6IHN0cmluZywgbmFtZTogc3RyaW5nKTogRmV0Y2hBc3NldFRva2VuIHtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBBc3NldHNSZXF1ZXN0ZXIuZ2VuZXJhdGVMb2FkUHJvdG9jb2wodXJpLCBuYW1lKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXRzUmVxdWVzdGVyLmdlbmVyYXRlVG9rZW4ocHJvdG9jb2wsIHRydWUpIGFzIEZldGNoQXNzZXRUb2tlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kIHRvIHVubG9hZCBhc3NldCBieSBuYW1lLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5hc3NldHMjdW5sb2FkXG4gICAgICogQHBhcmFtICB7c3RyaW5nfSAgIG5hbWUgTmFtZSBvZiBhc3NldCB0byB1bmxvYWQuXG4gICAgICogQHJldHVybiB7VW5sb2FkQXNzZXRUb2tlbn1cbiAgICAgKi9cbiAgICBwdWJsaWMgdW5sb2FkKG5hbWU6IHN0cmluZyk6IFVubG9hZEFzc2V0VG9rZW4ge1xuICAgICAgICBjb25zdCBwcm90b2NvbCA9IEFzc2V0c1JlcXVlc3Rlci5nZW5lcmF0ZVVubG9hZFByb3RvY29sKG5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5hc3NldHNSZXF1ZXN0ZXIuZ2VuZXJhdGVUb2tlbihwcm90b2NvbCwgdHJ1ZSkgYXMgVW5sb2FkQXNzZXRUb2tlbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVxdWVzdFRva2VuIGZyb20gJy4uLy4uLy4uLy4uL3Rva2Vucy9SZXF1ZXN0VG9rZW4nO1xuaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi8uLi8uLi8uLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCBSZXF1ZXN0QVBJIGZyb20gJy4uLy4uLy4uL1JlcXVlc3RBUEknO1xuaW1wb3J0IHtDb21tYW5kVHlwZXMsIEZldGNoQXNzZXRFdmVudHMsIFVubG9hZEFzc2V0RXZlbnRzfSBmcm9tICdAamliby9jb21tYW5kLXByb3RvY29sJztcblxuLyoqXG4gKiBAY2xhc3MgRmV0Y2hBc3NldFRva2VuXG4gKiBAZXh0ZW5kcyBSZXF1ZXN0VG9rZW5cbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIEZldGNoQXNzZXRUb2tlbiBleHRlbmRzIFJlcXVlc3RUb2tlbjxKSUJPLnYxLkZldGNoQXNzZXRSZXF1ZXN0LCBKSUJPLnYxLkZldGNoQXNzZXRFdmVudD4ge1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXI6Q29tbWFuZFJlcXVlc3RlciwgcHJvdG9jb2w6IEpJQk8udjEuRmV0Y2hBc3NldFJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIob3duZXIsIHByb3RvY29sKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVBY2soYWNrOkpJQk8udjEuQWNrbm93bGVkZ2VtZW50KSB7XG4gICAgICAgIC8vaGFuZGxlIGFja1xuICAgICAgICBpZiAoYWNrLlJlc3BvbnNlLlJlc3BvbnNlQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoYWNrLlJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUV2ZW50KGV2ZW50OkpJQk8udjEuRXZlbnRNZXNzYWdlKSB7XG4gICAgICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5FdmVudEJvZHk7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5FdmVudCkge1xuICAgICAgICAgICAgY2FzZSBGZXRjaEFzc2V0RXZlbnRzLkFzc2V0UmVhZHk6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZXNvbHZlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGZXRjaEFzc2V0RXZlbnRzLkFzc2V0RmFpbGVkOlxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBjbGFzcyBVbmxvYWRBc3NldFRva2VuXG4gKiBAZXh0ZW5kcyBSZXF1ZXN0VG9rZW5cbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIFVubG9hZEFzc2V0VG9rZW4gZXh0ZW5kcyBSZXF1ZXN0VG9rZW48SklCTy52MS5VbmxvYWRBc3NldFJlcXVlc3QsIEpJQk8udjEuVW5sb2FkQXNzZXRFdmVudD4ge1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXI6Q29tbWFuZFJlcXVlc3RlciwgcHJvdG9jb2w6IEpJQk8udjEuVW5sb2FkQXNzZXRSZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKG93bmVyLCBwcm90b2NvbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlQWNrKGFjazpKSUJPLnYxLkFja25vd2xlZGdlbWVudCkge1xuICAgICAgICAvL2hhbmRsZSBhY2tcbiAgICAgICAgaWYgKGFjay5SZXNwb25zZS5SZXNwb25zZUNvZGUgPj0gNDAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGFjay5SZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVFdmVudChldmVudDpKSUJPLnYxLkV2ZW50TWVzc2FnZSkge1xuICAgICAgICAvL2hhbmRsZSBldmVudFxuICAgICAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQuRXZlbnRCb2R5O1xuICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UuRXZlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgVW5sb2FkQXNzZXRFdmVudHMuVW5sb2FkQXNzZXREb25lOlxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVzb2x2ZShtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVW5sb2FkQXNzZXRFdmVudHMuVW5sb2FkQXNzZXRGYWlsZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgb25seSBjbGFzcyBmb3IgQXNzZXRzXG4gKiBAY2xhc3MgQ29tbWFuZFJlcXVlc3Rlci5hc3NldHMuQXNzZXRzXG4gKiBAaW50ZG9jc1xuICovXG5leHBvcnQgY2xhc3MgQXNzZXRzIGV4dGVuZHMgUmVxdWVzdEFQSTxKSUJPLnYxLkZldGNoQXNzZXRSZXF1ZXN0IHwgSklCTy52MS5VbmxvYWRBc3NldFJlcXVlc3QsIEZldGNoQXNzZXRUb2tlbiB8IFVubG9hZEFzc2V0VG9rZW4+IHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGxvYWRBc3NldCBQcm90b2NvbFxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5hc3NldHMuQXNzZXRzI2dlbmVyYXRlTG9hZFByb3RvY29sXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVyaSAtIFVSSSBvZiB0aGUgYXNzZXQgdG8gYmUgZmV0Y2hlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWUgZ2l2ZW4gdG8gdGhlIGFzc2V0IGZvciBsYXRlciByZWZlcmVuY2UgKG11c3QgYmUgdW5pcXVlKS5cbiAgICAgKiBAcmV0dXJucyB7RmV0Y2hBc3NldFJlcXVlc3R9XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVMb2FkUHJvdG9jb2wodXJpOiBzdHJpbmcsIG5hbWU6IHN0cmluZyk6IEpJQk8udjEuRmV0Y2hBc3NldFJlcXVlc3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVHlwZTogQ29tbWFuZFR5cGVzLkZldGNoQXNzZXQsXG4gICAgICAgICAgICBVUkk6IHVyaSxcbiAgICAgICAgICAgIE5hbWU6IG5hbWVcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSB1bmxvYWRBc3NldCBQcm90b2NvbFxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5hc3NldHMuQXNzZXRzI2dlbmVyYXRlVW5sb2FkUHJvdG9jb2xcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWUgZ2l2ZW4gdG8gdGhlIGFzc2V0IGZvciBsYXRlciByZWZlcmVuY2UgKG11c3QgYmUgdW5pcXVlKS5cbiAgICAgKiBAcmV0dXJucyB7VW5sb2FkQXNzZXRSZXF1ZXN0fVxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlVW5sb2FkUHJvdG9jb2wobmFtZTogc3RyaW5nKTogSklCTy52MS5VbmxvYWRBc3NldFJlcXVlc3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVHlwZTogQ29tbWFuZFR5cGVzLlVubG9hZEFzc2V0LFxuICAgICAgICAgICAgTmFtZTogbmFtZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5hc3NldHMuQXNzZXRzI2dlbmVyYXRlVG9rZW5cbiAgICAgKiBAZGVzY3JpcHRpb24gQ3JlYXRlIEZldGNoQXNzZXRUb2tlbiBmcm9tIEZldGNoQXNzZXRSZXF1ZXN0IHByb3RvY29sLlxuICAgICAqIEBwYXJhbSB7RmV0Y2hBc3NldFJlcXVlc3QgfCBVbmxvYWRBc3NldFJlcXVlc3R9IHByb3RvY29sIC0gRmV0Y2hBc3NldFJlcXVlc3QgcHJvdG9jb2wgdG8gZ2VuZXJhdGUgYSBGZXRjaEFzc2V0VG9rZW4gZnJvbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbmRTZW5kPWZhbHNlXSAtIGB0cnVlYCBpZiB0aGUgZ2VuZXJhdGVkIEZldGNoQXNzZXRUb2tlbiBzaG91bGQgYWxzbyBiZSBzZW50IGFzIGEgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtGZXRjaEFzc2V0VG9rZW59XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVUb2tlbihwcm90b2NvbDogSklCTy52MS5GZXRjaEFzc2V0UmVxdWVzdCB8IEpJQk8udjEuVW5sb2FkQXNzZXRSZXF1ZXN0LCBhbmRTZW5kPWZhbHNlKTogRmV0Y2hBc3NldFRva2VuIHwgVW5sb2FkQXNzZXRUb2tlbiB7XG4gICAgICAgIGxldCB0b2tlbjogRmV0Y2hBc3NldFRva2VuIHwgVW5sb2FkQXNzZXRUb2tlbjtcbiAgICAgICAgaWYgKHByb3RvY29sLlR5cGUgPT09IENvbW1hbmRUeXBlcy5GZXRjaEFzc2V0KSB7XG4gICAgICAgICAgICB0b2tlbiA9IG5ldyBGZXRjaEFzc2V0VG9rZW4odGhpcy5vd25lciwgcHJvdG9jb2wpO1xuICAgICAgICB9IGVsc2UgaWYgKHByb3RvY29sLlR5cGUgPT09IENvbW1hbmRUeXBlcy5VbmxvYWRBc3NldCkge1xuICAgICAgICAgICAgdG9rZW4gPSBuZXcgVW5sb2FkQXNzZXRUb2tlbih0aGlzLm93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFuZFNlbmQpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRUb2tlbih0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgRmV0Y2hBc3NldFRva2VuIHJlcXVlc3QuXG4gICAgICogPHA+Tk9URTogSW1wbGVtZW50YXRpb24gaW4gYmFzZSBjbGFzcyB7QGxpbmsgUmVxdWVzdEFQSX08L3A+XG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmFzc2V0cy5Bc3NldHMjc2VuZFRva2VuXG4gICAgICogQHBhcmFtIHtGZXRjaEFzc2V0VG9rZW59IHRva2VuIC0gRmV0Y2hBc3NldFRva2VuIHRvIHNlbmQuXG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbn1cbiIsImltcG9ydCB7Q29tbWFuZFJlcXVlc3Rlcn0gZnJvbSAnLi4vLi4vLi4vQ29tbWFuZFJlcXVlc3Rlcic7XG5pbXBvcnQge1xuICAgIENvbmZpZyBhcyBDb25maWdSZXF1ZXN0ZXIsXG4gICAgR2V0Q29uZmlnVG9rZW4sXG4gICAgU2V0Q29uZmlnVG9rZW4sXG59IGZyb20gJy4vcmVxdWVzdGVycy9Db25maWcnO1xuXG4vKipcbiAqIENvbW1hbmRzIGZvciB3b3JraW5nIHdpdGggSmlibydzIHNldHRpbmdzIGFuZCBjb25maWd1cmF0aW9uc1xuICogQG5hbWVzcGFjZSBDb21tYW5kUmVxdWVzdGVyLmNvbmZpZ1xuICovXG5leHBvcnQgY2xhc3MgQ29uZmlnIHtcblxuICAgIHByaXZhdGUgY29uZmlnUmVxdWVzdGVyOiBDb25maWdSZXF1ZXN0ZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0ZXI6Q29tbWFuZFJlcXVlc3Rlcikge1xuICAgICAgICB0aGlzLmNvbmZpZ1JlcXVlc3RlciA9IG5ldyBDb25maWdSZXF1ZXN0ZXIocmVxdWVzdGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcm9ib3QgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5jb25maWcjZ2V0XG4gICAgICogQHJldHVybiB7R2V0Q29uZmlnVG9rZW59XG4gICAgICovXG4gICAgcHVibGljIGdldCgpOiBHZXRDb25maWdUb2tlbiB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gQ29uZmlnUmVxdWVzdGVyLmdlbmVyYXRlUHJvdG9jb2woKSBhcyBKSUJPLnYxLkdldENvbmZpZ1JlcXVlc3Q7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ1JlcXVlc3Rlci5nZW5lcmF0ZVRva2VuKHByb3RvY29sLCB0cnVlKSBhcyBHZXRDb25maWdUb2tlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgcm9ib3QgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5jb25maWcjc2V0XG4gICAgICogQHBhcmFtICB7Q29tbWFuZFJlcXVlc3Rlci5jb25maWcuU2V0Q29uZmlnT3B0aW9uc30gIG9wdGlvbnMgT3B0aW9ucyBmb3Igc2V0dGFibGUgY29uZmlndXJhdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtTZXRDb25maWdUb2tlbn1cbiAgICAgKi9cbiAgICBwdWJsaWMgc2V0KG9wdGlvbnM6IENvbW1hbmRSZXF1ZXN0ZXIuY29uZmlnLlNldENvbmZpZ09wdGlvbnMpOiBTZXRDb25maWdUb2tlbiB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gQ29uZmlnUmVxdWVzdGVyLmdlbmVyYXRlUHJvdG9jb2woe1xuICAgICAgICAgICAgTWl4ZXI6IG9wdGlvbnMubWl4ZXIsXG4gICAgICAgIH0pIGFzIEpJQk8udjEuU2V0Q29uZmlnUmVxdWVzdDtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnUmVxdWVzdGVyLmdlbmVyYXRlVG9rZW4ocHJvdG9jb2wsIHRydWUpIGFzIFNldENvbmZpZ1Rva2VuO1xuICAgIH1cbn0iLCJpbXBvcnQgUmVxdWVzdFRva2VuIGZyb20gJy4uLy4uLy4uLy4uL3Rva2Vucy9SZXF1ZXN0VG9rZW4nO1xuaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi8uLi8uLi8uLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCBSZXF1ZXN0QVBJIGZyb20gJy4uLy4uLy4uL1JlcXVlc3RBUEknO1xuaW1wb3J0IHtDb21tYW5kVHlwZXMsIENvbmZpZ0V2ZW50cywgQXN5bmNDb21tYW5kRXZlbnR9IGZyb20gJ0BqaWJvL2NvbW1hbmQtcHJvdG9jb2wnO1xuXG4vKipcbiAqIEBjbGFzcyBTZXRDb25maWdUb2tlblxuICogQGV4dGVuZHMgUmVxdWVzdFRva2VuXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXRDb25maWdUb2tlbiBleHRlbmRzIFJlcXVlc3RUb2tlbjxKSUJPLnYxLlNldENvbmZpZ1JlcXVlc3Q+IHtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKG93bmVyOkNvbW1hbmRSZXF1ZXN0ZXIsIHByb3RvY29sOiBKSUJPLnYxLlNldENvbmZpZ1JlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIob3duZXIsIHByb3RvY29sKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVBY2soYWNrOkpJQk8udjEuQWNrbm93bGVkZ2VtZW50KSB7XG4gICAgICAgIC8vaGFuZGxlIGFja1xuICAgICAgICBpZiAoYWNrLlJlc3BvbnNlLlJlc3BvbnNlQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoYWNrLlJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUV2ZW50KGV2ZW50OkpJQk8udjEuRXZlbnRNZXNzYWdlKSB7XG4gICAgICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICAgIHN3aXRjaCAoZXZlbnQuRXZlbnRCb2R5LkV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlIEFzeW5jQ29tbWFuZEV2ZW50LlN0b3A6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFzeW5jQ29tbWFuZEV2ZW50LkVycm9yOlxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGV2ZW50LkV2ZW50Qm9keSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQGNsYXNzIEdldENvbmZpZ1Rva2VuXG4gKiBAZXh0ZW5kcyBSZXF1ZXN0VG9rZW5cbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIEdldENvbmZpZ1Rva2VuIGV4dGVuZHMgUmVxdWVzdFRva2VuPEpJQk8udjEuR2V0Q29uZmlnUmVxdWVzdCwgSklCTy52MS5Db25maWdFdmVudD4ge1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXI6Q29tbWFuZFJlcXVlc3RlciwgcHJvdG9jb2w6IEpJQk8udjEuR2V0Q29uZmlnUmVxdWVzdCkge1xuICAgICAgICBzdXBlcihvd25lciwgcHJvdG9jb2wpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUFjayhhY2s6SklCTy52MS5BY2tub3dsZWRnZW1lbnQpIHtcbiAgICAgICAgLy9oYW5kbGUgYWNrXG4gICAgICAgIGlmIChhY2suUmVzcG9uc2UuUmVzcG9uc2VDb2RlID49IDQwMCkge1xuICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlamVjdChhY2suUmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlRXZlbnQoZXZlbnQ6SklCTy52MS5FdmVudE1lc3NhZ2UpIHtcbiAgICAgICAgLy9oYW5kbGUgZXZlbnRcbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBldmVudC5FdmVudEJvZHk7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5FdmVudCkge1xuICAgICAgICAgICAgY2FzZSBDb25maWdFdmVudHMub25Db25maWc6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZXNvbHZlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIG9ubHkgQ29uZmlnIGNsYXNzXG4gKiBAY2xhc3MgQ29tbWFuZFJlcXVlc3Rlci5jb25maWcuQ29uZmlnXG4gKiBAaW50ZG9jc1xuICovXG5leHBvcnQgY2xhc3MgQ29uZmlnIGV4dGVuZHMgUmVxdWVzdEFQSTxKSUJPLnYxLkdldENvbmZpZ1JlcXVlc3QgfCBKSUJPLnYxLlNldENvbmZpZ1JlcXVlc3QsIEdldENvbmZpZ1Rva2VuIHwgU2V0Q29uZmlnVG9rZW4+IHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIEdldCBDb25maWcgUHJvdG9jb2xcbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuY29uZmlnLkNvbmZpZyNnZW5lcmF0ZVByb3RvY29sXG4gICAgICogQHJldHVybnMge1NldENvbmZpZ1JlcXVlc3QgfCBHZXRDb25maWdSZXF1ZXN0fVxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlUHJvdG9jb2wob3B0aW9ucz86IEpJQk8udjEuU2V0Q29uZmlnT3B0aW9ucyk6IEpJQk8udjEuR2V0Q29uZmlnUmVxdWVzdCB8IEpJQk8udjEuU2V0Q29uZmlnUmVxdWVzdCB7XG4gICAgICAgIGlmKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgVHlwZTogQ29tbWFuZFR5cGVzLlNldENvbmZpZyxcbiAgICAgICAgICAgICAgICBPcHRpb25zOiBvcHRpb25zXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBUeXBlOiBDb21tYW5kVHlwZXMuR2V0Q29uZmlnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIENvbmZpZ1Rva2VuIGZyb20gQ29uZmlnUmVxdWVzdCBwcm90b2NvbC5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuY29uZmlnLkNvbmZpZyNnZW5lcmF0ZVRva2VuXG4gICAgICogQHBhcmFtIHtHZXRDb25maWdSZXF1ZXN0IHwgU2V0Q29uZmlnUmVxdWVzdH0gcHJvdG9jb2wgLSBDb25maWdSZXF1ZXN0IHByb3RvY29sIHRvIGdlbmVyYXRlIGEgQ29uZmlnVG9rZW4gZnJvbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbmRTZW5kPWZhbHNlXSAtIGB0cnVlYCBpZiB0aGUgZ2VuZXJhdGVkIENvbmZpZ1Rva2VuIHNob3VsZCBhbHNvIGJlIHNlbnQgYXMgYSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm4ge0dldENvbmZpZ1Rva2VuIHwgU2V0Q29uZmlnUmVxdWVzdH1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVRva2VuKHByb3RvY29sOiBKSUJPLnYxLkdldENvbmZpZ1JlcXVlc3QgfCBKSUJPLnYxLlNldENvbmZpZ1JlcXVlc3QsIGFuZFNlbmQ9ZmFsc2UpOiBHZXRDb25maWdUb2tlbiB8IFNldENvbmZpZ1Rva2VuIHtcbiAgICAgICAgbGV0IHRva2VuOiBHZXRDb25maWdUb2tlbiB8IFNldENvbmZpZ1Rva2VuO1xuICAgICAgICBpZihwcm90b2NvbC5UeXBlID09PSBDb21tYW5kVHlwZXMuR2V0Q29uZmlnKSB7XG4gICAgICAgICAgICB0b2tlbiA9IG5ldyBHZXRDb25maWdUb2tlbih0aGlzLm93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIH0gZWxzZSBpZihwcm90b2NvbC5UeXBlID09PSBDb21tYW5kVHlwZXMuU2V0Q29uZmlnKSB7XG4gICAgICAgICAgICB0b2tlbiA9IG5ldyBTZXRDb25maWdUb2tlbih0aGlzLm93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5kU2VuZCkge1xuICAgICAgICAgICAgc3VwZXIuc2VuZFRva2VuKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBDb25maWdUb2tlbiByZXF1ZXN0LlxuICAgICAqIDxwPk5PVEU6IEltcGxlbWVudGF0aW9uIGluIGJhc2UgY2xhc3Mge0BsaW5rIFJlcXVlc3RBUEl9PC9wPlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5jb25maWcuQ29uZmlnI3NlbmRUb2tlblxuICAgICAqIEBwYXJhbSB7R2V0Q29uZmlnVG9rZW4gfCBTZXRDb25maWdUb2tlbn0gdG9rZW4gLSBDb25maWdUb2tlbiB0byBzZW5kLlxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgcHVibGljIHNlbmRUb2tlbih0b2tlbjogR2V0Q29uZmlnVG9rZW4gfCBTZXRDb25maWdUb2tlbik6IHZvaWQge1xuICAgICAgICB0aGlzLm93bmVyLnNlbmRUb2tlbih0b2tlbik7XG4gICAgfVxufSIsImltcG9ydCB7Q29tbWFuZFJlcXVlc3Rlcn0gZnJvbSAnLi4vLi4vLi4vQ29tbWFuZFJlcXVlc3Rlcic7XG5pbXBvcnQge0Rpc3BsYXlWaWV3VHlwZX0gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5pbXBvcnQge0Rpc3BsYXkgYXMgRGlzcGxheVJlcXVlc3RlciwgRGlzcGxheVRva2VufSBmcm9tICcuL3JlcXVlc3RlcnMvRGlzcGxheSc7XG5pbXBvcnQge0dlc3R1cmUsIFNjcmVlbkdlc3R1cmVUb2tlbn0gZnJvbSAnLi9yZXF1ZXN0ZXJzL0dlc3R1cmUnO1xuXG4vKipcbiAqIENvbW1hbmRzIGZvciB3b3JraW5nIHdpdGggSmlibydzIHNjcmVlblxuICogQG5hbWVzcGFjZSBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXlcbiAqL1xuZXhwb3J0IGNsYXNzIERpc3BsYXkge1xuICAgIFxuICAgIHByaXZhdGUgZGlzcGxheVJlcXVlc3Q6IERpc3BsYXlSZXF1ZXN0ZXI7XG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kcyBmb3Igc3Vic2NyaWJpbmcgdG8gc2NyZWVuLXJlbGF0ZWQgZXZlbnRzXG4gICAgICogQG5hbWVzcGFjZSBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkuc3Vic2NyaWJlXG4gICAgICovXG4gICAgcHVibGljIHN1YnNjcmliZTogU3Vic2NyaXB0aW9ucztcblxuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3RlcjpDb21tYW5kUmVxdWVzdGVyKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheVJlcXVlc3QgPSBuZXcgRGlzcGxheVJlcXVlc3RlcihyZXF1ZXN0ZXIpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZSA9IG5ldyBTdWJzY3JpcHRpb25zKHJlcXVlc3Rlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdmlldyB0aGF0IGRpc3BsYXlzIEppYm8ncyBleWUgb24gc2NyZWVuXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkjRXllVmlld1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFVuaXF1ZSBuYW1lIGZvciB0aGUgRXllVmlld1xuICAgICAqL1xuICAgIHB1YmxpYyBFeWVWaWV3KG5hbWU6IHN0cmluZyk6SklCTy52MS5FeWVWaWV3IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFR5cGU6IERpc3BsYXlWaWV3VHlwZS5FeWUsXG4gICAgICAgICAgICBOYW1lOiBuYW1lXG4gICAgICAgIH0gYXMgSklCTy52MS5FeWVWaWV3O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZpZXcgdG8gZGlzcGxheSBhbiBpbWFnZSBvbiBKaWJvJ3Mgc2NyZWVuXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkjSW1hZ2VWaWV3XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVW5pcXVlIG5hbWUgZm9yIHRoZSBJbWFnZVZpZXdcbiAgICAgKiBAcGFyYW0ge0NvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheS5JbWFnZURhdGF9IGRhdGEgSW1hZ2VEYXRhIGZvciB0aGUgaW1hZ2UgdG8gYmUgY3JlYXRlZCBpbiB0aGUgdmlld1xuICAgICAqL1xuICAgIHB1YmxpYyBJbWFnZVZpZXcobmFtZTogc3RyaW5nLCBkYXRhOiBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkuSW1hZ2VEYXRhKTpKSUJPLnYxLkltYWdlVmlldyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBUeXBlOiBEaXNwbGF5Vmlld1R5cGUuSW1hZ2UsXG4gICAgICAgICAgICBOYW1lOiBuYW1lLFxuICAgICAgICAgICAgSW1hZ2U6IGRhdGFcbiAgICAgICAgfSBhcyBKSUJPLnYxLkltYWdlVmlldztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB2aWV3IHRvIGRpc3BsYXkgdGV4dCBvbiBKaWJvJ3Mgc2NyZWVuXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkjVGV4dFZpZXdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBVbmlxdWUgbmFtZSBmb3IgdGhlIFRleHRWaWV3XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRleHQgVGV4dCB0byBiZSBkaXNwbGF5ZWRcbiAgICAgKi9cbiAgICBwdWJsaWMgVGV4dFZpZXcobmFtZTogc3RyaW5nLCB0ZXh0OiBzdHJpbmcpOiBKSUJPLnYxLlRleHRWaWV3IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFR5cGU6IERpc3BsYXlWaWV3VHlwZS5UZXh0LFxuICAgICAgICAgICAgTmFtZTogbmFtZSxcbiAgICAgICAgICAgIFRleHQ6IHRleHRcbiAgICAgICAgfSBhcyBKSUJPLnYxLlRleHRWaWV3O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBlbXB0eSB2aWV3IG9uIEppYm8ncyBzY3JlZW5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheSNFbXB0eVZpZXdcbiAgICAgKiBAcGFyYW0gIHtzdHJpbmd9IG5hbWUgVW5pcXVlIG5hbWUgb2Ygdmlldy5cbiAgICAgKi9cbiAgICBwdWJsaWMgRW1wdHlWaWV3KG5hbWU6c3RyaW5nKTpKSUJPLnYxLkVtcHR5VmlldyB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBUeXBlOiBEaXNwbGF5Vmlld1R5cGUuRW1wdHksXG4gICAgICAgICAgICBOYW1lOiBuYW1lLFxuICAgICAgICB9IGFzIEpJQk8udjEuRW1wdHlWaWV3O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcGxhY2UgdGhlIGV4aXN0aW5nIHZpZXcgd2l0aCB0aGUgb25lIGdpdmVuLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5I3N3YXBcbiAgICAgKiBAcGFyYW0gIHtDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkjRXllVmlldyB8IENvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheSNUZXh0VmlldyB8IENvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheSNJbWFnZVZpZXd9IHZpZXcgXG4gICAgICogVmlldyB0byByZXBsYWNlIHRoZSBleGlzdGluZyBvbmUgd2l0aC5cbiAgICAgKiBAcmV0dXJuIHtEaXNwbGF5VG9rZW59XG4gICAgICovXG4gICAgcHVibGljIHN3YXAoXG4gICAgICAgIHZpZXc6IEpJQk8udjEuRXllVmlldyB8IEpJQk8udjEuVGV4dFZpZXcgfCBKSUJPLnYxLkltYWdlVmlldyxcbiAgICAgICAgb3BlblRyYW5zaXRpb24/OiBKSUJPLnYxLkRpc3BsYXlUcmFuc2l0aW9ucy5EaXNwbGF5VHJhbnNpdGlvblR5cGUsXG4gICAgICAgIGNsb3NlVHJhbnNpdGlvbj86IEpJQk8udjEuRGlzcGxheVRyYW5zaXRpb25zLkRpc3BsYXlUcmFuc2l0aW9uVHlwZVxuICAgICk6IERpc3BsYXlUb2tlbiB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gRGlzcGxheVJlcXVlc3Rlci5nZW5lcmF0ZVByb3RvY29sKHZpZXcsIG9wZW5UcmFuc2l0aW9uLCBjbG9zZVRyYW5zaXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5UmVxdWVzdC5nZW5lcmF0ZVRva2VuKHByb3RvY29sLCB0cnVlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBTdWJzY3JpcHRpb25zIHtcblxuICAgIHByaXZhdGUgZ2VzdHVyZVJlcXVlc3Q6R2VzdHVyZTtcblxuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3RlcjogQ29tbWFuZFJlcXVlc3Rlcikge1xuICAgICAgICB0aGlzLmdlc3R1cmVSZXF1ZXN0ID0gbmV3IEdlc3R1cmUocmVxdWVzdGVyKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogTGlzdGVuIGZvciBzY3JlZW4gdG91Y2ggaW5wdXRcbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheS5zdWJzY3JpYmUjZ2VzdHVyZVxuICAgICAqIEBwYXJhbSAge0NvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheS5TY3JlZW5HZXN0dXJlRmlsdGVyfSBbZmlsdGVyPXt9XSBEYXRhIGZvciBzY3JlZW4gdG91Y2ggaW5mb1xuICAgICAqIEByZXR1cm4ge1NjcmVlbkdlc3R1cmVUb2tlbn1cbiAgICAgKi9cbiAgICBnZXN0dXJlKGZpbHRlcjogQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5LlNjcmVlbkdlc3R1cmVGaWx0ZXIgPSB7fSk6IFNjcmVlbkdlc3R1cmVUb2tlbiB7XG4gICAgICAgIGNvbnN0IGZpbHRlclR5cGUgPSBmaWx0ZXJcbiAgICAgICAgICAgID8gQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5LlNjcmVlbkdlc3R1cmVUeXBlW2ZpbHRlci50eXBlXVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gR2VzdHVyZS5nZW5lcmF0ZVByb3RvY29sKHtcbiAgICAgICAgICAgIEFyZWE6IGZpbHRlci5hcmVhLFxuICAgICAgICAgICAgVHlwZTogZmlsdGVyVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLmdlc3R1cmVSZXF1ZXN0LmdlbmVyYXRlVG9rZW4ocHJvdG9jb2wsIHRydWUpO1xuICAgIH1cbn0iLCJpbXBvcnQgUmVxdWVzdFRva2VuIGZyb20gJy4uLy4uLy4uLy4uL3Rva2Vucy9SZXF1ZXN0VG9rZW4nO1xuaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi8uLi8uLi8uLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCBSZXF1ZXN0QVBJIGZyb20gJy4uLy4uLy4uL1JlcXVlc3RBUEknO1xuaW1wb3J0IHtFdmVudH0gZnJvbSAnLi4vLi4vLi4vLi4vZXZlbnRzL0V2ZW50JztcbmltcG9ydCB7QXN5bmNDb21tYW5kRXZlbnQsIFZpZXdTdGF0ZXMsIERpc3BsYXlFdmVudHMsIENvbW1hbmRUeXBlc30gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5cblxuLyoqXG4gKiBAY2xhc3MgRGlzcGxheVRva2VuXG4gKiBAZXh0ZW5kcyBSZXF1ZXN0VG9rZW5cbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIERpc3BsYXlUb2tlbiBleHRlbmRzIFJlcXVlc3RUb2tlbjxKSUJPLnYxLkRpc3BsYXlSZXF1ZXN0PiB7XG4gICAgLyoqXG4gICAgICogRW1pdHRlZCB3aGVuIGEgZGlzcGxheSB2aWV3IGlzIG9wZW5lZC5cbiAgICAgKiBAbmFtZSBEaXNwbGF5VG9rZW4jb3BlbmVkXG4gICAgICogQHR5cGUge0V2ZW50fVxuICAgICAqL1xuICAgIHB1YmxpYyBvcGVuZWQ6RXZlbnQ8dm9pZD47XG5cblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKG93bmVyOiBDb21tYW5kUmVxdWVzdGVyLCBwcm90b2NvbDogSklCTy52MS5EaXNwbGF5UmVxdWVzdCkge1xuICAgICAgICBzdXBlcihvd25lciwgcHJvdG9jb2wpO1xuICAgICAgICB0aGlzLm9wZW5lZCA9IG5ldyBFdmVudCgnT3BlbmVkJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlQWNrKGFjazpKSUJPLnYxLkFja25vd2xlZGdlbWVudCkge1xuICAgICAgICAvL2hhbmRsZSBhY2tcbiAgICAgICAgaWYgKGFjay5SZXNwb25zZS5SZXNwb25zZUNvZGUgPj0gNDAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGFjay5SZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVFdmVudChldmVudDpKSUJPLnYxLkV2ZW50TWVzc2FnZSkge1xuICAgICAgICAvL2hhbmRsZSBldmVudFxuICAgICAgICBjb25zdCBldmVudERhdGEgPSBldmVudC5FdmVudEJvZHk7XG4gICAgICAgIHN3aXRjaCAoZXZlbnREYXRhLkV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlIEFzeW5jQ29tbWFuZEV2ZW50LlN0b3A6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFzeW5jQ29tbWFuZEV2ZW50LkVycm9yOlxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGV2ZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIERpc3BsYXlFdmVudHMuVmlld1N0YXRlQ2hhbmdlOlxuICAgICAgICAgICAgICAgIHN3aXRjaCAoZXZlbnREYXRhLlN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgVmlld1N0YXRlcy5PcGVuZWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5lZC5lbWl0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgRGlzcGxheSBjbGFzc1xuICogQGNsYXNzIENvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheS5EaXNwbGF5XG4gKiBAaW50ZG9jc1xuICovXG5leHBvcnQgY2xhc3MgRGlzcGxheSBleHRlbmRzIFJlcXVlc3RBUEk8SklCTy52MS5EaXNwbGF5UmVxdWVzdCwgRGlzcGxheVRva2VuPiB7XG4gICAgXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgRGlzcGxheSBQcm90b2NvbFxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5LkRpc3BsYXkjZ2VuZXJhdGVQcm90b2NvbFxuICAgICAqIEBwYXJhbSB7KENvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheSNFeWVWaWV3IHwgQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5I1RleHRWaWV3IHwgQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5I0ltYWdlVmlldyl9IHZpZXcgLSBWaWV3IHRvIHJlcGxhY2UgdGhlIGV4aXN0aW5nIG9uZSB3aXRoLlxuICAgICAqIEBwYXJhbSAge0Rpc3BsYXlUcmFuc2l0aW9uVHlwZX0gW29wZW5UcmFuc2l0aW9uXSBUcmFuc2l0aW9uIHR5cGUgdG8gb3Blbi5cbiAgICAgKiBAcGFyYW0gIHtEaXNwbGF5VHJhbnNpdGlvblR5cGV9IFtjbG9zZVRyYW5zaXRpb25dIFRyYW5zaXRpb24gdHlwZSB0byBjbG9zZS5cbiAgICAgKiBAcmV0dXJucyB7RGlzcGxheVJlcXVlc3R9XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVQcm90b2NvbChcbiAgICAgIHZpZXc6IEpJQk8udjEuRXllVmlldyB8IEpJQk8udjEuVGV4dFZpZXcgfCBKSUJPLnYxLkltYWdlVmlldyxcbiAgICAgIG9wZW5UcmFuc2l0aW9uPzpKSUJPLnYxLkRpc3BsYXlUcmFuc2l0aW9ucy5EaXNwbGF5VHJhbnNpdGlvblR5cGUsXG4gICAgICBjbG9zZVRyYW5zaXRpb24/OkpJQk8udjEuRGlzcGxheVRyYW5zaXRpb25zLkRpc3BsYXlUcmFuc2l0aW9uVHlwZVxuICAgICk6IEpJQk8udjEuRGlzcGxheVJlcXVlc3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVHlwZTogQ29tbWFuZFR5cGVzLkRpc3BsYXksXG4gICAgICAgICAgICBWaWV3OiB2aWV3LFxuICAgICAgICAgICAgT3BlblRyYW5zaXRpb246IG9wZW5UcmFuc2l0aW9uICxcbiAgICAgICAgICAgIENsb3NlVHJhbnNpdGlvbjogY2xvc2VUcmFuc2l0aW9uXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIERpc3BsYXlUb2tlbiBmcm9tIERpc3BsYXlSZXF1ZXN0IHByb3RvY29sLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5LkRpc3BsYXkjZ2VuZXJhdGVUb2tlblxuICAgICAqIEBwYXJhbSB7RGlzcGxheVJlcXVlc3R9IHByb3RvY29sIC0gRGlzcGxheVJlcXVlc3QgcHJvdG9jb2wgdG8gZ2VuZXJhdGUgYSBEaXNwbGF5VG9rZW4gZnJvbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbmRTZW5kPWZhbHNlXSAtIGB0cnVlYCBpZiB0aGUgZ2VuZXJhdGVkIERpc3BsYXlUb2tlbiBzaG91bGQgYWxzbyBiZSBzZW50IGFzIGEgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtEaXNwbGF5VG9rZW59XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVUb2tlbihwcm90b2NvbDogSklCTy52MS5EaXNwbGF5UmVxdWVzdCwgYW5kU2VuZD1mYWxzZSk6IERpc3BsYXlUb2tlbiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IERpc3BsYXlUb2tlbih0aGlzLm93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIGlmIChhbmRTZW5kKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kVG9rZW4odG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIERpc3BsYXlUb2tlbiByZXF1ZXN0LlxuICAgICAqIDxwPk5PVEU6IEltcGxlbWVudGF0aW9uIGluIGJhc2UgY2xhc3Mge0BsaW5rIFJlcXVlc3RBUEl9PC9wPlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5LkRpc3BsYXkjc2VuZFRva2VuXG4gICAgICogQHBhcmFtIHtEaXNwbGF5VG9rZW59IHRva2VuIC0gRGlzcGxheVRva2VuIHRvIHNlbmQuXG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbn0iLCJpbXBvcnQgUmVxdWVzdFRva2VuIGZyb20gJy4uLy4uLy4uLy4uL3Rva2Vucy9SZXF1ZXN0VG9rZW4nO1xuaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi8uLi8uLi8uLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCBSZXF1ZXN0QVBJIGZyb20gJy4uLy4uLy4uL1JlcXVlc3RBUEknO1xuaW1wb3J0IHtFdmVudH0gZnJvbSAnLi4vLi4vLi4vLi4vZXZlbnRzL0V2ZW50JztcbmltcG9ydCB7QXN5bmNDb21tYW5kRXZlbnQsIFNjcmVlbkdlc3R1cmVFdmVudHMsIENvbW1hbmRUeXBlcywgU3RyZWFtVHlwZXN9IGZyb20gJ0BqaWJvL2NvbW1hbmQtcHJvdG9jb2wnO1xuXG5cbi8qKlxuICogQGNsYXNzIFNjcmVlbkdlc3R1cmVUb2tlblxuICogQGV4dGVuZHMgUmVxdWVzdFRva2VuXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBTY3JlZW5HZXN0dXJlVG9rZW4gZXh0ZW5kcyBSZXF1ZXN0VG9rZW48SklCTy52MS5TY3JlZW5HZXN0dXJlUmVxdWVzdD4ge1xuICAgIC8qKlxuICAgICAqIFRhcCBzY3JlZW4gZ2VzdHVyZS4gRXZlbnQgaXMgYHt4OiBudW1iZXIsIHk6IG51bWJlcn1gIG9mIHRhcCBsb2NhdGlvbi5cbiAgICAgKiBAbmFtZSBTY3JlZW5HZXN0dXJlVG9rZW4jdGFwXG4gICAgICogQHR5cGUge0V2ZW50PENvbW1hbmRSZXF1ZXN0ZXIuVmVjdG9yMj59XG4gICAgICovXG4gICAgcHVibGljIHRhcDpFdmVudDxKSUJPLnYxLlZlY3RvcjI+O1xuXG4gICAgLyoqXG4gICAgICogU3dpcGUgc2NyZWVuIGdlc3R1cmUuIFR5cGUgaXMgZGlyZWN0aW9uIG9mIHN3aXBlLlxuICAgICAqIEBuYW1lIFNjcmVlbkdlc3R1cmVUb2tlbiNzd2lwZVxuICAgICAqIEB0eXBlIHtFdmVudDxTd2lwZURpcmVjdGlvbj59XG4gICAgICovXG4gICAgcHVibGljIHN3aXBlOkV2ZW50PEpJQk8udjEuU3dpcGVEaXJlY3Rpb25zLlN3aXBlRGlyZWN0aW9uVHlwZT47XG5cblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKG93bmVyOiBDb21tYW5kUmVxdWVzdGVyLCBwcm90b2NvbDogSklCTy52MS5TY3JlZW5HZXN0dXJlUmVxdWVzdCkge1xuICAgICAgICBzdXBlcihvd25lciwgcHJvdG9jb2wpO1xuICAgICAgICB0aGlzLnRhcCA9IG5ldyBFdmVudChTY3JlZW5HZXN0dXJlRXZlbnRzLlRhcCk7XG4gICAgICAgIHRoaXMuc3dpcGUgPSBuZXcgRXZlbnQoU2NyZWVuR2VzdHVyZUV2ZW50cy5Td2lwZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlQWNrKGFjazpKSUJPLnYxLkFja25vd2xlZGdlbWVudCkge1xuICAgICAgICAvL2hhbmRsZSBhY2tcbiAgICAgICAgaWYgKGFjay5SZXNwb25zZS5SZXNwb25zZUNvZGUgPj0gNDAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGFjay5SZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVFdmVudChldmVudDpKSUJPLnYxLkV2ZW50TWVzc2FnZSkge1xuICAgICAgICAvL2hhbmRsZSBldmVudFxuICAgICAgICBjb25zdCBldmVudERhdGEgPSBldmVudC5FdmVudEJvZHk7XG4gICAgICAgIHN3aXRjaCAoZXZlbnREYXRhLkV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlIEFzeW5jQ29tbWFuZEV2ZW50LlN0b3A6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEFzeW5jQ29tbWFuZEV2ZW50LkVycm9yOlxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGV2ZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjcmVlbkdlc3R1cmVFdmVudHMuVGFwOlxuICAgICAgICAgICAgICAgICB0aGlzLnRhcC5lbWl0KGV2ZW50RGF0YS5Db29yZGluYXRlKTtcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFNjcmVlbkdlc3R1cmVFdmVudHMuU3dpcGU6XG4gICAgICAgICAgICAgICAgIHRoaXMuc3dpcGUuZW1pdChldmVudERhdGEuRGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBHZXN0dXJlIGNsYXNzXG4gKiBAY2xhc3MgQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5LnN1YnNjcmliZS5HZXN0dXJlXG4gKiBAaW50ZG9jc1xuICovXG5leHBvcnQgY2xhc3MgR2VzdHVyZSBleHRlbmRzIFJlcXVlc3RBUEk8SklCTy52MS5TY3JlZW5HZXN0dXJlUmVxdWVzdCwgU2NyZWVuR2VzdHVyZVRva2VuPiB7XG4gICAgcHVibGljIG93bmVyO1xuXG4gICAgY29uc3RydWN0b3IocmVxdWVzdGVyOkNvbW1hbmRSZXF1ZXN0ZXIpIHtcbiAgICAgICAgc3VwZXIocmVxdWVzdGVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBTY3JlZW4gR2VzdHVyZSBQcm90b2NvbFxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5kaXNwbGF5LnN1YnNjcmliZS5HZXN0dXJlI2dlbmVyYXRlUHJvdG9jb2xcbiAgICAgKiBAcGFyYW0ge0NvbW1hbmRSZXF1ZXN0ZXIuZGlzcGxheS5TY3JlZW5HZXN0dXJlRmlsdGVyfSBbZmlsdGVyPXt9XVxuICAgICAqIEByZXR1cm5zIHtTY3JlZW5HZXN0dXJlUmVxdWVzdH1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVByb3RvY29sKGZpbHRlcjogSklCTy52MS5TY3JlZW5HZXN0dXJlRmlsdGVyID0ge30pOiBKSUJPLnYxLlNjcmVlbkdlc3R1cmVSZXF1ZXN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFR5cGU6IENvbW1hbmRUeXBlcy5TdWJzY3JpYmUsXG4gICAgICAgICAgICBTdHJlYW1UeXBlOiBTdHJlYW1UeXBlcy5TY3JlZW5HZXN0dXJlLFxuICAgICAgICAgICAgU3RyZWFtRmlsdGVyOiBmaWx0ZXJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgU2NyZWVuR2VzdHVyZVRva2VuIGZyb20gU2NyZWVuR2VzdHVyZVJlcXVlc3QgcHJvdG9jb2wuXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmRpc3BsYXkuc3Vic2NyaWJlLkdlc3R1cmUjZ2VuZXJhdGVUb2tlblxuICAgICAqIEBwYXJhbSB7U2NyZWVuR2VzdHVyZVJlcXVlc3R9IHByb3RvY29sIC0gU2NyZWVuR2VzdHVyZVJlcXVlc3QgcHJvdG9jb2wgdG8gZ2VuZXJhdGUgYSBTY3JlZW5HZXN0dXJlVG9rZW4gZnJvbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbmRTZW5kPWZhbHNlXSAtIGB0cnVlYCBpZiB0aGUgZ2VuZXJhdGVkIFNjcmVlbkdlc3R1cmVUb2tlbiBzaG91bGQgYWxzbyBiZSBzZW50IGFzIGEgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtTY3JlZW5HZXN0dXJlVG9rZW59XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVUb2tlbihwcm90b2NvbDogSklCTy52MS5TY3JlZW5HZXN0dXJlUmVxdWVzdCwgYW5kU2VuZD1mYWxzZSk6IFNjcmVlbkdlc3R1cmVUb2tlbiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IFNjcmVlbkdlc3R1cmVUb2tlbih0aGlzLm93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIGlmIChhbmRTZW5kKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kVG9rZW4odG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG5cblxufSIsImltcG9ydCB7TG9va1Rva2VuLCBMb29rLCBUYXJnZXRNb2RlfSBmcm9tICcuL3JlcXVlc3RlcnMvTG9vayc7XG5pbXBvcnQge1NheVRva2VuLCBTYXl9IGZyb20gJy4vcmVxdWVzdGVycy9TYXknO1xuaW1wb3J0IHtBdHRlbnRpb25Ub2tlbiwgQXR0ZW50aW9ufSBmcm9tICcuL3JlcXVlc3RlcnMvQXR0ZW50aW9uJztcbmltcG9ydCB7Q29tbWFuZFJlcXVlc3Rlcn0gZnJvbSAnLi4vLi4vLi4vQ29tbWFuZFJlcXVlc3Rlcic7XG5cbi8qKlxuICogQ29tbWFuZHMgZm9yIHdvcmtpbmcgd2l0aCBKaWJvJ3MgdmVyYmFsIGFuZCBwaHlzaWNhbCBtb2RlcyBvZiBleHByZXNzaW9uXG4gKiBAbmFtZXNwYWNlIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvblxuICovXG5leHBvcnQgY2xhc3MgRXhwcmVzc2lvbiB7XG5cbiAgICBhdHRlbnRpb25SZXF1ZXN0OkF0dGVudGlvbjtcbiAgICBsb29rUmVxdWVzdDpMb29rO1xuICAgIHNheVJlcXVlc3Q6U2F5O1xuXG4gICAgY29uc3RydWN0b3IocmVxdWVzdGVyOkNvbW1hbmRSZXF1ZXN0ZXIpIHtcbiAgICAgICAgdGhpcy5hdHRlbnRpb25SZXF1ZXN0ID0gbmV3IEF0dGVudGlvbihyZXF1ZXN0ZXIpO1xuICAgICAgICB0aGlzLmxvb2tSZXF1ZXN0ID0gbmV3IExvb2socmVxdWVzdGVyKTtcbiAgICAgICAgdGhpcy5zYXlSZXF1ZXN0ID0gbmV3IFNheShyZXF1ZXN0ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ha2UgSmlibyB0dXJuIHRvIGxvb2sgYXQgdGhlIHNwZWNpZmllZCB0YXJnZXRcbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbiNsb29rXG4gICAgICogQHBhcmFtICB7Q29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkxvb2tBdFRhcmdldH0gdGFyZ2V0IFRhcmdldCB0byBsb29rIGF0XG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gW3Nob3VsZFRyYWNrXSBDdXJyZW50bHkgdW5zdXBwb3J0ZWRcbiAgICAgKiBAcGFyYW0gIHtib29sZWFufSBbbGV2ZWxIZWFkPXRydWVdIGB0cnVlYCB0byBrZWVwIEppYm8ncyBoZWFkIGxldmVsIHdoaWxlIGhlIG1vdmVzXG4gICAgICogQHJldHVybiB7TG9va1Rva2VufVxuICAgICAqL1xuICAgIGxvb2soXG4gICAgICAgIGxvb2tBdFRhcmdldDogQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkxvb2tBdFRhcmdldCxcbiAgICAgICAgc2hvdWxkVHJhY2s/OiBib29sZWFuLFxuICAgICAgICBsZXZlbEhlYWQ6IGJvb2xlYW4gPSB0cnVlLFxuICAgICk6IExvb2tUb2tlbiB7XG4gICAgICAgIGxldCBwcm90b2NvbDtcblxuICAgICAgICBzd2l0Y2gobG9va0F0VGFyZ2V0LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJBTkdMRVwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IGFuZ2xlOiBbbnVtYmVyLCBudW1iZXJdID0gW2xvb2tBdFRhcmdldC5hbmdsZS50aGV0YSwgbG9va0F0VGFyZ2V0LmFuZ2xlLnBzaV07XG4gICAgICAgICAgICAgICAgcHJvdG9jb2wgPSBMb29rLmdlbmVyYXRlUHJvdG9jb2woVGFyZ2V0TW9kZS5BbmdsZSwgYW5nbGUsIGxldmVsSGVhZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIlBPU0lUSU9OXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgcG9zaXRpb246IFtudW1iZXIsIG51bWJlciwgbnVtYmVyXSA9IFtsb29rQXRUYXJnZXQucG9zaXRpb24ueCwgbG9va0F0VGFyZ2V0LnBvc2l0aW9uLnksIGxvb2tBdFRhcmdldC5wb3NpdGlvbi56XTtcbiAgICAgICAgICAgICAgICBwcm90b2NvbCA9IExvb2suZ2VuZXJhdGVQcm90b2NvbChUYXJnZXRNb2RlLlBvc2l0aW9uLCBwb3NpdGlvbiwgbGV2ZWxIZWFkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiRU5USVRZXCI6XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0OiBudW1iZXIgPSBsb29rQXRUYXJnZXQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIHByb3RvY29sID0gTG9vay5nZW5lcmF0ZVByb3RvY29sKFRhcmdldE1vZGUuRW50aXR5LCB0YXJnZXQsIGxldmVsSGVhZCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkNBTUVSQVwiOlxuICAgICAgICAgICAgICAgIGNvbnN0IGNvb3JkczogW251bWJlciwgbnVtYmVyXSA9IFtsb29rQXRUYXJnZXQuY29vcmRzLngsIGxvb2tBdFRhcmdldC5jb29yZHMueV07XG4gICAgICAgICAgICAgICAgcHJvdG9jb2wgPSBMb29rLmdlbmVyYXRlUHJvdG9jb2woVGFyZ2V0TW9kZS5TY3JlZW5Db29yZHMsIGNvb3JkcywgbGV2ZWxIZWFkLCBzaG91bGRUcmFjayk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5sb29rUmVxdWVzdC5nZW5lcmF0ZVRva2VuKHByb3RvY29sLCB0cnVlKSBhcyBMb29rVG9rZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWFrZSBKaWJvIHNwZWFrLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uI3NheVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFBsYWluIHRleHQgb3IgRW1ib2RpZWQgU3BlZWNoIE1hcmt1cCBMYW5ndWFnZSB0byBzYXkuIFNlZSB7QGxpbmsgaHR0cHM6Ly9hcHAtdG9vbGtpdC5qaWJvLmNvbS9lc21sL30uXG4gICAgICogQHJldHVybiB7U2F5VG9rZW59XG4gICAgICovXG4gICAgcHVibGljIHNheShcbiAgICAgICAgdGV4dDogc3RyaW5nLFxuICAgICAgICBzcGVha09wdGlvbnM/OiBKSUJPLnYxLlNwZWFrT3B0aW9ucyxcbiAgICAgICAgYXV0b1J1bGVDb25maWc/OiBKSUJPLnYxLkF1dG9SdWxlQ29uZmlnLFxuICAgICk6IFNheVRva2VuIHtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBTYXkuZ2VuZXJhdGVQcm90b2NvbCh0ZXh0LCBzcGVha09wdGlvbnMsIGF1dG9SdWxlQ29uZmlnKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F5UmVxdWVzdC5nZW5lcmF0ZVRva2VuKHByb3RvY29sLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgSmlibydzIGF0dGVudGlvbiBtb2RlLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uI3NldEF0dGVudGlvblxuICAgICAqIEBwYXJhbSB7Q29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkF0dGVudGlvbk1vZGV9IG1vZGUgQXR0ZW50aW9uIG1vZGUgdG8gd2hpY2ggdG8gc2V0IHRoZSByb2JvdFxuICAgICAqIEByZXR1cm4ge0F0dGVudGlvblRva2VufVxuICAgICAqL1xuICAgIHB1YmxpYyBzZXRBdHRlbnRpb24oXG4gICAgICAgIG1vZGU6IENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5BdHRlbnRpb25Nb2RlLFxuICAgICk6IEF0dGVudGlvblRva2VuIHtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBBdHRlbnRpb24uZ2VuZXJhdGVQcm90b2NvbChtb2RlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXR0ZW50aW9uUmVxdWVzdC5nZW5lcmF0ZVRva2VuKHByb3RvY29sLCB0cnVlKTtcbiAgICB9XG59IiwiaW1wb3J0IFJlcXVlc3RUb2tlbiBmcm9tICcuLi8uLi8uLi8uLi90b2tlbnMvUmVxdWVzdFRva2VuJztcbmltcG9ydCB7Q29tbWFuZFJlcXVlc3Rlcn0gZnJvbSAnLi4vLi4vLi4vLi4vQ29tbWFuZFJlcXVlc3Rlcic7XG5pbXBvcnQgUmVxdWVzdEFQSSBmcm9tICcuLi8uLi8uLi9SZXF1ZXN0QVBJJztcbmltcG9ydCB7QXN5bmNDb21tYW5kRXZlbnQsIENvbW1hbmRUeXBlc30gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5cbi8qKlxuICogQGNsYXNzIEF0dGVudGlvblRva2VuXG4gKiBAZXh0ZW5kcyBSZXF1ZXN0VG9rZW5cbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIEF0dGVudGlvblRva2VuIGV4dGVuZHMgUmVxdWVzdFRva2VuPEpJQk8udjEuQXR0ZW50aW9uUmVxdWVzdD4ge1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXI6Q29tbWFuZFJlcXVlc3RlciwgcHJvdG9jb2w6IEpJQk8udjEuQXR0ZW50aW9uUmVxdWVzdCkge1xuICAgICAgICBzdXBlcihvd25lciwgcHJvdG9jb2wpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUFjayhhY2s6SklCTy52MS5BY2tub3dsZWRnZW1lbnQpIHtcbiAgICAgICAgLy9oYW5kbGUgYWNrXG4gICAgICAgIGlmIChhY2suUmVzcG9uc2UuUmVzcG9uc2VDb2RlID49IDQwMCkge1xuICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlamVjdChhY2suUmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlRXZlbnQoZXZlbnQ6SklCTy52MS5FdmVudE1lc3NhZ2UpIHtcbiAgICAgICAgLy9oYW5kbGUgZXZlbnRcbiAgICAgICAgc3dpdGNoIChldmVudC5FdmVudEJvZHkuRXZlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgQXN5bmNDb21tYW5kRXZlbnQuU3RvcDpcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXN5bmNDb21tYW5kRXZlbnQuRXJyb3I6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoZXZlbnQuRXZlbnRCb2R5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBBdHRlbnRpb24gY2xhc3NcbiAqIEBjbGFzcyBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uQXR0ZW50aW9uXG4gKiBAaW50ZG9jc1xuICovXG5leHBvcnQgY2xhc3MgQXR0ZW50aW9uIGV4dGVuZHMgUmVxdWVzdEFQSTxKSUJPLnYxLkF0dGVudGlvblJlcXVlc3QsIEF0dGVudGlvblRva2VuPiB7XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBBdHRlbnRpb24gUHJvdG9jb2xcbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5BdHRlbnRpb24jZ2VuZXJhdGVQcm90b2NvbFxuICAgICAqIEBwYXJhbSB7Q29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkF0dGVudGlvbk1vZGV9IG1vZGUgLSBOZXcgYXR0ZW5pb24gbW9kZSBmb3IgdGhlIHJvYm90XG4gICAgICogQHJldHVybnMge0pJQk8udjEuQXR0ZW50aW9uUmVxdWVzdH1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVByb3RvY29sKG1vZGU6IENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5BdHRlbnRpb25Nb2RlKTogSklCTy52MS5BdHRlbnRpb25SZXF1ZXN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFR5cGU6IENvbW1hbmRUeXBlcy5TZXRBdHRlbnRpb24sXG4gICAgICAgICAgICBNb2RlOiBtb2RlLFxuICAgICAgICB9IGFzIEpJQk8udjEuQXR0ZW50aW9uUmVxdWVzdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgQXR0ZW50aW9uVG9rZW4gZnJvbSBBdHRlbnRpb25SZXF1ZXN0IHByb3RvY29sLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkF0dGVudGlvbiNnZW5lcmF0ZVRva2VuXG4gICAgICogQHBhcmFtIHtBdHRlbnRpb25SZXF1ZXN0fSBwcm90b2NvbCAtIEF0dGVudGlvblJlcXVlc3QgcHJvdG9jb2wgdG8gZ2VuZXJhdGUgYW4gQXR0ZW50aW9uVG9rZW4gZnJvbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbmRTZW5kPWZhbHNlXSAtIGB0cnVlYCBpZiB0aGUgZ2VuZXJhdGVkIEF0dGVudGlvblRva2VuIHNob3VsZCBhbHNvIGJlIHNlbnQgYXMgYSByZXF1ZXN0LlxuICAgICAqIEByZXR1cm4ge0F0dGVudGlvblRva2VufVxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlVG9rZW4ocHJvdG9jb2w6IEpJQk8udjEuQXR0ZW50aW9uUmVxdWVzdCwgYW5kU2VuZD1mYWxzZSk6IEF0dGVudGlvblRva2VuIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBuZXcgQXR0ZW50aW9uVG9rZW4odGhpcy5vd25lciwgcHJvdG9jb2wpO1xuICAgICAgICBpZiAoYW5kU2VuZCkge1xuICAgICAgICAgICAgc3VwZXIuc2VuZFRva2VuKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBBdHRlbnRpb25Ub2tlbiByZXF1ZXN0LlxuICAgICAqIDxwPk5PVEU6IEltcGxlbWVudGF0aW9uIGluIGJhc2UgY2xhc3Mge0BsaW5rIFJlcXVlc3RBUEl9PC9wPlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLkF0dGVudGlvbiNzZW5kVG9rZW5cbiAgICAgKiBAcGFyYW0ge0F0dGVudGlvblRva2VufSB0b2tlbiAtIEF0dGVudGlvblRva2VuIHRvIHNlbmQuXG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbn1cbiIsImltcG9ydCBSZXF1ZXN0VG9rZW4gZnJvbSAnLi4vLi4vLi4vLi4vdG9rZW5zL1JlcXVlc3RUb2tlbic7XG5pbXBvcnQge0NvbW1hbmRSZXF1ZXN0ZXJ9IGZyb20gJy4uLy4uLy4uLy4uL0NvbW1hbmRSZXF1ZXN0ZXInO1xuaW1wb3J0IFJlcXVlc3RBUEkgZnJvbSAnLi4vLi4vLi4vUmVxdWVzdEFQSSc7XG5pbXBvcnQge0FzeW5jQ29tbWFuZEV2ZW50LCBDb21tYW5kVHlwZXMsIExvb2tBdEV2ZW50c30gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5cblxuLyoqXG4gKiBUYXJnZXQgb3B0aW9ucyBmb3IgTG9va1xuICogQHR5cGVkZWYgQ29tbWFuZFJlcXVlc3Rlci5leHByZXNzaW9uLlRhcmdldE1vZGVcbiAqIEBwcm9wIFBvc2l0aW9uXG4gKiBAcHJvcCBBbmdsZVxuICogQHByb3AgRW50aXR5XG4gKiBAcHJvcCBTY3JlblxuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGVudW0gVGFyZ2V0TW9kZSB7XG4gICAgUG9zaXRpb24sXG4gICAgQW5nbGUsXG4gICAgRW50aXR5LFxuICAgIFNjcmVlbkNvb3Jkc1xufVxuXG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9va0F0QWNoaWV2ZWRSZXN1bHQge1xuICAgIEFuZ2xlVGFyZ2V0OiBKSUJPLnYxLkFuZ2xlVmVjdG9yO1xuICAgIFBvc2l0aW9uVGFyZ2V0OiBKSUJPLnYxLlZlY3RvcjM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9va0F0VHJhY2tMb3N0UmVzdWx0IHtcbiAgICBFbnRpdHlUYXJnZXQ6IEpJQk8udjEuTG9va0F0RW50aXR5O1xuICAgIEFuZ2xlVGFyZ2V0OiBKSUJPLnYxLkFuZ2xlVmVjdG9yO1xuICAgIFBvc2l0aW9uVGFyZ2V0OiBKSUJPLnYxLlZlY3RvcjM7XG59XG5cblxuLyoqXG4gKiBAY2xhc3MgTG9va1Rva2VuXG4gKiBAZXh0ZW5kcyBSZXF1ZXN0VG9rZW5cbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIExvb2tUb2tlbiBleHRlbmRzIFJlcXVlc3RUb2tlbjxKSUJPLnYxLkxvb2tBdFJlcXVlc3QsIExvb2tBdEFjaGlldmVkUmVzdWx0fExvb2tBdFRyYWNrTG9zdFJlc3VsdD4ge1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXI6IENvbW1hbmRSZXF1ZXN0ZXIsIHByb3RvY29sOiBKSUJPLnYxLkxvb2tBdFJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIob3duZXIsIHByb3RvY29sKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVBY2soYWNrOkpJQk8udjEuQWNrbm93bGVkZ2VtZW50KSB7XG4gICAgICAgIC8vaGFuZGxlIGFja1xuICAgICAgICBpZiAoYWNrLlJlc3BvbnNlLlJlc3BvbnNlQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoYWNrLlJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUV2ZW50KGV2ZW50OkpJQk8udjEuRXZlbnRNZXNzYWdlKSB7XG4gICAgICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICAgIGNvbnN0IGV2ZW50RGF0YSA9IGV2ZW50LkV2ZW50Qm9keTtcbiAgICAgICAgc3dpdGNoIChldmVudERhdGEuRXZlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgQXN5bmNDb21tYW5kRXZlbnQuU3RvcDpcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXN5bmNDb21tYW5kRXZlbnQuRXJyb3I6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoZXZlbnREYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgTG9va0F0RXZlbnRzLkxvb2tBdEFjaGlldmVkOlxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVzb2x2ZShldmVudERhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMb29rQXRFdmVudHMuVHJhY2tFbnRpdHlMb3N0OlxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVzb2x2ZShldmVudERhdGEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIExvb2sgY2xhc3NcbiAqIEBjbGFzcyBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uTG9va1xuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGNsYXNzIExvb2sgZXh0ZW5kcyBSZXF1ZXN0QVBJPEpJQk8udjEuTG9va0F0UmVxdWVzdCwgTG9va1Rva2VuPiB7XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBMb29rIFByb3RvY29sXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uTG9vayNnZW5lcmF0ZVByb3RvY29sXG4gICAgICogQHBhcmFtIHtDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uVGFyZ2V0TW9kZX0gdGFyZ2V0TW9kZSAtIEhvdyB3ZSBhcmUgdGFyZ2V0dGluZyBvdXIgdGFyZ2V0IChkZXBlbmRzIG9uIHRoZSB0YXJnZXQgdHlwZSlcbiAgICAgKiBAcGFyYW0geyhDb21tYW5kUmVxdWVzdGVyLlZlY3RvcjJ8Q29tbWFuZFJlcXVlc3Rlci5WZWN0b3IzfENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5Mb29rQXRFbnRpdHkpfSB0YXJnZXQgLSBXaGF0IHdlJ3JlIGxvb2tpbmcgYXQgKEVudGl0eSwgQW5nbGUgb3IgUG9pbnQgaW4gc3BhY2UpXG4gICAgICogQHBhcmFtIHtib29sZWFufSBsZXZlbEhlYWQgLSBgdHJ1ZWAgdG8ga2VlcCBKaWJvJ3MgaGVhZCBsZXZlbCB3aGlsZSBoZSBtb3Zlcy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG91bGRUcmFjaz1mYWxzZV0gLSBJZiB3ZSBzaG91bGQgdHJhY2sgdGhlIHRhcmdldCBlbnRpdHkgKEVudGl0eS1Nb2RlIG9ubHkpXG4gICAgICogQHJldHVybnMge0xvb2tBdFJlcXVlc3R9XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVQcm90b2NvbChcbiAgICAgICAgdGFyZ2V0TW9kZTogVGFyZ2V0TW9kZSxcbiAgICAgICAgdGFyZ2V0OiBKSUJPLnYxLlZlY3RvcjIgfCBKSUJPLnYxLlZlY3RvcjMgfCBKSUJPLnYxLkxvb2tBdEVudGl0eSB8IEpJQk8udjEuQW5nbGVWZWN0b3IsXG4gICAgICAgIGxldmVsSGVhZDogYm9vbGVhbixcbiAgICAgICAgc2hvdWxkVHJhY2sgPSBmYWxzZSk6IEpJQk8udjEuTG9va0F0UmVxdWVzdCB7XG4gICAgICAgIGxldCBsb29rQXRUYXJnZXQ6SklCTy52MS5Mb29rQXRUYXJnZXQ7XG4gICAgICAgIHN3aXRjaCAodGFyZ2V0TW9kZSkge1xuICAgICAgICAgICAgY2FzZSBUYXJnZXRNb2RlLlBvc2l0aW9uOlxuICAgICAgICAgICAgICAgIGxvb2tBdFRhcmdldCA9IHsgUG9zaXRpb246IHRhcmdldCBhcyBKSUJPLnYxLlZlY3RvcjMsIHR5cGU6IFwiUE9TSVRJT05cIiB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUYXJnZXRNb2RlLkFuZ2xlOlxuICAgICAgICAgICAgICAgIGxvb2tBdFRhcmdldCA9IHsgQW5nbGU6IHRhcmdldCBhcyBKSUJPLnYxLkFuZ2xlVmVjdG9yLCB0eXBlOiBcIkFOR0xFXCIgfTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGFyZ2V0TW9kZS5FbnRpdHk6XG4gICAgICAgICAgICAgICAgbG9va0F0VGFyZ2V0ID0geyBFbnRpdHk6IHRhcmdldCBhcyBKSUJPLnYxLkxvb2tBdEVudGl0eSwgdHlwZTogXCJFTlRJVFlcIiB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUYXJnZXRNb2RlLlNjcmVlbkNvb3JkczpcbiAgICAgICAgICAgICAgICBsb29rQXRUYXJnZXQgPSB7IFNjcmVlbkNvb3JkczogdGFyZ2V0IGFzIEpJQk8udjEuVmVjdG9yMiwgdHlwZTogXCJDQU1FUkFcIiB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBUeXBlOiBDb21tYW5kVHlwZXMuTG9va0F0LFxuICAgICAgICAgICAgTG9va0F0VGFyZ2V0OiBsb29rQXRUYXJnZXQsXG4gICAgICAgICAgICBUcmFja0ZsYWc6IHNob3VsZFRyYWNrLFxuICAgICAgICAgICAgTGV2ZWxIZWFkRmxhZzogbGV2ZWxIZWFkXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIExvb2tUb2tlbiBmcm9tIExvb2tBdFJlcXVlc3QgcHJvdG9jb2wuXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uTG9vayNnZW5lcmF0ZVRva2VuXG4gICAgICogQHBhcmFtIHtMb29rQXRSZXF1ZXN0fSBwcm90b2NvbCAtIExvb2tBdFJlcXVlc3QgcHJvdG9jb2wgdG8gZ2VuZXJhdGUgYSBMb29rVG9rZW4gZnJvbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbmRTZW5kPWZhbHNlXSAtIGB0cnVlYCBpZiB0aGUgZ2VuZXJhdGVkIExvb2tUb2tlbiBzaG91bGQgYWxzbyBiZSBzZW50IGFzIGEgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtMb29rVG9rZW59XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVUb2tlbihwcm90b2NvbDogSklCTy52MS5Mb29rQXRSZXF1ZXN0LCBhbmRTZW5kPWZhbHNlKTogTG9va1Rva2VuIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBuZXcgTG9va1Rva2VuKHRoaXMub3duZXIsIHByb3RvY29sKTtcblxuICAgICAgICBpZiAoYW5kU2VuZCkge1xuICAgICAgICAgICAgc3VwZXIuc2VuZFRva2VuKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBMb29rVG9rZW4gcmVxdWVzdC5cbiAgICAgKiA8cD5OT1RFOiBJbXBsZW1lbnRhdGlvbiBpbiBiYXNlIGNsYXNzIHtAbGluayBSZXF1ZXN0QVBJfTwvcD5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5Mb29rI3NlbmRUb2tlblxuICAgICAqIEBwYXJhbSB7TG9va1Rva2VufSB0b2tlbiAtIExvb2tUb2tlbiB0byBzZW5kLlxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG59IiwiaW1wb3J0IFJlcXVlc3RUb2tlbiBmcm9tICcuLi8uLi8uLi8uLi90b2tlbnMvUmVxdWVzdFRva2VuJztcbmltcG9ydCB7Q29tbWFuZFJlcXVlc3Rlcn0gZnJvbSAnLi4vLi4vLi4vLi4vQ29tbWFuZFJlcXVlc3Rlcic7XG5pbXBvcnQgUmVxdWVzdEFQSSBmcm9tICcuLi8uLi8uLi9SZXF1ZXN0QVBJJztcbmltcG9ydCB7QXN5bmNDb21tYW5kRXZlbnQsIENvbW1hbmRUeXBlc30gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5cbi8qKlxuICogQGNsYXNzIFNheVRva2VuXG4gKiBAZXh0ZW5kcyBSZXF1ZXN0VG9rZW5cbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIFNheVRva2VuIGV4dGVuZHMgUmVxdWVzdFRva2VuPEpJQk8udjEuU2F5UmVxdWVzdD4ge1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXI6Q29tbWFuZFJlcXVlc3RlciwgcHJvdG9jb2w6IEpJQk8udjEuU2F5UmVxdWVzdCkge1xuICAgICAgICBzdXBlcihvd25lciwgcHJvdG9jb2wpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUFjayhhY2s6SklCTy52MS5BY2tub3dsZWRnZW1lbnQpIHtcbiAgICAgICAgLy9oYW5kbGUgYWNrXG4gICAgICAgIGlmIChhY2suUmVzcG9uc2UuUmVzcG9uc2VDb2RlID49IDQwMCkge1xuICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlamVjdChhY2suUmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlRXZlbnQoZXZlbnQ6SklCTy52MS5FdmVudE1lc3NhZ2UpIHtcbiAgICAgICAgLy9oYW5kbGUgZXZlbnRcbiAgICAgICAgc3dpdGNoIChldmVudC5FdmVudEJvZHkuRXZlbnQpIHtcbiAgICAgICAgICAgIGNhc2UgQXN5bmNDb21tYW5kRXZlbnQuU3RvcDpcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQXN5bmNDb21tYW5kRXZlbnQuRXJyb3I6XG4gICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoZXZlbnQuRXZlbnRCb2R5KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBTYXkgY2xhc3NcbiAqIEBjbGFzcyBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uU2F5XG4gKiBAaW50ZG9jc1xuICovXG5leHBvcnQgY2xhc3MgU2F5IGV4dGVuZHMgUmVxdWVzdEFQSTxKSUJPLnYxLlNheVJlcXVlc3QsIFNheVRva2VuPiB7XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBTYXkgUHJvdG9jb2xcbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5TYXkjZ2VuZXJhdGVQcm90b2NvbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlc21sX3VyaSAtIEVTTUwgdG8gc3BlYWsgb3IgVVJJIG9mIHNvdW5kIHRvIHNheVxuICAgICAqIEBwYXJhbSB7SklCTy52MS5TcGVha09wdGlvbnN9IFtzcGVha09wdGlvbnNdIE9wdGlvbnMgdG8gY29uZmlndXJlICwgY2FuIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBFU01MIHN0cmluZ3MuXG4gICAgICogQHBhcmFtIHtKSUJPLnYxLkF1dG9SdWxlQ29uZmlnfSBbYXV0b1J1bGVDb25maWddIENvbmZpZ3VyYXRpb24gZm9yIEF1dG9SdWxlcyAsIGNhbiBiZSB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggRVNNTCBzdHJpbmdzLlxuICAgICAqIEByZXR1cm5zIHtTYXlSZXF1ZXN0fVxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlUHJvdG9jb2woZXNtbFVyaTogc3RyaW5nLCBzcGVha09wdGlvbnM/OkpJQk8udjEuU3BlYWtPcHRpb25zLCBhdXRvUnVsZUNvbmZpZz86SklCTy52MS5BdXRvUnVsZUNvbmZpZyApOiBKSUJPLnYxLlNheVJlcXVlc3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVHlwZTogQ29tbWFuZFR5cGVzLlNheSxcbiAgICAgICAgICAgIEVTTUw6IGVzbWxVcmksXG4gICAgICAgICAgICBTcGVha09wdGlvbnM6IHNwZWFrT3B0aW9ucyxcbiAgICAgICAgICAgIEF1dG9SdWxlQ29uZmlnOiBhdXRvUnVsZUNvbmZpZ1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBTYXlUb2tlbiBmcm9tIFNheVJlcXVlc3QgcHJvdG9jb2wuXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmV4cHJlc3Npb24uU2F5I2dlbmVyYXRlVG9rZW5cbiAgICAgKiBAcGFyYW0ge1NheVJlcXVlc3R9IHByb3RvY29sIC0gU2F5UmVxdWVzdCBwcm90b2NvbCB0byBnZW5lcmF0ZSBhIFNheVRva2VuIGZyb20uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW5kU2VuZD1mYWxzZV0gLSBgdHJ1ZWAgaWYgdGhlIGdlbmVyYXRlZCBTYXlUb2tlbiBzaG91bGQgYWxzbyBiZSBzZW50IGFzIGEgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtTYXlUb2tlbn1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVRva2VuKHByb3RvY29sOiBKSUJPLnYxLlNheVJlcXVlc3QsIGFuZFNlbmQ9ZmFsc2UpOiBTYXlUb2tlbiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IFNheVRva2VuKHRoaXMub3duZXIsIHByb3RvY29sKTtcbiAgICAgICAgaWYgKGFuZFNlbmQpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRUb2tlbih0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgU2F5VG9rZW4gcmVxdWVzdC5cbiAgICAgKiA8cD5OT1RFOiBJbXBsZW1lbnRhdGlvbiBpbiBiYXNlIGNsYXNzIHtAbGluayBSZXF1ZXN0QVBJfTwvcD5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIuZXhwcmVzc2lvbi5TYXkjc2VuZFRva2VuXG4gICAgICogQHBhcmFtIHtTYXlUb2tlbn0gdG9rZW4gLSBTYXlUb2tlbiB0byBzZW5kLlxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG59XG4iLCJpbXBvcnQgKiBhcyBhc3NldHMgZnJvbSAnLi9hc3NldHMvQXNzZXRzJztcbmltcG9ydCAqIGFzIGNvbmZpZyBmcm9tICcuL2NvbmZpZy9Db25maWcnO1xuaW1wb3J0ICogYXMgZGlzcGxheSBmcm9tICcuL2Rpc3BsYXkvRGlzcGxheSc7XG5pbXBvcnQgKiBhcyBleHByZXNzaW9uIGZyb20gJy4vZXhwcmVzc2lvbi9FeHByZXNzaW9uJztcbmltcG9ydCAqIGFzIGxpc3RlbiBmcm9tICcuL2xpc3Rlbi9MaXN0ZW4nO1xuaW1wb3J0ICogYXMgbWVkaWEgZnJvbSAnLi9tZWRpYS9NZWRpYSc7XG5pbXBvcnQgKiBhcyBzZXNzaW9uIGZyb20gJy4vU2Vzc2lvbic7XG5pbXBvcnQgKiBhcyBwZXJjZXB0aW9uIGZyb20gJy4vcGVyY2VwdGlvbi9QZXJjZXB0aW9uJztcblxuZXhwb3J0IHtcbiAgICBhc3NldHMsXG4gICAgY29uZmlnLFxuICAgIGRpc3BsYXksXG4gICAgZXhwcmVzc2lvbixcbiAgICBsaXN0ZW4sXG4gICAgbWVkaWEsXG4gICAgcGVyY2VwdGlvbixcbiAgICBzZXNzaW9uLFxufTtcbiIsImltcG9ydCB7Q29tbWFuZFJlcXVlc3Rlcn0gZnJvbSAnLi4vLi4vLi4vQ29tbWFuZFJlcXVlc3Rlcic7XG5pbXBvcnQge0xpc3RlbiBhcyBMaXN0ZW5SZXF1ZXN0ZXIsIExpc3RlblRva2VufSBmcm9tICcuL3JlcXVlc3RlcnMvTGlzdGVuJztcbmltcG9ydCB7SG90V29yZCwgSG90V29yZHMsIEhvdFdvcmRUb2tlbn0gZnJvbSAnLi9yZXF1ZXN0ZXJzL0hvdFdvcmQnO1xuXG4vKipcbiAqIENvbW1hbmRzIGZvciB3b3JraW5nIHdpdGggSmlibydzIGxpc3RlbmluZyBjYXBhYmlsaXRpZXNcbiAqIEBuYW1lc3BhY2UgQ29tbWFuZFJlcXVlc3Rlci5saXN0ZW5cbiAqL1xuZXhwb3J0IGNsYXNzIExpc3RlbiB7XG5cbiAgICBsaXN0ZW5SZXF1ZXN0OiBMaXN0ZW5SZXF1ZXN0ZXI7XG5cbiAgICAvKipcbiAgICAgKiBDb21tYW5kcyBmb3Igc3Vic2NyaWJpbmcgdG8gbGlzdGVuIGV2ZW50c1xuICAgICAqIEBuYW1lc3BhY2UgQ29tbWFuZFJlcXVlc3Rlci5saXN0ZW4uc3Vic2NyaWJlXG4gICAgICovXG4gICAgc3Vic2NyaWJlOiBTdWJzY3JpcHRpb25zO1xuXG4gICAgY29uc3RydWN0b3IocmVxdWVzdGVyOkNvbW1hbmRSZXF1ZXN0ZXIpIHtcbiAgICAgICAgdGhpcy5saXN0ZW5SZXF1ZXN0ID0gbmV3IExpc3RlblJlcXVlc3RlcihyZXF1ZXN0ZXIpO1xuICAgICAgICB0aGlzLnN1YnNjcmliZSA9IG5ldyBTdWJzY3JpcHRpb25zKHJlcXVlc3Rlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBmb3IgdGhlIHJvYm90IHRvIGxpc3Rlbi5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIubGlzdGVuI3N0YXJ0XG4gICAgICogQHBhcmFtICB7bnVtYmVyfSAgIFttYXhTcGVlY2hUaW1lb3V0ID0gMTVdIE1heCBzZWNvbmRzIHRvIGxpc3RlbiBmb3Igc3BlZWNoLiBJZiBzcGVlY2ggZXhjZWVkcyB0aGlzIGxpbWl0LCBpdCB3aWxsIGJlIGlnbm9yZWQgXG4gICAgICogKHRvIHByZXZlbnQgYWNjaWRlbnRhbCBsaXN0ZW5zLCBpZSB0ZWxldmlzaW9uIGluIHRoZSBiYWNrZ3JvdW5kKVxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICBbbWF4Tm9TcGVlY2hUaW1lb3V0ID0gMTVdIE1heCBzZWNvbmRzIHRvIHdhaXQgZm9yIHNwZWVjaCB0byBzdGFydFxuICAgICAqIEBwYXJhbSAge251bWJlcn0gICBbbGFuZ3VhZ2VDb2RlID0gZW5fVVNdIExhbmd1YWdlIHRvIGxpc3RlbiBmb3IuIE9ubHkgVVMgRW5nbGlzaCBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLlxuICAgICAqIEByZXR1cm4ge0xpc3RlblRva2VufVxuICAgICAqL1xuICAgIHB1YmxpYyBzdGFydChcbiAgICAgICAgbWF4U3BlZWNoVGltZW91dDogbnVtYmVyID0gMTUsXG4gICAgICAgIG1heE5vU3BlZWNoVGltZW91dDogbnVtYmVyID0gMTUsXG4gICAgICAgIGxhbmd1YWdlQ29kZTogc3RyaW5nID0gJ2VuLVVTJyxcbiAgICApOiBMaXN0ZW5Ub2tlbiB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gTGlzdGVuUmVxdWVzdGVyLmdlbmVyYXRlUHJvdG9jb2wobWF4U3BlZWNoVGltZW91dCwgbWF4Tm9TcGVlY2hUaW1lb3V0LCBsYW5ndWFnZUNvZGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5SZXF1ZXN0LmdlbmVyYXRlVG9rZW4ocHJvdG9jb2wsIHRydWUpIGFzIExpc3RlblRva2VuO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN1YnNjcmlwdGlvbnMge1xuXG4gICAgcHJpdmF0ZSBob3RXb3JkUmVxdWVzdDpIb3RXb3JkO1xuXG4gICAgY29uc3RydWN0b3IocmVxdWVzdGVyOiBDb21tYW5kUmVxdWVzdGVyKSB7XG4gICAgICAgIHRoaXMuaG90V29yZFJlcXVlc3QgPSBuZXcgSG90V29yZChyZXF1ZXN0ZXIpO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gZm9yIFwiSGV5IEppYm9cIiBvbmx5XG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmxpc3Rlbi5zdWJzY3JpYmUjaG90V29yZFxuICAgICAqIEBwYXJhbSBbbGlzdGVuPWZhbHNlXSB7Ym9vbGVhbn0gQ3VycmVudGx5IG9ubHkgYGZhbHNlYCBpcyBzdXBwb3J0ZWQuIFxuICAgICAqIENvbWluZyBzb29uOiBgdHJ1ZWAgdG8gYXV0b21hdGljYWxseSBzdGFydCBhIGxpc3RlbiBhZnRlciBoZWFyaW5nIFwiSGV5IEppYm8uXCJcbiAgICAgKiBAcGFyYW0gW2hvdHdvcmQ9SEVZX0pJQk9dIEN1cnJlbnRseSBvbmx5IFwiSGV5IEppYm9cIiBpcyBzdXBwb3J0ZWRcbiAgICAgKiBAcmV0dXJuIHtIb3RXb3JkVG9rZW59XG4gICAgICovXG4gICAgcHVibGljIGhvdHdvcmQobGlzdGVuID0gZmFsc2UsIGhvdHdvcmQgPSBIb3RXb3Jkcy5IRVlfSklCTyk6IEhvdFdvcmRUb2tlbiB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gSG90V29yZC5nZW5lcmF0ZVByb3RvY29sKGxpc3RlbiwgaG90d29yZCk7XG4gICAgICAgIHJldHVybiB0aGlzLmhvdFdvcmRSZXF1ZXN0LmdlbmVyYXRlVG9rZW4ocHJvdG9jb2wsIHRydWUpO1xuICAgIH1cbn0iLCJpbXBvcnQgUmVxdWVzdFRva2VuIGZyb20gJy4uLy4uLy4uLy4uL3Rva2Vucy9SZXF1ZXN0VG9rZW4nO1xuaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi8uLi8uLi8uLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCB7RXZlbnR9IGZyb20gJy4uLy4uLy4uLy4uL2V2ZW50cy9FdmVudCc7XG5pbXBvcnQgUmVxdWVzdEFQSSBmcm9tICcuLi8uLi8uLi9SZXF1ZXN0QVBJJztcbmltcG9ydCB7SG90V29yZEV2ZW50cywgU3RyZWFtVHlwZXMsIENvbW1hbmRUeXBlc30gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5cbmV4cG9ydCBlbnVtIEhvdFdvcmRzIHtcbiAgICBcIkhFWV9KSUJPXCIgPSAnaGV5IGppYm8nLFxufVxuXG4vKipcbiAqIEBjbGFzcyBIb3RXb3JkVG9rZW5cbiAqIEBleHRlbmRzIFJlcXVlc3RUb2tlblxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY2xhc3MgSG90V29yZFRva2VuIGV4dGVuZHMgUmVxdWVzdFRva2VuPEpJQk8udjEuSG90V29yZFJlcXVlc3Q+IHtcblxuICAgIC8qKlxuICAgICAqIEhlYXJkIFwiSGV5IEppYm9cIlxuICAgICAqIEBuYW1lIEhvdFdvcmRUb2tlbiNob3RXb3JkSGVhcmRcbiAgICAgKiBAdHlwZSB7RXZlbnR9XG4gICAgICovXG4gICAgaG90V29yZEhlYXJkOkV2ZW50PEpJQk8udjEuSG90V29yZEhlYXJkRXZlbnQ+O1xuXG4gICAgLyoqXG4gICAgICogUmVzdWx0IG9mIHdoYXQgSmlibyBoZWFkIGlzIGF2YWlsYWJsZS5cbiAgICAgKiBAbmFtZSBIb3RXb3JkVG9rZW4jbGlzdGVuUmVzdWx0XG4gICAgICogQHR5cGUge0V2ZW50PHN0cmluZz59XG4gICAgICovXG4gICAgbGlzdGVuUmVzdWx0OkV2ZW50PHN0cmluZz47XG5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3Rvcihvd25lcjpDb21tYW5kUmVxdWVzdGVyLCBwcm90b2NvbDogSklCTy52MS5Ib3RXb3JkUmVxdWVzdCkge1xuICAgICAgICBzdXBlcihvd25lciwgcHJvdG9jb2wpO1xuICAgICAgICB0aGlzLmhvdFdvcmRIZWFyZCA9IG5ldyBFdmVudCgnSGVhcmQgaG90IHdvcmQnKTtcbiAgICAgICAgdGhpcy5saXN0ZW5SZXN1bHQgPSBuZXcgRXZlbnQoJ0xpc3RlbiBjb21wbGV0ZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgaGFuZGxlQWNrKGFjazpKSUJPLnYxLkFja25vd2xlZGdlbWVudCkge1xuICAgICAgICAvL2hhbmRsZSBhY2tcbiAgICAgICAgaWYgKGFjay5SZXNwb25zZS5SZXNwb25zZUNvZGUgPj0gNDAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGFjay5SZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50OkpJQk8udjEuRXZlbnRNZXNzYWdlKSB7XG4gICAgICAgIC8vaGFuZGxlIHJlc3BvbnNlXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5FdmVudEJvZHk7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5FdmVudCkge1xuICAgICAgICAgICAgY2FzZSBIb3RXb3JkRXZlbnRzLkhvdFdvcmRIZWFyZDpcbiAgICAgICAgICAgICAgICB0aGlzLmhvdFdvcmRIZWFyZC5lbWl0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIEhvdFdvcmQgY2xhc3NcbiAqIEBjbGFzcyBDb21tYW5kUmVxdWVzdGVyLmxpc3Rlbi5zdWJzY3JpYmUuSG90V29yZFxuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGNsYXNzIEhvdFdvcmQgZXh0ZW5kcyBSZXF1ZXN0QVBJPEpJQk8udjEuSG90V29yZFJlcXVlc3QsIEhvdFdvcmRUb2tlbj57XG5cbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0ZXI6Q29tbWFuZFJlcXVlc3Rlcikge1xuICAgICAgICBzdXBlcihyZXF1ZXN0ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIEhvdFdvcmQgUHJvdG9jb2xcbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIubGlzdGVuLnN1YnNjcmliZS5Ib3RXb3JkI2dlbmVyYXRlUHJvdG9jb2xcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtsaXN0ZW49ZmFsc2VdIC0gV2hldGhlciB0byBsaXN0ZW4gZm9yIGFkZGl0aW9uYWwgc3BlZWNoIGlucHV0IGFmdGVyIFwiSGV5IEppYm9cIiBpcyBoZWFyZC5cbiAgICAgKiBAcmV0dXJucyB7SG90V29yZFJlcXVlc3R9XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVQcm90b2NvbChsaXN0ZW4gPSBmYWxzZSwgaG90V29yZCA9IEhvdFdvcmRzLkhFWV9KSUJPKTogSklCTy52MS5Ib3RXb3JkUmVxdWVzdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBUeXBlOiBDb21tYW5kVHlwZXMuU3Vic2NyaWJlLFxuICAgICAgICAgICAgU3RyZWFtVHlwZTogU3RyZWFtVHlwZXMuSG90V29yZCxcbiAgICAgICAgICAgIFN0cmVhbUZpbHRlcjoge30sXG4gICAgICAgICAgICBMaXN0ZW46IGxpc3RlblxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBIb3RXb3JkVG9rZW4gZnJvbSBIb3RXb3JkUmVxdWVzdCBwcm90b2NvbC5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIubGlzdGVuLnN1YnNjcmliZS5Ib3RXb3JkI2dlbmVyYXRlVG9rZW5cbiAgICAgKiBAcGFyYW0ge0hvdFdvcmRSZXF1ZXN0fSBwcm90b2NvbCAtIEhvdFdvcmRSZXF1ZXN0IHByb3RvY29sIHRvIGdlbmVyYXRlIGEgSG90V29yZFRva2VuIGZyb20uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW5kU2VuZD1mYWxzZV0gLSBgdHJ1ZWAgaWYgdGhlIGdlbmVyYXRlZCBIb3RXb3JkVG9rZW4gc2hvdWxkIGFsc28gYmUgc2VudCBhcyBhIHJlcXVlc3QuXG4gICAgICogQHJldHVybiB7SG90V29yZFRva2VufVxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgcHVibGljIGdlbmVyYXRlVG9rZW4ocHJvdG9jb2w6IEpJQk8udjEuSG90V29yZFJlcXVlc3QsIGFuZFNlbmQ9ZmFsc2UpOiBIb3RXb3JkVG9rZW4ge1xuICAgICAgICBjb25zdCB0b2tlbiA9IG5ldyBIb3RXb3JkVG9rZW4odGhpcy5vd25lciwgcHJvdG9jb2wpO1xuICAgICAgICBpZiAoYW5kU2VuZCkge1xuICAgICAgICAgICAgc3VwZXIuc2VuZFRva2VuKHRva2VuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VuZCBIb3RXb3JkVG9rZW4gcmVxdWVzdC5cbiAgICAgKiA8cD5OT1RFOiBJbXBsZW1lbnRhdGlvbiBpbiBiYXNlIGNsYXNzIHtAbGluayBSZXF1ZXN0QVBJfTwvcD5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIubGlzdGVuLnN1YnNjcmliZS5Ib3RXb3JkI3NlbmRUb2tlblxuICAgICAqIEBwYXJhbSB7SG90V29yZFRva2VufSB0b2tlbiAtIEhvdFdvcmRUb2tlbiB0byBzZW5kLlxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgcHVibGljIHNlbmRUb2tlbih0b2tlbjogSG90V29yZFRva2VuKTogdm9pZCB7XG4gICAgICAgIHRoaXMub3duZXIuc2VuZFRva2VuKHRva2VuKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVxdWVzdFRva2VuIGZyb20gJy4uLy4uLy4uLy4uL3Rva2Vucy9SZXF1ZXN0VG9rZW4nO1xuaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi8uLi8uLi8uLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCB7RXZlbnR9IGZyb20gJy4uLy4uLy4uLy4uL2V2ZW50cy9FdmVudCc7XG5pbXBvcnQgUmVxdWVzdEFQSSBmcm9tICcuLi8uLi8uLi9SZXF1ZXN0QVBJJztcbmltcG9ydCB7Q29tbWFuZFR5cGVzLCBMaXN0ZW5FdmVudHMsIEFzeW5jQ29tbWFuZEV2ZW50fSBmcm9tICdAamliby9jb21tYW5kLXByb3RvY29sJztcblxuLyoqXG4gKiBAY2xhc3MgTGlzdGVuVG9rZW5cbiAqIEBleHRlbmRzIFJlcXVlc3RUb2tlblxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY2xhc3MgTGlzdGVuVG9rZW4gZXh0ZW5kcyBSZXF1ZXN0VG9rZW48SklCTy52MS5MaXN0ZW5SZXF1ZXN0LCBKSUJPLnYxLkxpc3RlblJlc3VsdEV2ZW50IHwgSklCTy52MS5MaXN0ZW5TdG9wRXZlbnQ+IHtcbiAgICAvKipcbiAgICAgKiBMaXN0ZW4gdG9rZW4gd2FzIHVwZGF0ZWRcbiAgICAgKiBAbmFtZSBMaXN0ZW5Ub2tlbiN1cGRhdGVcbiAgICAgKiBAdHlwZSB7RXZlbnR9XG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZTpFdmVudDxKSUJPLnYxLkxpc3RlblJlc3VsdEV2ZW50PjtcblxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKG93bmVyOkNvbW1hbmRSZXF1ZXN0ZXIsIHByb3RvY29sOiBKSUJPLnYxLkxpc3RlblJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIob3duZXIsIHByb3RvY29sKTtcbiAgICAgICAgdGhpcy51cGRhdGUgPSBuZXcgRXZlbnQoJ1VwZGF0ZSBvZiBsaXN0ZW4gc3RhdHVzJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlQWNrKGFjazpKSUJPLnYxLkFja25vd2xlZGdlbWVudCkge1xuICAgICAgICAvL2hhbmRsZSBhY2tcbiAgICAgICAgaWYgKGFjay5SZXNwb25zZS5SZXNwb25zZUNvZGUgPj0gNDAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGFjay5SZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgICBwdWJsaWMgaGFuZGxlRXZlbnQoZXZlbnQ6SklCTy52MS5FdmVudE1lc3NhZ2UpIHtcbiAgICAgICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICAgICBjb25zdCBldmVudERhdGEgPSBldmVudC5FdmVudEJvZHk7XG4gICAgICAgICBzd2l0Y2ggKGV2ZW50RGF0YS5FdmVudCkge1xuICAgICAgICAgICAgIGNhc2UgQXN5bmNDb21tYW5kRXZlbnQuU3RvcDpcbiAgICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KDxKSUJPLnYxLkxpc3RlblN0b3BFdmVudD5ldmVudERhdGEpO1xuICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICBjYXNlIExpc3RlbkV2ZW50cy5MaXN0ZW5SZXN1bHQ6XG4gICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlc29sdmUoPEpJQk8udjEuTGlzdGVuUmVzdWx0RXZlbnQ+ZXZlbnREYXRhKTtcbiAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUuZW1pdCg8SklCTy52MS5MaXN0ZW5SZXN1bHRFdmVudD4gZXZlbnREYXRhKTtcbiAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgY2FzZSBBc3luY0NvbW1hbmRFdmVudC5FcnJvcjpcbiAgICAgICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGV2ZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgfVxuICAgICB9XG5cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBMaXN0ZW4gY2xhc3NcbiAqIEBjbGFzcyBDb21tYW5kUmVxdWVzdGVyLmxpc3Rlbi5MaXN0ZW5cbiAqIEBpbnRkb2NzXG4gKi9cbmV4cG9ydCBjbGFzcyBMaXN0ZW4gZXh0ZW5kcyBSZXF1ZXN0QVBJPEpJQk8udjEuTGlzdGVuUmVxdWVzdCwgTGlzdGVuVG9rZW4+IHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIExpc3RlbiBQcm90b2NvbFxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5saXN0ZW4uTGlzdGVuI2dlbmVyYXRlUHJvdG9jb2xcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW21heFNwZWVjaFRpbWVvdXQ9MTVdIC0gTWF4IHNwZWVjaCB0aW1lb3V0IChpbiBzZWNvbmRzKVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4Tm9TcGVlY2hUaW1lb3V0PTE1XSAtIE1heCBubyBzcGVlY2ggdGltZW91dCAoaW4gc2Vjb25kcylcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2xhbmd1YWdlQ29kZT0nZW4tVVMnXSAtIExhbmd1YWdlIGNvZGVcbiAgICAgKiBAcmV0dXJucyB7TGlzdGVuUmVxdWVzdH1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVByb3RvY29sKG1heFNwZWVjaFRpbWVvdXQgPSAxNSwgbWF4Tm9TcGVlY2hUaW1lb3V0ID0gMTUsIGxhbmd1YWdlQ29kZSA9ICdlbi1VUycpOiBKSUJPLnYxLkxpc3RlblJlcXVlc3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVHlwZTogQ29tbWFuZFR5cGVzLkxpc3RlbixcbiAgICAgICAgICAgIE1heFNwZWVjaFRpbWVvdXQ6IG1heFNwZWVjaFRpbWVvdXQsXG4gICAgICAgICAgICBNYXhOb1NwZWVjaFRpbWVvdXQ6IG1heE5vU3BlZWNoVGltZW91dCxcbiAgICAgICAgICAgIExhbmd1YWdlQ29kZTogbGFuZ3VhZ2VDb2RlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIExpc3RlblRva2VuIGZyb20gTGlzdGVuUmVxdWVzdCBwcm90b2NvbC5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIubGlzdGVuLkxpc3RlbiNnZW5lcmF0ZVRva2VuXG4gICAgICogQHBhcmFtIHtMaXN0ZW5SZXF1ZXN0fSBwcm90b2NvbCAtIExpc3RlblJlcXVlc3QgcHJvdG9jb2wgdG8gZ2VuZXJhdGUgYSBMaXN0ZW5Ub2tlbiBmcm9tLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FuZFNlbmQ9ZmFsc2VdIC0gYHRydWVgIGlmIHRoZSBnZW5lcmF0ZWQgTGlzdGVuVG9rZW4gc2hvdWxkIGFsc28gYmUgc2VudCBhcyBhIHJlcXVlc3QuXG4gICAgICogQHJldHVybiB7TGlzdGVuVG9rZW59XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVUb2tlbihwcm90b2NvbDogSklCTy52MS5MaXN0ZW5SZXF1ZXN0LCBhbmRTZW5kPWZhbHNlKTogTGlzdGVuVG9rZW4ge1xuICAgICAgICBjb25zdCB0b2tlbiA9IG5ldyBMaXN0ZW5Ub2tlbih0aGlzLm93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIGlmIChhbmRTZW5kKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kVG9rZW4odG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIExpc3RlblRva2VuIHJlcXVlc3QuXG4gICAgICogPHA+Tk9URTogSW1wbGVtZW50YXRpb24gaW4gYmFzZSBjbGFzcyB7QGxpbmsgUmVxdWVzdEFQSX08L3A+XG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLmxpc3Rlbi5MaXN0ZW4jc2VuZFRva2VuXG4gICAgICogQHBhcmFtIHtMaXN0ZW5Ub2tlbn0gdG9rZW4gLSBMaXN0ZW5Ub2tlbiB0byBzZW5kLlxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG59IiwiaW1wb3J0IHtQaG90bywgUGhvdG9Ub2tlbn0gZnJvbSAnLi9yZXF1ZXN0ZXJzL1Bob3RvJztcbmltcG9ydCB7VmlkZW8sIFZpZGVvVG9rZW59IGZyb20gJy4vcmVxdWVzdGVycy9WaWRlbyc7XG5pbXBvcnQge0NvbW1hbmRSZXF1ZXN0ZXJ9IGZyb20gJy4uLy4uLy4uL0NvbW1hbmRSZXF1ZXN0ZXInO1xuXG4vKipcbiAqIENvbW1hbmRzIGZvciB3b3JraW5nIHdpdGggSmlibydzIG1lZGlhXG4gKiBAbmFtZXNwYWNlIENvbW1hbmRSZXF1ZXN0ZXIubWVkaWFcbiAqL1xuZXhwb3J0IGNsYXNzIE1lZGlhIHtcblxuICAgIC8qKlxuICAgICAqIENvbW1hbmRzIGZvciBjYXB0dXJpbmcgbWVkaWEgZnJvbSBKaWJvJ3MgY2FtZXJhc1xuICAgICAqIEBuYW1lc3BhY2UgQ29tbWFuZFJlcXVlc3Rlci5tZWRpYS5jYXB0dXJlXG4gICAgICovXG4gICAgY2FwdHVyZTogQ2FwdHVyZTtcblxuICAgIGNvbnN0cnVjdG9yKHJlcXVlc3Rlcikge1xuICAgICAgICB0aGlzLmNhcHR1cmUgPSBuZXcgQ2FwdHVyZShyZXF1ZXN0ZXIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENhcHR1cmUge1xuXG4gICAgcGhvdG9SZXF1ZXN0OiBQaG90bztcbiAgICB2aWRlb1JlcXVlc3Q6IFZpZGVvO1xuXG4gICAgY29uc3RydWN0b3IocmVxdWVzdGVyOiBDb21tYW5kUmVxdWVzdGVyKSB7XG4gICAgICAgIHRoaXMucGhvdG9SZXF1ZXN0ID0gbmV3IFBob3RvKHJlcXVlc3Rlcik7XG4gICAgICAgIHRoaXMudmlkZW9SZXF1ZXN0ID0gbmV3IFZpZGVvKHJlcXVlc3Rlcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGFrZSBhIHBob3RvXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLm1lZGlhLmNhcHR1cmUjcGhvdG9cbiAgICAgKiBAcGFyYW0gIHtDb21tYW5kUmVxdWVzdGVyLm1lZGlhLkNhbWVyYX0gW2NhbWVyYT1sZWZ0XSBXaGljaCBjYW1lcmEgdG8gdXNlXG4gICAgICogQHBhcmFtICB7Q29tbWFuZFJlcXVlc3Rlci5tZWRpYS5DYW1lcmFSZXNvbHV0aW9ufSBbcmVzb2x1dGlvbj1sb3ddIENob29zZSBhIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtICB7Ym9vbGVhbn0gW2Rpc3RvcnRpb249dHJ1ZV0gYGZhbHNlYCBmb3IgZmlzaGV5ZSBsZW5zZS5cbiAgICAgKiBAcmV0dXJuIHtQaG90b1Rva2VufVxuICAgICAqL1xuICAgIHB1YmxpYyBwaG90byhcbiAgICAgICAgY2FtZXJhOiBDb21tYW5kUmVxdWVzdGVyLm1lZGlhLkNhbWVyYSA9IENvbW1hbmRSZXF1ZXN0ZXIubWVkaWEuQ2FtZXJhLmxlZnQsXG4gICAgICAgIHJlc29sdXRpb246IENvbW1hbmRSZXF1ZXN0ZXIubWVkaWEuQ2FtZXJhUmVzb2x1dGlvbiA9IENvbW1hbmRSZXF1ZXN0ZXIubWVkaWEuQ2FtZXJhUmVzb2x1dGlvbi5sb3csXG4gICAgICAgIGRpc3RvcnRpb246IGJvb2xlYW4gPSB0cnVlLFxuICAgICk6IFBob3RvVG9rZW4ge1xuICAgICAgICBjb25zdCBjYW1lcmFUeXBlID0gQ29tbWFuZFJlcXVlc3Rlci5tZWRpYS5DYW1lcmFbY2FtZXJhXTtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBQaG90by5nZW5lcmF0ZVByb3RvY29sKGNhbWVyYVR5cGUsIHJlc29sdXRpb24sIGRpc3RvcnRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcy5waG90b1JlcXVlc3QuZ2VuZXJhdGVUb2tlbihwcm90b2NvbCwgdHJ1ZSkgYXMgUGhvdG9Ub2tlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdHJlYW0gd2hhdCBKaWJvIGN1cnJlbnRseSBzZWVzXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLm1lZGlhLmNhcHR1cmUjdmlkZW9cbiAgICAgKiBAcGFyYW0gIHtDb21tYW5kUmVxdWVzdGVyLm1lZGlhLlZpZGVvVHlwZX0gW3ZpZGVvVHlwZT1ub3JtYWxdIENob29zZSBhIHZpZGVvIHR5cGVcbiAgICAgKiBAcGFyYW0gIHtudW1iZXJ9IFtkdXJhdGlvbj0wXSBIb3cgbG9uZyB0byBzdHJlYW0gZm9yLiBDdXJyZW50bHkgdW5zdXBwb3J0ZWQuIENhbGwgYGNhbmNlbCgpYCB0byBzdG9wIHN0cmVhbWluZ1xuICAgICAqIEByZXR1cm4ge1ZpZGVvVG9rZW59XG4gICAgICovXG4gICAgcHVibGljIHZpZGVvKFxuICAgICAgICB2aWRlb1R5cGU6IENvbW1hbmRSZXF1ZXN0ZXIubWVkaWEuVmlkZW9UeXBlID0gQ29tbWFuZFJlcXVlc3Rlci5tZWRpYS5WaWRlb1R5cGUubm9ybWFsLFxuICAgICAgICBkdXJhdGlvbjogbnVtYmVyID0gMCxcbiAgICApOiBWaWRlb1Rva2VuIHtcbiAgICAgICAgY29uc3QgcHJvdG9jb2wgPSBWaWRlby5nZW5lcmF0ZVByb3RvY29sKHZpZGVvVHlwZSwgZHVyYXRpb24pO1xuICAgICAgICByZXR1cm4gdGhpcy52aWRlb1JlcXVlc3QuZ2VuZXJhdGVUb2tlbihwcm90b2NvbCwgdHJ1ZSk7XG4gICAgfVxufSIsImltcG9ydCBSZXF1ZXN0VG9rZW4gZnJvbSAnLi4vLi4vLi4vLi4vdG9rZW5zL1JlcXVlc3RUb2tlbic7XG5pbXBvcnQge0NvbW1hbmRSZXF1ZXN0ZXJ9IGZyb20gJy4uLy4uLy4uLy4uL0NvbW1hbmRSZXF1ZXN0ZXInO1xuaW1wb3J0IFJlcXVlc3RBUEkgZnJvbSAnLi4vLi4vLi4vUmVxdWVzdEFQSSc7XG5pbXBvcnQge0NvbW1hbmRUeXBlcywgUGhvdG9FdmVudHMsIFJlc3BvbnNlQ29kZX0gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5cblxuLyoqXG4gKiBAY2xhc3MgUGhvdG9Ub2tlblxuICogQGV4dGVuZHMgUmVxdWVzdFRva2VuXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBQaG90b1Rva2VuIGV4dGVuZHMgUmVxdWVzdFRva2VuPEpJQk8udjEuVGFrZVBob3RvUmVxdWVzdCwgSklCTy52MS5UYWtlUGhvdG9FdmVudD4ge1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXI6Q29tbWFuZFJlcXVlc3RlciwgcHJvdG9jb2w6IEpJQk8udjEuVGFrZVBob3RvUmVxdWVzdCkge1xuICAgICAgICBzdXBlcihvd25lciwgcHJvdG9jb2wpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUFjayhhY2s6SklCTy52MS5BY2tub3dsZWRnZW1lbnQpIHtcbiAgICAgICAgLy9oYW5kbGUgYWNrXG4gICAgICAgIGlmIChhY2suUmVzcG9uc2UuUmVzcG9uc2VDb2RlID49IFJlc3BvbnNlQ29kZS5CYWRSZXF1ZXN0KSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVqZWN0KGFjay5SZXNwb25zZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVFdmVudChldmVudDpKSUJPLnYxLkV2ZW50TWVzc2FnZSkge1xuICAgICAgICAvL2hhbmRsZSByZXNwb25zZVxuICAgICAgICBjb25zdCBtZXNzYWdlID0gZXZlbnQuRXZlbnRCb2R5O1xuICAgICAgICBpZiAobWVzc2FnZS5FdmVudCA9PT0gUGhvdG9FdmVudHMuVGFrZVBob3RvKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVzb2x2ZShtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBJbnRlcm5hbCBQaG90byBjbGFzc1xuICogQGNsYXNzIENvbW1hbmRSZXF1ZXN0ZXIubWVkaWEuY2FwdHVyZS5QaG90b1xuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGNsYXNzIFBob3RvIGV4dGVuZHMgUmVxdWVzdEFQSTxKSUJPLnYxLlRha2VQaG90b1JlcXVlc3QsIFBob3RvVG9rZW4+IHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIFBob3RvIFByb3RvY29sXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLm1lZGlhLmNhcHR1cmUuUGhvdG8jZ2VuZXJhdGVQcm90b2NvbFxuICAgICAqIEBwYXJhbSB7Q2FtZXJhfSBbY2FtZXJhPWxlZnRdIC0gV2hpY2ggY2FtZXJhIHRvIHVzZSAtLSBsZWZ0IG9yIHJpZ2h0LlxuICAgICAqIEBwYXJhbSB7Q2FtZXJhUmVzb2x1dGlvbn0gW3Jlc29sdXRpb249TG93UmVzXSAtIENob29zZSBhIHJlc29sdXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmVtb3ZlRGlzdG9ydGlvbj10cnVlXSAtIFVzZSBgZmFsc2VgIGZvciBmaXNoZXllIGxlbnNlLlxuICAgICAqIEByZXR1cm5zIHtUYWtlUGhvdG9SZXF1ZXN0fVxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlUHJvdG9jb2woXG4gICAgICAgIGNhbWVyYTpKSUJPLnYxLkNhbWVyYXMuQ2FtZXJhVHlwZSA9ICdsZWZ0JyxcbiAgICAgICAgcmVzb2x1dGlvbjpKSUJPLnYxLkNhbWVyYVJlc29sdXRpb25zLkNhbWVyYVJlc29sdXRpb25UeXBlID0gJ2xvd1JlcycsXG4gICAgICAgIHJlbW92ZURpc3RvcnRpb24gPSB0cnVlKTogSklCTy52MS5UYWtlUGhvdG9SZXF1ZXN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFR5cGU6IENvbW1hbmRUeXBlcy5UYWtlUGhvdG8sXG4gICAgICAgICAgICBSZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgQ2FtZXJhOiBjYW1lcmEsXG4gICAgICAgICAgICBEaXN0b3J0aW9uOiByZW1vdmVEaXN0b3J0aW9uXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIFBob3RvVG9rZW4gZnJvbSBUYWtlUGhvdG9SZXF1ZXN0IHByb3RvY29sLlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5tZWRpYS5jYXB0dXJlLlBob3RvI2dlbmVyYXRlVG9rZW5cbiAgICAgKiBAcGFyYW0ge1Rha2VQaG90b1JlcXVlc3R9IHByb3RvY29sIC0gVGFrZVBob3RvUmVxdWVzdCBwcm90b2NvbCB0byBnZW5lcmF0ZSBhIFBob3RvVG9rZW4gZnJvbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbmRTZW5kPWZhbHNlXSAtIGB0cnVlYCBpZiB0aGUgZ2VuZXJhdGVkIFBob3RvVG9rZW4gc2hvdWxkIGFsc28gYmUgc2VudCBhcyBhIHJlcXVlc3QuXG4gICAgICogQHJldHVybiB7UGhvdG9Ub2tlbn1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVRva2VuKHByb3RvY29sOiBKSUJPLnYxLlRha2VQaG90b1JlcXVlc3QsIGFuZFNlbmQ9ZmFsc2UpOiBQaG90b1Rva2VuIHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBuZXcgUGhvdG9Ub2tlbih0aGlzLm93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIGlmIChhbmRTZW5kKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kVG9rZW4odG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG59XG4iLCJpbXBvcnQgUmVxdWVzdFRva2VuIGZyb20gJy4uLy4uLy4uLy4uL3Rva2Vucy9SZXF1ZXN0VG9rZW4nO1xuaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi8uLi8uLi8uLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCBSZXF1ZXN0QVBJIGZyb20gJy4uLy4uLy4uL1JlcXVlc3RBUEknO1xuaW1wb3J0IHtFdmVudH0gZnJvbSAnLi4vLi4vLi4vLi4vZXZlbnRzL0V2ZW50JztcbmltcG9ydCB7Q29tbWFuZFR5cGVzLCBWaWRlb0V2ZW50cywgUmVzcG9uc2VDb2RlfSBmcm9tICdAamliby9jb21tYW5kLXByb3RvY29sJztcblxuLyoqXG4gKiBAY2xhc3MgVmlkZW9Ub2tlblxuICogQGV4dGVuZHMgUmVxdWVzdFRva2VuXG4gKiBAaGlkZWNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBjbGFzcyBWaWRlb1Rva2VuIGV4dGVuZHMgUmVxdWVzdFRva2VuPEpJQk8udjEuVmlkZW9SZXF1ZXN0LCBuZXZlcj4ge1xuXG4gICAgLyoqXG4gICAgICogVVJMIGZvciB2aWRlbyBzdHJlYW0gaXMgcmVhZHkuXG4gICAgICogQG5hbWUgVmlkZW9Ub2tlbiNzdHJlYW1SZWFkeVxuICAgICAqIEB0eXBlIHtFdmVudDxzdHJpbmc+fVxuICAgICAqL1xuICAgIHB1YmxpYyBzdHJlYW1SZWFkeTpFdmVudDxzdHJpbmc+O1xuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXI6Q29tbWFuZFJlcXVlc3RlciwgcHJvdG9jb2w6IEpJQk8udjEuVmlkZW9SZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKG93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIHRoaXMuc3RyZWFtUmVhZHkgPSBuZXcgRXZlbnQoJ1ZpZGVvIHJlYWR5IGZvciBzdHJlYW1pbmcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVBY2soYWNrOkpJQk8udjEuQWNrbm93bGVkZ2VtZW50KSB7XG4gICAgICAgIC8vaGFuZGxlIGFja1xuICAgICAgICBpZiAoYWNrLlJlc3BvbnNlLlJlc3BvbnNlQ29kZSA+PSBSZXNwb25zZUNvZGUuQmFkUmVxdWVzdCkge1xuICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlamVjdChhY2suUmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlRXZlbnQoZXZlbnQ6SklCTy52MS5FdmVudE1lc3NhZ2UpIHtcbiAgICAgICAgLy9oYW5kbGUgcmVzcG9uc2VcbiAgICAgICAgY29uc3QgZXZlbnREYXRhID0gZXZlbnQuRXZlbnRCb2R5O1xuICAgICAgICBpZiAoZXZlbnREYXRhLkV2ZW50ID09PSBWaWRlb0V2ZW50cy5WaWRlb1JlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbVJlYWR5LmVtaXQoZXZlbnREYXRhLlVSSSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgVmlkZW8gY2xhc3NcbiAqIEBjbGFzcyBDb21tYW5kUmVxdWVzdGVyLm1lZGlhLmNhcHR1cmUuVmlkZW9cbiAqIEBpbnRkb2NzXG4gKi9cbmV4cG9ydCBjbGFzcyBWaWRlbyBleHRlbmRzIFJlcXVlc3RBUEk8SklCTy52MS5WaWRlb1JlcXVlc3QsIFZpZGVvVG9rZW4+IHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIFZpZGVvIFByb3RvY29sXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLm1lZGlhLmNhcHR1cmUuVmlkZW8jZ2VuZXJhdGVQcm90b2NvbFxuICAgICAqIEBwYXJhbSB7VmlkZW9UeXBlfSBbdHlwZT1WaWRlb1R5cGUuTm9ybWFsXSAtIENob29zZSBhIHZpZGVvIHR5cGUgZnJvbSB0aGUgZW51bS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2R1cmF0aW9uPTBdIC0gSG93IGxvbmcgdG8gcmVjb3JkIGZvciAoaW4gbXMpLlxuICAgICAqIEByZXR1cm5zIHtWaWRlb1JlcXVlc3R9XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVQcm90b2NvbChcbiAgICAgICAgdHlwZTpKSUJPLnYxLlZpZGVvcy5WaWRlb1R5cGUgPSAnTk9STUFMJywgZHVyYXRpb24gPSAwKTogSklCTy52MS5WaWRlb1JlcXVlc3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVHlwZTogQ29tbWFuZFR5cGVzLlZpZGVvLFxuICAgICAgICAgICAgRHVyYXRpb246IGR1cmF0aW9uLFxuICAgICAgICAgICAgVmlkZW9UeXBlOiB0eXBlXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIFZpZGVvVG9rZW4gZnJvbSBWaWRlb1JlcXVlc3QgcHJvdG9jb2wuXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLm1lZGlhLmNhcHR1cmUuVmlkZW8jZ2VuZXJhdGVUb2tlblxuICAgICAqIEBwYXJhbSB7VmlkZW9SZXF1ZXN0fSBwcm90b2NvbCAtIFZpZGVvUmVxdWVzdCBwcm90b2NvbCB0byBnZW5lcmF0ZSBhIFZpZGVvVG9rZW4gZnJvbS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFthbmRTZW5kPWZhbHNlXSAtIGB0cnVlYCBpZiB0aGUgZ2VuZXJhdGVkIFZpZGVvVG9rZW4gc2hvdWxkIGFsc28gYmUgc2VudCBhcyBhIHJlcXVlc3QuXG4gICAgICogQHJldHVybiB7VmlkZW9Ub2tlbn1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVRva2VuKHByb3RvY29sOiBKSUJPLnYxLlZpZGVvUmVxdWVzdCwgYW5kU2VuZD1mYWxzZSk6IFZpZGVvVG9rZW4ge1xuICAgICAgICBjb25zdCB0b2tlbiA9IG5ldyBWaWRlb1Rva2VuKHRoaXMub3duZXIsIHByb3RvY29sKTtcbiAgICAgICAgaWYgKGFuZFNlbmQpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRUb2tlbih0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgVmlkZW9Ub2tlbiByZXF1ZXN0LlxuICAgICAqIDxwPk5PVEU6IEltcGxlbWVudGF0aW9uIGluIGJhc2UgY2xhc3Mge0BsaW5rIFJlcXVlc3RBUEl9PC9wPlxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5tZWRpYS5jYXB0dXJlLlZpZGVvI3NlbmRUb2tlblxuICAgICAqIEBwYXJhbSB7VmlkZW9Ub2tlbn0gdG9rZW4gLSBWaWRlb1Rva2VuIHRvIHNlbmQuXG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbn0iLCJpbXBvcnQge0NvbW1hbmRSZXF1ZXN0ZXJ9IGZyb20gJy4uLy4uLy4uL0NvbW1hbmRSZXF1ZXN0ZXInO1xuaW1wb3J0IHtNb3Rpb25Ub2tlbiwgTW90aW9ufSBmcm9tICcuL3JlcXVlc3RlcnMvTW90aW9uJztcbmltcG9ydCB7SGVhZFRvdWNoVG9rZW4sIEhlYWRUb3VjaH0gZnJvbSAnLi9yZXF1ZXN0ZXJzL0hlYWRUb3VjaCc7XG5pbXBvcnQge0ZhY2VUcmFja1Rva2VuLCBGYWNlVHJhY2t9IGZyb20gJy4vcmVxdWVzdGVycy9GYWNlVHJhY2snO1xuXG4vKipcbiAqIENvbW1hbmRzIGZvciB3b3JraW5nIHdpdGggSmlibydzIHNlbnNvcnkgaW5wdXRcbiAqIEBuYW1lc3BhY2UgQ29tbWFuZFJlcXVlc3Rlci5wZXJjZXB0aW9uXG4gKi9cbmV4cG9ydCBjbGFzcyBQZXJjZXB0aW9ue1xuXG4gICAgLyoqXG4gICAgICogQ29tbWFuZHMgZm9yIHN1YmNyaWJpbmcgdG8gcGVyY2VwdGlvbiBldmVudHNcbiAgICAgKiBAbmFtZXNwYWNlIENvbW1hbmRSZXF1ZXN0ZXIucGVyY2VwdGlvbi5zdWJzY3JpYmVcbiAgICAgKi9cbiAgICBwdWJsaWMgc3Vic2NyaWJlO1xuXG4gICAgY29uc3RydWN0b3IocmVxdWVzdGVyOkNvbW1hbmRSZXF1ZXN0ZXIpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmUgPSBuZXcgU3Vic2NyaXB0aW9ucyhyZXF1ZXN0ZXIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN1YnNjcmlwdGlvbnMge1xuXG4gICAgcHJpdmF0ZSBtb3Rpb25SZXF1ZXN0Ok1vdGlvbjtcbiAgICBwcml2YXRlIGhlYWRUb3VjaFJlcXVlc3Q6SGVhZFRvdWNoO1xuICAgIHByaXZhdGUgZmFjZVRyYWNrUmVxdWVzdDpGYWNlVHJhY2s7XG5cbiAgICBjb25zdHJ1Y3RvcihyZXF1ZXN0ZXI6IENvbW1hbmRSZXF1ZXN0ZXIpIHtcbiAgICAgICAgdGhpcy5tb3Rpb25SZXF1ZXN0ID0gbmV3IE1vdGlvbihyZXF1ZXN0ZXIpO1xuICAgICAgICB0aGlzLmhlYWRUb3VjaFJlcXVlc3QgPSBuZXcgSGVhZFRvdWNoKHJlcXVlc3Rlcik7XG4gICAgICAgIHRoaXMuZmFjZVRyYWNrUmVxdWVzdCA9IG5ldyBGYWNlVHJhY2socmVxdWVzdGVyKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLnBlcmNlcHRpb24uc3Vic2NyaWJlI2hlYWRUb3VjaFxuICAgICAqIEBkZXNjcmlwdGlvbiBMaXN0ZW4gZm9yIGhlYWQgdG91Y2guXG4gICAgICogQHJldHVybiB7SGVhZFRvdWNoVG9rZW59XG4gICAgICovXG4gICAgcHVibGljIGhlYWRUb3VjaCgpOiBIZWFkVG91Y2hUb2tlbiB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gSGVhZFRvdWNoLmdlbmVyYXRlUHJvdG9jb2woKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGVhZFRvdWNoUmVxdWVzdC5nZW5lcmF0ZVRva2VuKHByb3RvY29sLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdWJjcmliZSB0byBtb3Rpb24gZXZlbnRzIGluIEppYm8ncyBmaWVsZCBvZiB2aXNpb25cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIucGVyY2VwdGlvbi5zdWJzY3JpYmUjbW90aW9uXG4gICAgICogQHJldHVybiB7TW90aW9uVG9rZW59XG4gICAgICovXG4gICAgcHVibGljIG1vdGlvbigpOiBNb3Rpb25Ub2tlbiB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gTW90aW9uLmdlbmVyYXRlUHJvdG9jb2woKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubW90aW9uUmVxdWVzdC5nZW5lcmF0ZVRva2VuKHByb3RvY29sLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdG8gZmFjZS1maW5kaW5nIGV2ZW50cyBpbiBKaWJvJ3MgZmllbGQgb2YgdmlzaW9uXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLnBlcmNlcHRpb24uc3Vic2NyaWJlI2ZhY2VcbiAgICAgKiBAcmV0dXJuIHtGYWNlVHJhY2tUb2tlbn1cbiAgICAgKi9cbiAgICBwdWJsaWMgZmFjZSgpOiBGYWNlVHJhY2tUb2tlbiB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gRmFjZVRyYWNrLmdlbmVyYXRlUHJvdG9jb2woKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFjZVRyYWNrUmVxdWVzdC5nZW5lcmF0ZVRva2VuKHByb3RvY29sLCB0cnVlKTtcbiAgICB9XG59IiwiaW1wb3J0IFJlcXVlc3RUb2tlbiBmcm9tICcuLi8uLi8uLi8uLi90b2tlbnMvUmVxdWVzdFRva2VuJztcbmltcG9ydCB7Q29tbWFuZFJlcXVlc3Rlcn0gZnJvbSAnLi4vLi4vLi4vLi4vQ29tbWFuZFJlcXVlc3Rlcic7XG5pbXBvcnQgUmVxdWVzdEFQSSBmcm9tICcuLi8uLi8uLi9SZXF1ZXN0QVBJJztcbmltcG9ydCB7RXZlbnR9IGZyb20gJy4uLy4uLy4uLy4uL2V2ZW50cy9FdmVudCc7XG5pbXBvcnQge0NvbW1hbmRUeXBlcywgRW50aXR5VHJhY2tFdmVudHMsIFN0cmVhbVR5cGVzfSBmcm9tICdAamliby9jb21tYW5kLXByb3RvY29sJztcblxuLyoqXG4gKiBAY2xhc3MgRmFjZVRyYWNrVG9rZW5cbiAqIEBleHRlbmRzIFJlcXVlc3RUb2tlblxuICogQGhpZGVjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgY2xhc3MgRmFjZVRyYWNrVG9rZW4gZXh0ZW5kcyBSZXF1ZXN0VG9rZW48SklCTy52MS5FbnRpdHlSZXF1ZXN0LCBuZXZlcj4ge1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBvbiBsb2NhdGlvbiBvZiBmYWNlIGJlaW5nIHRyYWNrZWQuXG4gICAgICogQG5hbWUgRmFjZVRyYWNrVG9rZW4jdXBkYXRlXG4gICAgICogQHR5cGUge0V2ZW50fVxuICAgICAqL1xuICAgIHB1YmxpYyB1cGRhdGU6RXZlbnQ8SklCTy52MS5UcmFja2VkRW50aXR5W10+O1xuICAgIC8qKlxuICAgICAqIE5ldyBmYWNlIGJlaW5nIHRyYWNrZWQuXG4gICAgICogQG5hbWUgRmFjZVRyYWNrVG9rZW4jZ2FpbmVkXG4gICAgICogQHR5cGUge0V2ZW50fVxuICAgICAqL1xuICAgIHB1YmxpYyBnYWluZWQ6RXZlbnQ8SklCTy52MS5UcmFja2VkRW50aXR5W10+O1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnRseSB0cmFja2VkIGZhY2Ugd2FzIGxvc3QuXG4gICAgICogQG5hbWUgRmFjZVRyYWNrVG9rZW4jbG9zdFxuICAgICAqIEB0eXBlIHtFdmVudH1cbiAgICAgKi9cbiAgICBwdWJsaWMgbG9zdDpFdmVudDxKSUJPLnYxLlRyYWNrZWRFbnRpdHlbXT47XG5cbiAgICBjb25zdHJ1Y3Rvcihvd25lcjpDb21tYW5kUmVxdWVzdGVyLCBwcm90b2NvbDogSklCTy52MS5FbnRpdHlSZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKG93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIHRoaXMudXBkYXRlID0gbmV3IEV2ZW50KCdVcGRhdGUgb2YgdHJhY2tlZCBlbnRpdGllcycpO1xuICAgICAgICB0aGlzLmdhaW5lZCA9IG5ldyBFdmVudCgnRW50aXR5IGZvdW5kJyk7XG4gICAgICAgIHRoaXMubG9zdCA9IG5ldyBFdmVudCgnRW50aXR5IGxvc3QnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVBY2soYWNrOkpJQk8udjEuQWNrbm93bGVkZ2VtZW50KSB7XG4gICAgICAgIC8vaGFuZGxlIGFja1xuICAgICAgICBpZiAoYWNrLlJlc3BvbnNlLlJlc3BvbnNlQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoYWNrLlJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUV2ZW50KGV2ZW50OkpJQk8udjEuRXZlbnRNZXNzYWdlKSB7XG4gICAgICAgIC8vaGFuZGxlIHJlc3BvbnNlXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5FdmVudEJvZHk7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5FdmVudCkge1xuICAgICAgICAgICAgY2FzZSBFbnRpdHlUcmFja0V2ZW50cy5UcmFja0dhaW5lZDpcbiAgICAgICAgICAgICAgICB0aGlzLmdhaW5lZC5lbWl0KG1lc3NhZ2UuVHJhY2tzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRW50aXR5VHJhY2tFdmVudHMuVHJhY2tVcGRhdGU6XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUuZW1pdChtZXNzYWdlLlRyYWNrcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEVudGl0eVRyYWNrRXZlbnRzLlRyYWNrTG9zdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvc3QuZW1pdChtZXNzYWdlLlRyYWNrcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgRmFjZVRyYWNrIGNsYXNzXG4gKiBAY2xhc3MgQ29tbWFuZFJlcXVlc3Rlci5wZXJjZXB0aW9uLnN1YnNjcmliZS5GYWNlVHJhY2tcbiAqIEBpbnRkb2NzXG4gKi9cbmV4cG9ydCBjbGFzcyBGYWNlVHJhY2sgZXh0ZW5kcyBSZXF1ZXN0QVBJPEpJQk8udjEuRW50aXR5UmVxdWVzdCwgRmFjZVRyYWNrVG9rZW4+IHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIEZhY2UgVHJhY2sgUHJvdG9jb2xcbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIucGVyY2VwdGlvbi5zdWJzY3JpYmUuRmFjZVRyYWNrI2dlbmVyYXRlUHJvdG9jb2xcbiAgICAgKiBAcmV0dXJucyB7RW50aXR5UmVxdWVzdH1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVByb3RvY29sKCk6IEpJQk8udjEuRW50aXR5UmVxdWVzdCB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBUeXBlOiBDb21tYW5kVHlwZXMuU3Vic2NyaWJlLFxuICAgICAgICAgICAgU3RyZWFtVHlwZTogU3RyZWFtVHlwZXMuRW50aXR5LFxuICAgICAgICAgICAgU3RyZWFtRmlsdGVyOiB7fVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBGYWNlVHJhY2tUb2tlbiBmcm9tIEVudGl0eVJlcXVlc3QgcHJvdG9jb2wuXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLnBlcmNlcHRpb24uc3Vic2NyaWJlLkZhY2VUcmFjayNnZW5lcmF0ZVRva2VuXG4gICAgICogQHBhcmFtIHtFbnRpdHlSZXF1ZXN0fSBwcm90b2NvbCAtIEVudGl0eVJlcXVlc3QgcHJvdG9jb2wgdG8gZ2VuZXJhdGUgYSBGYWNlVHJhY2tUb2tlbiBmcm9tLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2FuZFNlbmQ9ZmFsc2VdIC0gYHRydWVgIGlmIHRoZSBnZW5lcmF0ZWQgRmFjZVRyYWNrVG9rZW4gc2hvdWxkIGFsc28gYmUgc2VudCBhcyBhIHJlcXVlc3QuXG4gICAgICogQHJldHVybiB7RmFjZVRyYWNrVG9rZW59XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2VuZXJhdGVUb2tlbihwcm90b2NvbDogSklCTy52MS5FbnRpdHlSZXF1ZXN0LCBhbmRTZW5kPWZhbHNlKTogRmFjZVRyYWNrVG9rZW4ge1xuICAgICAgICBjb25zdCB0b2tlbiA9IG5ldyBGYWNlVHJhY2tUb2tlbih0aGlzLm93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIGlmIChhbmRTZW5kKSB7XG4gICAgICAgICAgICBzdXBlci5zZW5kVG9rZW4odG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZW5kIEZhY2VUcmFja1Rva2VuIHJlcXVlc3QuXG4gICAgICogPHA+Tk9URTogSW1wbGVtZW50YXRpb24gaW4gYmFzZSBjbGFzcyB7QGxpbmsgUmVxdWVzdEFQSX08L3A+XG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLnBlcmNlcHRpb24uc3Vic2NyaWJlLkZhY2VUcmFjayNzZW5kVG9rZW5cbiAgICAgKiBAcGFyYW0ge0ZhY2VUcmFja1Rva2VufSB0b2tlbiAtIEZhY2VUcmFja1Rva2VuIHRvIHNlbmQuXG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbn0iLCJpbXBvcnQgUmVxdWVzdFRva2VuIGZyb20gJy4uLy4uLy4uLy4uL3Rva2Vucy9SZXF1ZXN0VG9rZW4nO1xuaW1wb3J0IFJlcXVlc3RBUEkgZnJvbSAnLi4vLi4vLi4vUmVxdWVzdEFQSSc7XG5pbXBvcnQge0NvbW1hbmRSZXF1ZXN0ZXJ9IGZyb20gJy4uLy4uLy4uLy4uL0NvbW1hbmRSZXF1ZXN0ZXInO1xuaW1wb3J0IHtFdmVudH0gZnJvbSAnLi4vLi4vLi4vLi4vZXZlbnRzL0V2ZW50JztcbmltcG9ydCB7Q29tbWFuZFR5cGVzLCBTdHJlYW1UeXBlcywgSGVhZFRvdWNoRXZlbnRzLCBBc3luY0NvbW1hbmRFdmVudH0gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5cbi8qKlxuICogQGNsYXNzIEhlYWRUb3VjaFRva2VuXG4gKiBAZXh0ZW5kcyBSZXF1ZXN0VG9rZW5cbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIEhlYWRUb3VjaFRva2VuIGV4dGVuZHMgUmVxdWVzdFRva2VuPEpJQk8udjEuSGVhZFRvdWNoUmVxdWVzdD4ge1xuXG4gICAgLyoqXG4gICAgICogT25lIG9yIG1vcmUgb2YgSmlibydzIHRvdWNocGFkIHNlbnNvcnMgd2FzIHRvdWNoZWQuIFxuICAgICAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9hcHAtdG9vbGtpdC5qaWJvLmNvbS9pbWFnZXMvSmlib0hlYWRTZW5zb3JzLnBuZ30gZm9yIGEgZGlhZ3JhbSBvZiB0aGUgbG9jYXRpb24gb2ZcbiAgICAgKiB0aGUgc2l4IHNlbnNvcnNcbiAgICAgKiBAbmFtZSBIZWFkVG91Y2hUb2tlbiNIZWFkVG91Y2hFdmVudFxuICAgICAqIEB0eXBlIHtFdmVudH1cbiAgICAgKi9cbiAgICBwdWJsaWMgdXBkYXRlOkV2ZW50PGJvb2xlYW5bXT47XG5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3Rvcihvd25lcjpDb21tYW5kUmVxdWVzdGVyLCBwcm90b2NvbDogSklCTy52MS5IZWFkVG91Y2hSZXF1ZXN0KSB7XG4gICAgICAgIHN1cGVyKG93bmVyLCBwcm90b2NvbCk7XG4gICAgICAgIHRoaXMudXBkYXRlID0gbmV3IEV2ZW50KCdVcGRhdGUgb2YgaGVhZCB0b3VjaCBzdGF0dXMnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVBY2soYWNrOkpJQk8udjEuQWNrbm93bGVkZ2VtZW50KSB7XG4gICAgICAgIC8vaGFuZGxlIGFja1xuICAgICAgICBpZiAoYWNrLlJlc3BvbnNlLlJlc3BvbnNlQ29kZSA+PSA0MDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoYWNrLlJlc3BvbnNlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGhhbmRsZUV2ZW50KGV2ZW50OkpJQk8udjEuRXZlbnRNZXNzYWdlKSB7XG4gICAgICAgIC8vaGFuZGxlIGV2ZW50XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBldmVudC5FdmVudEJvZHk7XG4gICAgICAgIHN3aXRjaCAobWVzc2FnZS5FdmVudCkge1xuICAgICAgICAgICAgY2FzZSBBc3luY0NvbW1hbmRFdmVudC5TdG9wOlxuICAgICAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fY29tcGxldGUucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBBc3luY0NvbW1hbmRFdmVudC5FcnJvcjpcbiAgICAgICAgICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBIZWFkVG91Y2hFdmVudHMuSGVhZFRvdWNoZWQ6XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUuZW1pdChtZXNzYWdlLlBhZHMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIEhlYWRUb3VjaCBjbGFzc1xuICogQGNsYXNzIENvbW1hbmRSZXF1ZXN0ZXIucGVyY2VwdGlvbi5zdWJzY3JpYmUuSGVhZFRvdWNoXG4gKiBAaW50ZG9jc1xuICovXG5leHBvcnQgY2xhc3MgSGVhZFRvdWNoIGV4dGVuZHMgUmVxdWVzdEFQSTxKSUJPLnYxLkhlYWRUb3VjaFJlcXVlc3QsIEhlYWRUb3VjaFRva2VuPiB7XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBIZWFkIFRvdWNoIFByb3RvY29sXG4gICAgICogQG1ldGhvZCBDb21tYW5kUmVxdWVzdGVyLnBlcmNlcHRpb24uc3Vic2NyaWJlLkhlYWRUb3VjaCNnZW5lcmF0ZVByb3RvY29sXG4gICAgICogQHJldHVybnMge0hlYWRUb3VjaFJlcXVlc3R9XG4gICAgICogQGludGRvY3NcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVQcm90b2NvbCgpOiBKSUJPLnYxLkhlYWRUb3VjaFJlcXVlc3Qge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVHlwZTogQ29tbWFuZFR5cGVzLlN1YnNjcmliZSxcbiAgICAgICAgICAgIFN0cmVhbVR5cGU6IFN0cmVhbVR5cGVzLkhlYWRUb3VjaCxcbiAgICAgICAgICAgIFN0cmVhbUZpbHRlcjoge30sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIEhlYWRUb3VjaFRva2VuIGZyb20gSGVhZFRvdWNoUmVxdWVzdCBwcm90b2NvbC5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIucGVyY2VwdGlvbi5zdWJzY3JpYmUuSGVhZFRvdWNoI2dlbmVyYXRlVG9rZW5cbiAgICAgKiBAcGFyYW0ge0hlYWRUb3VjaFJlcXVlc3R9IHByb3RvY29sIC0gSGVhZFRvdWNoUmVxdWVzdCBwcm90b2NvbCB0byBnZW5lcmF0ZSBhIEhlYWRUb3VjaFRva2VuIGZyb20uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW5kU2VuZD1mYWxzZV0gLSBgdHJ1ZWAgaWYgdGhlIGdlbmVyYXRlZCBIZWFkVG91Y2hUb2tlbiBzaG91bGQgYWxzbyBiZSBzZW50IGFzIGEgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtIZWFkVG91Y2hUb2tlbn1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVRva2VuKHByb3RvY29sOiBKSUJPLnYxLkhlYWRUb3VjaFJlcXVlc3QsIGFuZFNlbmQ9ZmFsc2UpOiBIZWFkVG91Y2hUb2tlbiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IEhlYWRUb3VjaFRva2VuKHRoaXMub3duZXIsIHByb3RvY29sKTtcbiAgICAgICAgaWYgKGFuZFNlbmQpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRUb2tlbih0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgSGVhZFRvdWNoVG9rZW4gcmVxdWVzdC5cbiAgICAgKiA8cD5OT1RFOiBJbXBsZW1lbnRhdGlvbiBpbiBiYXNlIGNsYXNzIHtAbGluayBSZXF1ZXN0QVBJfTwvcD5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIucGVyY2VwdGlvbi5zdWJzY3JpYmUuSGVhZFRvdWNoI3NlbmRUb2tlblxuICAgICAqIEBwYXJhbSB7SGVhZFRvdWNoVG9rZW59IHRva2VuIC0gSGVhZFRvdWNoVG9rZW4gdG8gc2VuZC5cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xufVxuIiwiaW1wb3J0IHtDb21tYW5kUmVxdWVzdGVyfSBmcm9tICcuLi8uLi8uLi8uLi9Db21tYW5kUmVxdWVzdGVyJztcbmltcG9ydCBSZXF1ZXN0QVBJIGZyb20gJy4uLy4uLy4uL1JlcXVlc3RBUEknO1xuaW1wb3J0IFJlcXVlc3RUb2tlbiBmcm9tICcuLi8uLi8uLi8uLi90b2tlbnMvUmVxdWVzdFRva2VuJztcbmltcG9ydCB7RXZlbnR9IGZyb20gJy4uLy4uLy4uLy4uL2V2ZW50cy9FdmVudCc7XG5pbXBvcnQge01vdGlvbkV2ZW50cywgQ29tbWFuZFR5cGVzLCBTdHJlYW1UeXBlc30gZnJvbSAnQGppYm8vY29tbWFuZC1wcm90b2NvbCc7XG5cbi8qKlxuICogQGNsYXNzIE1vdGlvblRva2VuXG4gKiBAZXh0ZW5kcyBSZXF1ZXN0VG9rZW5cbiAqIEBoaWRlY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGNsYXNzIE1vdGlvblRva2VuIGV4dGVuZHMgUmVxdWVzdFRva2VuPEpJQk8udjEuTW90aW9uUmVxdWVzdCwgbmV2ZXI+IHtcbiAgICAvKipcbiAgICAgKiBAbmFtZSBNb3Rpb25Ub2tlbiN1cGRhdGVcbiAgICAgKiBAdHlwZSB7RXZlbnR9XG4gICAgICovXG4gICAgcHVibGljIHVwZGF0ZTpFdmVudDxKSUJPLnYxLk1vdGlvbkVudGl0eVtdPjtcblxuICAgIGNvbnN0cnVjdG9yKG93bmVyOkNvbW1hbmRSZXF1ZXN0ZXIsIHByb3RvY29sOiBKSUJPLnYxLk1vdGlvblJlcXVlc3QpIHtcbiAgICAgICAgc3VwZXIob3duZXIsIHByb3RvY29sKTtcbiAgICAgICAgdGhpcy51cGRhdGUgPSBuZXcgRXZlbnQoJ1VwZGF0ZSBvZiBtb3Rpb24gZW50aXRpZXMnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBoYW5kbGVBY2soYWNrOkpJQk8udjEuQWNrbm93bGVkZ2VtZW50KSB7XG4gICAgICAgIGlmIChhY2suUmVzcG9uc2UuUmVzcG9uc2VDb2RlID49IDQwMCkge1xuICAgICAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlLnJlamVjdChhY2suUmVzcG9uc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwdWJsaWMgaGFuZGxlRXZlbnQoZXZlbnQ6SklCTy52MS5FdmVudE1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50LkV2ZW50Qm9keTtcbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLkV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlIE1vdGlvbkV2ZW50cy5Nb3Rpb25EZXRlY3RlZDpcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZS5lbWl0KG1lc3NhZ2UuTW90aW9ucyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgTW90aW9uIGNsYXNzXG4gKiBAY2xhc3MgQ29tbWFuZFJlcXVlc3Rlci5wZXJjZXB0aW9uLnN1YnNjcmliZS5Nb3Rpb25cbiAqIEBpbnRkb2NzXG4gKi9cbmV4cG9ydCBjbGFzcyBNb3Rpb24gZXh0ZW5kcyBSZXF1ZXN0QVBJPEpJQk8udjEuTW90aW9uUmVxdWVzdCwgTW90aW9uVG9rZW4+IHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIE1vdGlvbiBUcmFjayBQcm90b2NvbFxuICAgICAqIEBtZXRob2QgQ29tbWFuZFJlcXVlc3Rlci5wZXJjZXB0aW9uLnN1YnNjcmliZS5Nb3Rpb24jZ2VuZXJhdGVQcm90b2NvbFxuICAgICAqIEByZXR1cm5zIHtNb3Rpb25SZXF1ZXN0fVxuICAgICAqIEBpbnRkb2NzXG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlUHJvdG9jb2woKTogSklCTy52MS5Nb3Rpb25SZXF1ZXN0IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFR5cGU6IENvbW1hbmRUeXBlcy5TdWJzY3JpYmUsXG4gICAgICAgICAgICBTdHJlYW1UeXBlOiBTdHJlYW1UeXBlcy5Nb3Rpb24sXG4gICAgICAgICAgICBTdHJlYW1GaWx0ZXI6IHt9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIE1vdGlvblRva2VuIGZyb20gTW90aW9uUmVxdWVzdCBwcm90b2NvbC5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIucGVyY2VwdGlvbi5zdWJzY3JpYmUuTW90aW9uI2dlbmVyYXRlVG9rZW5cbiAgICAgKiBAcGFyYW0ge01vdGlvblJlcXVlc3R9IHByb3RvY29sIC0gTW90aW9uUmVxdWVzdCBwcm90b2NvbCB0byBnZW5lcmF0ZSBhIE1vdGlvblRva2VuIGZyb20uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbYW5kU2VuZD1mYWxzZV0gLSBgdHJ1ZWAgaWYgdGhlIGdlbmVyYXRlZCBNb3Rpb25Ub2tlbiBzaG91bGQgYWxzbyBiZSBzZW50IGFzIGEgcmVxdWVzdC5cbiAgICAgKiBAcmV0dXJuIHtNb3Rpb25Ub2tlbn1cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVRva2VuKHByb3RvY29sOiBKSUJPLnYxLk1vdGlvblJlcXVlc3QsIGFuZFNlbmQ9ZmFsc2UpOiBNb3Rpb25Ub2tlbiB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gbmV3IE1vdGlvblRva2VuKHRoaXMub3duZXIsIHByb3RvY29sKTtcbiAgICAgICAgaWYgKGFuZFNlbmQpIHtcbiAgICAgICAgICAgIHN1cGVyLnNlbmRUb2tlbih0b2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNlbmQgTW90aW9uVG9rZW4gcmVxdWVzdC5cbiAgICAgKiA8cD5OT1RFOiBJbXBsZW1lbnRhdGlvbiBpbiBiYXNlIGNsYXNzIHtAbGluayBSZXF1ZXN0QVBJfTwvcD5cbiAgICAgKiBAbWV0aG9kIENvbW1hbmRSZXF1ZXN0ZXIucGVyY2VwdGlvbi5zdWJzY3JpYmUuTW90aW9uI3NlbmRUb2tlblxuICAgICAqIEBwYXJhbSB7TW90aW9uVG9rZW59IHRva2VuIC0gTW90aW9uVG9rZW4gdG8gc2VuZC5cbiAgICAgKiBAaW50ZG9jc1xuICAgICAqL1xufSIsImltcG9ydCB7Z2VuZXJhdGVUcmFuc2FjdGlvbklEfSBmcm9tICcuLi8uLi9VVUlEJztcblxuXG4vKipcbiAqIEBuYW1lc3BhY2UgUmVxdWVzdGVyLnYyLmRpc3BsYXlcbiAqIEBpbnRkb2NzXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXNwbGF5IHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBEaXNwbGF5IFByb3RvY29sLiBTZWUgW1Bob2VuaXggUkNQXShodHRwczovL2dpdGh1Yi5qaWJvLmNvbS9waG9lbml4L2ppYm8tY29tbWFuZC1wcm90b2NvbCkgZm9yIGBKSUJPYCBkb2NzLlxuICAgICAqIEBtZXRob2QgUmVxdWVzdGVyLnYyLmRpc3BsYXkjZ2VuZXJhdGVQcm90b2NvbFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIC0gVW5pcXVlIG5hbWUgb2YgdGhlIERpc3BsYXkuXG4gICAgICogQHBhcmFtIHsoSklCTy52Mi5iZWhhdmlvcnMuRXllRGlzcGxheSB8IEpJQk8udjIuYmVoYXZpb3JzLk5vbmVEaXNwbGF5IHwgSklCTy52Mi5iZWhhdmlvcnMuTWVudURpc3BsYXkgfCBKSUJPLnYyLmJlaGF2aW9ycy5JbWFnZSB8IEpJQk8udjIuYmVoYXZpb3JzLlBob3RvR2FsbGVyeSB8IEpJQk8udjIuYmVoYXZpb3JzLkxvb3BNZW1iZXJzTWVudSB8IEpJQk8udjIuYmVoYXZpb3JzLlNraWxsRGlzcGxheSB8IEpJQk8udjIuYmVoYXZpb3JzLlRleHREaXNwbGF5KX0gdmlldyAtIFRoZSB2aWV3IHRvIGJlIGRpc3BsYXllZC5cbiAgICAgKiBAcGFyYW0geygwIHwgMSB8IDIgfCAzIHwgNCl9IGxheWVyIC0gV2hpY2ggbGF5ZXIgdGhlIERpc3BsYXkgd2lsbCBiZSBhY3RpdmUgb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSB2aXNpYmxlIC0gSWYgYHZpc2libGVgIGlzIGBmYWxzZWAsIHRoZSBkaXNwbGF5IHdpbGwgbm90IHNob3cgdW50aWwgYSBTaG93RGlzcGxheUFjdGlvbiBpcyBjYWxsZWQgb24gaXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBrZWVwRGlzcGxheSAtIElmIGBrZWVwRGlzcGxheWAgaXMgYHRydWVgLCB0aGUgZGlzcGxheSB3aWxsIHN0YXkgdXBvbiBjb21wbGV0aW9uIHVudGlsIHJlbW92ZWQgKD8pXG4gICAgICogQHBhcmFtIHtKSUJPLnYyLmJlaGF2aW9ycy5BY3Rpb25bXX0gb25DYW5jZWwgLSBBY3Rpb24gaGFuZGxlcnMgZm9yIHdoZW4gdGhlIERpc3BsYXkgaXMgY2FuY2VsbGVkLlxuICAgICAqIEBwYXJhbSB7KFwiZGltXCIgfCBcImNsZWFyXCIpfSBbb3ZlcmxheV0gLSBPdmVybGF5IG9wdGlvbnMgZm9yIHRoZSBEaXNwbGF5LlxuICAgICAqIEByZXR1cm5zIHtKSUJPLnYyLmJlaGF2aW9ycy5EaXNwbGF5fVxuICAgICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVByb3RvY29sKFxuICAgICAgICBuYW1lOiBzdHJpbmcsXG4gICAgICAgIHZpZXc6IEpJQk8udjIuYmVoYXZpb3JzLkV5ZURpc3BsYXkgfCBKSUJPLnYyLmJlaGF2aW9ycy5Ob25lRGlzcGxheSB8IEpJQk8udjIuYmVoYXZpb3JzLk1lbnVEaXNwbGF5IHwgSklCTy52Mi5iZWhhdmlvcnMuSW1hZ2UgfCBKSUJPLnYyLmJlaGF2aW9ycy5QaG90b0dhbGxlcnkgfCBKSUJPLnYyLmJlaGF2aW9ycy5Mb29wTWVtYmVyc01lbnUgfCBKSUJPLnYyLmJlaGF2aW9ycy5Ta2lsbERpc3BsYXkgfCBKSUJPLnYyLmJlaGF2aW9ycy5UZXh0RGlzcGxheSxcbiAgICAgICAgbGF5ZXI6IDAgfCAxIHwgMiB8IDMgfCA0LFxuICAgICAgICB2aXNpYmxlOiBib29sZWFuLFxuICAgICAgICBrZWVwRGlzcGxheTogYm9vbGVhbixcbiAgICAgICAgb25DYW5jZWw6IEpJQk8udjIuYmVoYXZpb3JzLkFjdGlvbltdLFxuICAgICAgICBvdmVybGF5PzogXCJkaW1cIiB8IFwiY2xlYXJcIlxuICAgICk6IEpJQk8udjIuYmVoYXZpb3JzLkRpc3BsYXkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlVHJhbnNhY3Rpb25JRCgpLFxuICAgICAgICAgICAgdHlwZTogXCJESVNQTEFZXCIsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdmlldyxcbiAgICAgICAgICAgIGxheWVyLFxuICAgICAgICAgICAgb3ZlcmxheSxcbiAgICAgICAgICAgIHZpc2libGUsXG4gICAgICAgICAgICBrZWVwRGlzcGxheSxcbiAgICAgICAgICAgIG9uQ2FuY2VsXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4iLCJpbXBvcnQge2dlbmVyYXRlVHJhbnNhY3Rpb25JRH0gZnJvbSAnLi4vLi4vVVVJRCc7XG5cblxuXG4vKipcbiAqIEBuYW1lc3BhY2UgUmVxdWVzdGVyLnYyLmxpc3RlblxuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGNsYXNzIExpc3RlbiB7XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgTGlzdGVuIFByb3RvY29sLiBTZWUgW1Bob2VuaXggUkNQXShodHRwczovL2dpdGh1Yi5qaWJvLmNvbS9waG9lbml4L2ppYm8tY29tbWFuZC1wcm90b2NvbCkgZm9yIGBKSUJPYCBkb2NzLlxuICAgICAqIEBtZXRob2QgUmVxdWVzdGVyLnYyLmxpc3RlbiNnZW5lcmF0ZVByb3RvY29sXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfHN0cmluZ1tdKX0gcnVsZUNvbnRleHQgLSBSb2J1c3QgUGFyc2VyIFJ1bGVzIC8gRGlhbG9nIEZsb3cgQWdlbnRzIHdlJ3JlIGxpc3RlbmluZyBmb3IuXG4gICAgICogQHBhcmFtIHtKSUJPLnYyLmJlaGF2aW9ycy5JbnRlbnRbXX0gaW50ZW50cyAtIERpYWxvZyBGbG93IGludGVudHNcbiAgICAgKiBAcmV0dXJucyB7SklCTy52Mi5iZWhhdmlvcnMuTGlzdGVufVxuICAgICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVByb3RvY29sKHJ1bGVzOiBzdHJpbmcgfCBzdHJpbmdbXSwgaW50ZW50cz86IEpJQk8udjIuYmVoYXZpb3JzLkludGVudFtdKTogSklCTy52Mi5iZWhhdmlvcnMuTGlzdGVuIHtcbiAgICAgICAgY29uc3QgY29udGV4dHMgPSBBcnJheS5pc0FycmF5KHJ1bGVzKSA/IHJ1bGVzIDogW3J1bGVzXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZVRyYW5zYWN0aW9uSUQoKSxcbiAgICAgICAgICAgIHR5cGU6IFwiTElTVEVOXCIsXG4gICAgICAgICAgICBjb250ZXh0cyxcbiAgICAgICAgICAgIGludGVudHNcbiAgICAgICAgfTtcbiAgICB9XG59IiwiaW1wb3J0IHtnZW5lcmF0ZVRyYW5zYWN0aW9uSUR9IGZyb20gJy4uLy4uL1VVSUQnO1xuXG5cblxuLyoqXG4gKiBAbmFtZXNwYWNlIFJlcXVlc3Rlci52Mi5wbGF5XG4gKiBAaW50ZG9jc1xuICovXG5leHBvcnQgY2xhc3MgUGxheSB7XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgUGxheSBQcm90b2NvbC4gU2VlIFtQaG9lbml4IFJDUF0oaHR0cHM6Ly9naXRodWIuamliby5jb20vcGhvZW5peC9qaWJvLWNvbW1hbmQtcHJvdG9jb2wpIGZvciBgSklCT2AgZG9jcy5cbiAgICAgKiBAbWV0aG9kIFJlcXVlc3Rlci52Mi5wbGF5I2dlbmVyYXRlUHJvdG9jb2xcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXNtbCAtIEVTTUwgc3RyaW5nIHRvIGJlIHNwb2tlbi5cbiAgICAgKiBAcGFyYW0geyhzdHJpbmd8T2JqZWN0KX0gW2NvbmZpZ10gLSBBdXRvUnVsZSBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBQbGF5IHJlcXVlc3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXSAtIFNwZWFrIG9wdGlvbnMgZm9yIHRoZSBQbGF5IHJlcXVlc3QuXG4gICAgICogQHJldHVybnMge0pJQk8udjIuYmVoYXZpb3JzLlBsYXl9XG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlUHJvdG9jb2woZXNtbDogc3RyaW5nLCBjb25maWc/OiBzdHJpbmcgfCBPYmplY3QsIG9wdGlvbnM/OiBPYmplY3QpOiBKSUJPLnYyLmJlaGF2aW9ycy5QbGF5IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZVRyYW5zYWN0aW9uSUQoKSxcbiAgICAgICAgICAgIHR5cGU6IFwiUExBWVwiLFxuICAgICAgICAgICAgYXV0b1J1bGVDb25maWc6IGNvbmZpZyxcbiAgICAgICAgICAgIHNwZWFrT3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgICAgIGVzbWxcbiAgICAgICAgfTtcbiAgICB9XG59IiwiaW1wb3J0IHtnZW5lcmF0ZVRyYW5zYWN0aW9uSUR9IGZyb20gJy4uLy4uL1VVSUQnO1xuXG5cbi8qKlxuICogQG5hbWVzcGFjZSBSZXF1ZXN0ZXIudjIuc2xpbVxuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGNsYXNzIFNMSU0ge1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIFNMSU0gUHJvdG9jb2wuIFNlZSBbUGhvZW5peCBSQ1BdKGh0dHBzOi8vZ2l0aHViLmppYm8uY29tL3Bob2VuaXgvamliby1jb21tYW5kLXByb3RvY29sKSBmb3IgYEpJQk9gIGRvY3MuXG4gICAgICogQG1ldGhvZCBSZXF1ZXN0ZXIudjIuc2xpbSNnZW5lcmF0ZVByb3RvY29sXG4gICAgICogQHBhcmFtIHtKSUJPLnYyLmJlaGF2aW9ycy5TTElNQ29uZmlnfSBjb25maWcgLSBXaGF0IGNvbXBvbmVudHMgd2lsbCBjb21wcmlzZSB0aGUgU0xJTS5cbiAgICAgKiBAcGFyYW0ge0pJQk8udjIuYmVoYXZpb3JzLlNMSU1PcHRpb25zfSBbb3B0aW9uc10gLSBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBTTElNLlxuICAgICAqIEByZXR1cm5zIHtKSUJPLnYyLmJlaGF2aW9ycy5TTElNfVxuICAgICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVByb3RvY29sKGNvbmZpZzogSklCTy52Mi5iZWhhdmlvcnMuU0xJTUNvbmZpZywgb3B0aW9ucz86IEpJQk8udjIuYmVoYXZpb3JzLlNMSU1PcHRpb25zKTogSklCTy52Mi5iZWhhdmlvcnMuU0xJTSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVUcmFuc2FjdGlvbklEKCksXG4gICAgICAgICAgICB0eXBlOiBcIlNMSU1cIixcbiAgICAgICAgICAgIGNvbmZpZyxcbiAgICAgICAgICAgIG9wdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG59IiwiaW1wb3J0IHsgZ2VuZXJhdGVUcmFuc2FjdGlvbklEIH0gZnJvbSAnLi4vLi4vLi4vVVVJRCc7XG5cblxuLyoqXG4gKiBAY2xhc3MgUmVxdWVzdGVyLnYyLmVtb3Rpb24uSW1wYWN0RW1vdGlvblxuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGNsYXNzIEltcGFjdEVtb3Rpb24ge1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIEltcGFjdEVtb3Rpb24gUHJvdG9jb2wuIFNlZSBbUGhvZW5peCBSQ1BdKGh0dHBzOi8vZ2l0aHViLmppYm8uY29tL3Bob2VuaXgvamliby1jb21tYW5kLXByb3RvY29sKSBmb3IgYEpJQk9gIGRvY3MuXG4gICAgICogQG1ldGhvZCBSZXF1ZXN0ZXIudjIuZW1vdGlvbi5JbXBhY3RFbW90aW9uI2dlbmVyYXRlUHJvdG9jb2xcbiAgICAgKiBAcGFyYW0geyhcIk5PTkVcIiB8IFwiTE9XX1BPU1wiIHwgXCJNRURJVU1fUE9TXCIgfCBcIkhJR0hfUE9TXCIgfCBcIkxPV19ORUdcIiB8IFwiTUVESVVNX05FR1wiIHwgXCJISUdIX05FR1wiKX0gW3ZhbGVuY2VdIC0gSW1wYWN0IHRoZSB2YWxlbmNlIGF4aXNcbiAgICAgKiBAcGFyYW0geyhcIk5PTkVcIiB8IFwiTE9XX1BPU1wiIHwgXCJNRURJVU1fUE9TXCIgfCBcIkhJR0hfUE9TXCIgfCBcIkxPV19ORUdcIiB8IFwiTUVESVVNX05FR1wiIHwgXCJISUdIX05FR1wiKX0gW2NvbmZpZGVuY2VdIC0gSW1wYWN0IHRoZSBjb25maWRlbmNlIGF4aXNcbiAgICAgKiBAcmV0dXJucyB7SklCTy52Mi5iZWhhdmlvcnMuSW1wYWN0RW1vdGlvbn1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVQcm90b2NvbChcbiAgICAgICAgdmFsZW5jZT86IFwiTk9ORVwiIHwgXCJMT1dfUE9TXCIgfCBcIk1FRElVTV9QT1NcIiB8IFwiSElHSF9QT1NcIiB8IFwiTE9XX05FR1wiIHwgXCJNRURJVU1fTkVHXCIgfCBcIkhJR0hfTkVHXCIsXG4gICAgICAgIGNvbmZpZGVuY2U/OiBcIk5PTkVcIiB8IFwiTE9XX1BPU1wiIHwgXCJNRURJVU1fUE9TXCIgfCBcIkhJR0hfUE9TXCIgfCBcIkxPV19ORUdcIiB8IFwiTUVESVVNX05FR1wiIHwgXCJISUdIX05FR1wiXG4gICAgKTogSklCTy52Mi5iZWhhdmlvcnMuSW1wYWN0RW1vdGlvbiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVUcmFuc2FjdGlvbklEKCksXG4gICAgICAgICAgICB0eXBlOiBcIklNUEFDVF9FTU9USU9OXCIsXG4gICAgICAgICAgICB2YWxlbmNlLFxuICAgICAgICAgICAgY29uZmlkZW5jZVxuICAgICAgICB9O1xuICAgIH1cbn0iLCIvKipcbiAqIEBuYW1lc3BhY2UgUmVxdWVzdGVyLnYyLmVtb3Rpb25cbiAqIEBpbnRkb2NzXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9JbXBhY3RFbW90aW9uJzsiLCJpbXBvcnQgKiBhcyBzdHJ1Y3R1cmFsIGZyb20gJy4vc3RydWN0dXJhbCc7XG5pbXBvcnQgKiBhcyBlbW90aW9uIGZyb20gJy4vZW1vdGlvbic7XG5pbXBvcnQgKiBhcyBwZXJjZXB0aW9uIGZyb20gJy4vcGVyY2VwdGlvbic7XG5pbXBvcnQgKiBhcyBwbGF5IGZyb20gJy4vUGxheSc7XG5pbXBvcnQgKiBhcyBsaXN0ZW4gZnJvbSAnLi9MaXN0ZW4nO1xuaW1wb3J0ICogYXMgZGlzcGxheSBmcm9tICcuL0Rpc3BsYXknO1xuaW1wb3J0ICogYXMgc2xpbSBmcm9tICcuL1NMSU0nO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBOYW1lc3BhY2UgZm9yIHRoZSB2MiBSQ1AgcHJvdG9jb2wuXG4gKiA8L2JyPiBTZWUgW1Bob2VuaXggUkNQXShodHRwczovL2dpdGh1Yi5qaWJvLmNvbS9waG9lbml4L2ppYm8tY29tbWFuZC1wcm90b2NvbCkgZm9yIGFsbCBgSklCT2AgZG9jcy5cbiAqIEBuYW1lc3BhY2UgUmVxdWVzdGVyLnYyXG4gKiBAaW50ZG9jc1xuICovXG5cbmV4cG9ydCB7XG4gICAgcGxheSxcbiAgICBsaXN0ZW4sXG4gICAgZGlzcGxheSxcbiAgICBzbGltLFxuICAgIHBlcmNlcHRpb24sXG4gICAgZW1vdGlvbixcbiAgICBzdHJ1Y3R1cmFsXG59O1xuIiwiaW1wb3J0IHsgZ2VuZXJhdGVUcmFuc2FjdGlvbklEIH0gZnJvbSAnLi4vLi4vLi4vVVVJRCc7XG5cblxuLyoqXG4gKiBAY2xhc3MgUmVxdWVzdGVyLnYyLnBlcmNlcHRpb24uU2V0UHJlc2VudFBlcnNvblxuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGNsYXNzIFNldFByZXNlbnRQZXJzb24ge1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIFNldFByZXNlbnRQZXJzb24gUHJvdG9jb2wuIFNlZSBbUGhvZW5peCBSQ1BdKGh0dHBzOi8vZ2l0aHViLmppYm8uY29tL3Bob2VuaXgvamliby1jb21tYW5kLXByb3RvY29sKSBmb3IgYEpJQk9gIGRvY3MuXG4gICAgICogQG1ldGhvZCBSZXF1ZXN0ZXIudjIucGVyY2VwdGlvbi5TZXRQcmVzZW50UGVyc29uI2dlbmVyYXRlUHJvdG9jb2xcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbG9vcGVySWQgLSBMb29wIG1lbWJlcidzIElEXG4gICAgICogQHBhcmFtIHsoXCJWT0lDRVwiIHwgXCJGQUNFXCIgfCBcIlVTRVJfT1ZFUlJJREVcIil9IHNvdXJjZSAtIFNvdXJjZSBvZiB0aGUgSURcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29uZmlkZW5jZSAtIENvbmZpZGVuY2UgbGV2ZWwgaW4gdGhpcyBjbGFpbSBvZiBwcmVzZW5jZVxuICAgICAqIEByZXR1cm5zIHtKSUJPLnYyLmJlaGF2aW9ycy5TZXRQcmVzZW50UGVyc29ufVxuICAgICAqL1xuICAgIHN0YXRpYyBnZW5lcmF0ZVByb3RvY29sKFxuICAgICAgICBsb29wZXJJZDogc3RyaW5nLFxuICAgICAgICBzb3VyY2U6IFwiVk9JQ0VcIiB8IFwiRkFDRVwiIHwgXCJVU0VSX09WRVJSSURFXCIsXG4gICAgICAgIGNvbmZpZGVuY2U6IG51bWJlclxuICAgICk6IEpJQk8udjIuYmVoYXZpb3JzLlNldFByZXNlbnRQZXJzb24ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IGdlbmVyYXRlVHJhbnNhY3Rpb25JRCgpLFxuICAgICAgICAgICAgdHlwZTogXCJTRVRfUFJFU0VOVF9QRVJTT05cIixcbiAgICAgICAgICAgIGxvb3BlcklkLFxuICAgICAgICAgICAgc291cmNlLFxuICAgICAgICAgICAgY29uZmlkZW5jZVxuICAgICAgICB9O1xuICAgIH1cbn0iLCIvKipcbiAqIEBuYW1lc3BhY2UgUmVxdWVzdGVyLnYyLnBlcmNlcHRpb25cbiAqIEBpbnRkb2NzXG4gKi9cblxuZXhwb3J0ICogZnJvbSAnLi9TZXRQcmVzZW50UGVyc29uJzsiLCJpbXBvcnQgeyBnZW5lcmF0ZVRyYW5zYWN0aW9uSUQgfSBmcm9tICcuLi8uLi8uLi9VVUlEJztcblxuXG4vKipcbiAqIEBjbGFzcyBSZXF1ZXN0ZXIudjIuc3RydWN0dXJhbC5QYXJhbGxlbFxuICogQGludGRvY3NcbiAqL1xuZXhwb3J0IGNsYXNzIFBhcmFsbGVsIHtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBQYXJhbGxlbCBQcm90b2NvbC4gU2VlIFtQaG9lbml4IFJDUF0oaHR0cHM6Ly9naXRodWIuamliby5jb20vcGhvZW5peC9qaWJvLWNvbW1hbmQtcHJvdG9jb2wpIGZvciBgSklCT2AgZG9jcy5cbiAgICAgKiBAbWV0aG9kIFJlcXVlc3Rlci52Mi5zdHJ1Y3R1cmFsLlBhcmFsbGVsI2dlbmVyYXRlUHJvdG9jb2xcbiAgICAgKiBAcGFyYW0ge0pJQk8udjIuYmVoYXZpb3JzLkJlaGF2aW9yW119IGJlaGF2aW9ycyAtIEJlaGF2aW9ycyB0byBleGVjdXRlIGluIHBhcmFsbGVsXG4gICAgICogQHBhcmFtIHtKSUJPLnYyLmJlaGF2aW9ycy5CZWhhdmlvcltdfSBbc3VjY2VlZE9uRmlyc3Q9ZmFsc2VdIC0gYHRydWVgIGlmIHRoZSBlbnRpcmUgYmVoYXZpb3Igc2hvdWxkIHN1Y2NlZWQgd2hlbiB0aGUgY2hpbGQgd2hvIHN1Y2VlZHMgZmlyc3QgZG9lcy5cbiAgICAgKiBAcmV0dXJucyB7SklCTy52Mi5iZWhhdmlvcnMuUGFyYWxsZWx9XG4gICAgICovXG4gICAgc3RhdGljIGdlbmVyYXRlUHJvdG9jb2woYmVoYXZpb3JzOiBKSUJPLnYyLmJlaGF2aW9ycy5CZWhhdmlvcltdLCBzdWNjZWVkT25GaXJzdD1mYWxzZSk6IEpJQk8udjIuYmVoYXZpb3JzLlBhcmFsbGVsIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZVRyYW5zYWN0aW9uSUQoKSxcbiAgICAgICAgICAgIHR5cGU6IFwiUEFSQUxMRUxcIixcbiAgICAgICAgICAgIGNoaWxkcmVuOiBiZWhhdmlvcnMsXG4gICAgICAgICAgICBzdWNjZWVkT25GaXJzdFxuICAgICAgICB9O1xuICAgIH1cbn0iLCJpbXBvcnQge2dlbmVyYXRlVHJhbnNhY3Rpb25JRH0gZnJvbSAnLi4vLi4vLi4vVVVJRCc7XG5cblxuLyoqXG4gKiBAY2xhc3MgUmVxdWVzdGVyLnYyLnN0cnVjdHVyYWwuU2VxdWVuY2VcbiAqIEBpbnRkb2NzXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXF1ZW5jZSB7XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgU2VxdWVuY2UgUHJvdG9jb2wuIFNlZSBbUGhvZW5peCBSQ1BdKGh0dHBzOi8vZ2l0aHViLmppYm8uY29tL3Bob2VuaXgvamliby1jb21tYW5kLXByb3RvY29sKSBmb3IgYEpJQk9gIGRvY3MuXG4gICAgICogQG1ldGhvZCBSZXF1ZXN0ZXIudjIuc3RydWN0dXJhbC5TZXF1ZW5jZSNnZW5lcmF0ZVByb3RvY29sXG4gICAgICogQHBhcmFtIHtKSUJPLnYyLmJlaGF2aW9ycy5CZWhhdmlvcltdfSBiZWhhdmlvcnMgLSBCZWhhdmlvcnMgdG8gZXhlY3V0ZSBpbiBzZXF1ZW5jZVxuICAgICAqIEByZXR1cm5zIHtKSUJPLnYyLmJlaGF2aW9ycy5TZXF1ZW5jZX1cbiAgICAgKi9cbiAgICBzdGF0aWMgZ2VuZXJhdGVQcm90b2NvbChiZWhhdmlvcnM6IEpJQk8udjIuYmVoYXZpb3JzLkJlaGF2aW9yW10pOiBKSUJPLnYyLmJlaGF2aW9ycy5TZXF1ZW5jZSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogZ2VuZXJhdGVUcmFuc2FjdGlvbklEKCksXG4gICAgICAgICAgICB0eXBlOiBcIlNFUVVFTkNFXCIsXG4gICAgICAgICAgICBjaGlsZHJlbjogYmVoYXZpb3JzXG4gICAgICAgIH07XG4gICAgfVxufSIsIi8qKlxuICogQG5hbWVzcGFjZSBSZXF1ZXN0ZXIudjIuc3RydWN0dXJhbFxuICogQGludGRvY3NcbiAqL1xuXG5leHBvcnQgKiBmcm9tICcuL1BhcmFsbGVsJztcbmV4cG9ydCAqIGZyb20gJy4vU2VxdWVuY2UnOyIsImltcG9ydCB7Q29tbWFuZFJlcXVlc3Rlcn0gZnJvbSAnLi4vQ29tbWFuZFJlcXVlc3Rlcic7XG5pbXBvcnQgRXh0ZXJuYWxQcm9taXNlIGZyb20gJy4uL3V0aWxzL0V4dGVybmFsUHJvbWlzZSc7XG5cbi8vYXMgVHlwZWRFdmVudHMgZnJvbSBqaWJvLXR5cGVkLWV2ZW50c1xuLyoqXG4gKiBFdmVyeSByZXF1ZXN0IGhhcyBhIHRva2VuIHdpdGggYSBjb21wbGV0aW9uIHByb21pc2UgYW5kIGFueSBldmVudHMgcmVsYXRpdmUgdG8gdGhhdCBjb21tYW5kLlxuICogQGNsYXNzIFJlcXVlc3RUb2tlblxuICovXG5leHBvcnQgZGVmYXVsdCBhYnN0cmFjdCBjbGFzcyBSZXF1ZXN0VG9rZW48QyBleHRlbmRzIEpJQk8udjEuQmFzZUNvbW1hbmQsIFJlc3VsdCA9IGFueT4ge1xuICAgIC8qKlxuICAgICAqIFByb3RvY29sIGRhdGEgdG8gYmUgc2VudCBhbG9uZyB0aGUgd2Vic29ja2V0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIHByb3RvY29sOkM7XG4gICAgLyoqXG4gICAgICogVW5pcXVlIGlkIGZvciB0aGlzIHJlcXVlc3QsIGFuZCBhbnkgcmVzcG9uc2VzIHRvIGl0LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIHJlcXVlc3RJZDpzdHJpbmc7XG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgZmxhZyBmb3IgdGhlIENvbW1hbmRSZXF1ZXN0ZXIgdG8ga25vdyB0aGF0IGl0IG5vIGxvbmdlciBuZWVkcyB0byB0cmFjayB0aGUgdG9rZW4uIE11c3RcbiAgICAgKiBiZSB1cGRhdGVkIGJ5IHN1YmNsYXNzZXMgd2hlbiBgY29tcGxldGVgIHJlc29sdmVzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGlzQ29tcGxldGU6Ym9vbGVhbjtcblxuICAgIC8qKlxuICAgICAqIEZvciBzdWJjbGFzc2VzIHRvIGtub3cgd2hlcmUgdG8gc2VuZCBjYW5jZWwgcmVxdWVzdHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBvd25lcjpDb21tYW5kUmVxdWVzdGVyO1xuXG4gICAgLy9wcm9iYWJseSBldmVyeW9uZSBuZWVkcyB0byBpbXBsZW1lbnQgdGhpcyBhIGxpdHRsZSBkaWZmZXJlbnQgLSByZXNvbHZlcyB3aGVuIGNvbW1hbmQgY29tcGxldGVzXG4gICAgLy9yZWplY3RzIGlmIGNvbW1hbmQgaXMgcmVqZWN0ZWQvaW50ZXJydXB0ZWRcbiAgICBwcm90ZWN0ZWQgX2NvbXBsZXRlOkV4dGVybmFsUHJvbWlzZTxSZXN1bHQ+O1xuXG4gICAgLy9zdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIHRvIHByb3ZpZGUgYSB0eXBlZCBwcm9taXNlXG4gICAgLyoqXG4gICAgICogUmVxdWVzdCBjb21wbGV0aW9uIHByb21pc2UuXG4gICAgICogQG1ldGhvZCBSZXF1ZXN0VG9rZW4jY29tcGxldGVcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0IGNvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29tcGxldGUucHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3Rvcihvd25lcjpDb21tYW5kUmVxdWVzdGVyLCBwcm90b2NvbDogQykge1xuICAgICAgICB0aGlzLm93bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMucHJvdG9jb2wgPSBwcm90b2NvbDtcbiAgICAgICAgdGhpcy5pc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2NvbXBsZXRlID0gbmV3IEV4dGVybmFsUHJvbWlzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbmNlbCB0aGUgcmVxdWVzdC5cbiAgICAgKiBAbWV0aG9kIFJlcXVlc3RUb2tlbiNjYW5jZWxcbiAgICAgKi9cbiAgICBwdWJsaWMgY2FuY2VsKCk6dm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jb21wbGV0ZS5yZWplY3QoKTtcblxuICAgICAgICAvL292ZXJ3cml0ZSB0aGUgcHJvdG9jb2wgZm9yIHRoaXMgdG9rZW4sIHRoZW4gc2VuZCB0aGUgcmVxdWVzdFxuICAgICAgICBjb25zdCBjYW5jZWw6SklCTy52MS5DYW5jZWxSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgVHlwZTogXCJDYW5jZWxcIixcbiAgICAgICAgICAgIElEOiB0aGlzLnJlcXVlc3RJZFxuICAgICAgICB9O1xuICAgICAgICAvLyBOZWVkIGEgdW5pcXVlIHJlcXVlc3RJZCBmb3IgdGhlIGNhbmNlbCBjb21tYW5kXG4gICAgICAgIHRoaXMub3duZXIuc2VuZFJlcXVlc3QoY2FuY2VsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBsaXN0ZW5lciBtZXRob2QgZm9yIGhhbmRsaW5nIHJlc3BvbnNlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHVibGljIGFic3RyYWN0IGhhbmRsZUFjayhkYXRhOkpJQk8udjEuQWNrbm93bGVkZ2VtZW50KTp2b2lkO1xuXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgbGlzdGVuZXIgbWV0aG9kIGZvciBoYW5kbGluZyByZXNwb25zZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHB1YmxpYyBhYnN0cmFjdCBoYW5kbGVFdmVudChkYXRhOkpJQk8udjEuRXZlbnRNZXNzYWdlKTp2b2lkO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXh0ZXJuYWxQcm9taXNlPFQ+IHtcbiAgICBwdWJsaWMgcmVzb2x2ZTogKGQ/OiBUKSA9PiBhbnk7XG4gICAgcHVibGljIHJlamVjdDogKGVycj86IGFueSkgPT4gYW55O1xuICAgIHB1YmxpYyBwcm9taXNlOiBQcm9taXNlPFQ+O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlPFQ+KChyZXMsIHJlaikgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gcmVzO1xuICAgICAgICAgICAgdGhpcy5yZWplY3QgPSByZWo7XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCJleHBvcnQge0NvbW1hbmRSZXF1ZXN0ZXJ9IGZyb20gJy4vQ29tbWFuZFJlcXVlc3Rlcic7XG5leHBvcnQgKiBmcm9tICcuL3JlcXVlc3RzJztcbmltcG9ydCAqIGFzIGVudW1zIGZyb20gJ0BqaWJvL2NvbW1hbmQtcHJvdG9jb2wnO1xuZXhwb3J0IHtlbnVtc307XG5leHBvcnQge0V2ZW50fSBmcm9tICcuL2V2ZW50cy9FdmVudCc7XG4iXX0="}